import{_ as N,a as k,b as G,c as S,d as A,e as C,f as I,g as E,h as P,i as z,j as B,k as L,l as U,m as D,n as M,o as J,p as O,q as T,r as q,s as K,t as R,u as F,v as $,w as W,x as Y,y as H,z as Q,A as V,B as X,C as Z,D as ee,E as se}from"./dispet galerija (9)-B60ISMr6.js";import{r as c,b as ae,c as te,j as e,L as m,a as re,B as le,aq as ie}from"./index-DLBpy-rp.js";import{g as oe,u as ne,c as ce}from"./posts-Dcqme5sD.js";import{M as _e}from"./MediaPicker-W4pEso4Y.js";import{B as ge}from"./badge-94i0MGdT.js";import{T as de}from"./trash-2-B_8Z3_Fb.js";import"./collapsible-CYunlVeP.js";import"./check-zzfYj5Eg.js";import"./chevron-right-fk8U8bjs.js";const pe=Object.assign({"/src/assets/gallery/dispet galerija (1).webp":N,"/src/assets/gallery/dispet galerija (10).webp":k,"/src/assets/gallery/dispet galerija (11).webp":G,"/src/assets/gallery/dispet galerija (12).webp":S,"/src/assets/gallery/dispet galerija (13).webp":A,"/src/assets/gallery/dispet galerija (14).webp":C,"/src/assets/gallery/dispet galerija (15).webp":I,"/src/assets/gallery/dispet galerija (16).webp":E,"/src/assets/gallery/dispet galerija (17).webp":P,"/src/assets/gallery/dispet galerija (18).webp":z,"/src/assets/gallery/dispet galerija (19).webp":B,"/src/assets/gallery/dispet galerija (2).webp":L,"/src/assets/gallery/dispet galerija (20).webp":U,"/src/assets/gallery/dispet galerija (21).webp":D,"/src/assets/gallery/dispet galerija (22).webp":M,"/src/assets/gallery/dispet galerija (23).webp":J,"/src/assets/gallery/dispet galerija (24).webp":O,"/src/assets/gallery/dispet galerija (25).webp":T,"/src/assets/gallery/dispet galerija (26).webp":q,"/src/assets/gallery/dispet galerija (27).webp":K,"/src/assets/gallery/dispet galerija (28).webp":R,"/src/assets/gallery/dispet galerija (29).webp":F,"/src/assets/gallery/dispet galerija (3).webp":$,"/src/assets/gallery/dispet galerija (30).webp":W,"/src/assets/gallery/dispet galerija (31).webp":Y,"/src/assets/gallery/dispet galerija (32).webp":H,"/src/assets/gallery/dispet galerija (4).webp":Q,"/src/assets/gallery/dispet galerija (5).webp":V,"/src/assets/gallery/dispet galerija (6).webp":X,"/src/assets/gallery/dispet galerija (7).webp":Z,"/src/assets/gallery/dispet galerija (8).webp":ee,"/src/assets/gallery/dispet galerija (9).webp":se}),u=Object.entries(pe).sort((n,l)=>{var _,o;const r=parseInt(((_=n[0].match(/\((\d+)\)/))==null?void 0:_[1])||"0"),i=parseInt(((o=l[0].match(/\((\d+)\)/))==null?void 0:o[1])||"0");return r-i}).map(([n,l],r)=>({id:`def-${r+1}`,src:l,alt:`Gallery image ${r+1}`})),f="config-gallery";function we(){const[n,l]=c.useState(null),[r,i]=c.useState([]),[_,o]=c.useState(!0),[v,p]=c.useState(!1),{toast:g}=ae();c.useEffect(()=>{x()},[]);const x=async()=>{o(!0);try{const t=(await oe()).find(a=>a.slug===f);if(t){l(t);const a=te(t.content.rendered);if(Array.isArray(a)&&a.length>0){i(a),o(!1);return}}i(u)}catch(s){console.error(s),i(u),g({title:"Greška",description:"Neuspješno učitavanje galerije.",variant:"destructive"})}finally{o(!1)}},b=async s=>{p(!0);const t=JSON.stringify(s);try{if(n)await ne(n.id,{content:t}),g({title:"Spremljeno",description:"Galerija je uspješno ažurirana."});else{const a=await ce({title:"System Config: Gallery",content:t,slug:f,status:"private"});l(a),g({title:"Kreirano",description:"Konfiguracija galerije je inicijalizirana."})}i(s)}catch(a){console.error(a),g({title:"Greška",description:"Pokušaj spremanja nije uspio.",variant:"destructive"})}finally{p(!1)}},y=s=>{const t=[];(Array.isArray(s)?s:[s]).forEach(d=>{var j;t.push({id:crypto.randomUUID(),src:d.source_url,alt:d.alt_text||((j=d.title)==null?void 0:j.rendered)||"Gallery Image"})});const w=[...r,...t];b(w)},h=s=>{if(!confirm("Jeste li sigurni da želite ukloniti ovu sliku?"))return;const t=r.filter(a=>a.id!==s);b(t)};return e.jsxs("div",{className:"space-y-10 animate-fade-in pb-20",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4 border-b border-slate-200/60 pb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl md:text-4xl font-black font-heading text-slate-900 tracking-tight uppercase",children:"GALERIJA"}),e.jsx("p",{className:"text-slate-500 text-sm md:text-lg font-medium mt-1",children:'Upravljajte slikama u "Dišpet u akciji" sekciji.'})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[v&&e.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-black uppercase text-primary animate-pulse mr-2",children:[e.jsx(m,{className:"w-4 h-4 animate-spin"}),"Spremanje..."]}),e.jsx(_e,{value:[],onChange:()=>{},onSelectMedia:y,multiple:!0})]})]}),_?e.jsxs("div",{className:"py-20 flex flex-col items-center justify-center gap-4",children:[e.jsx(m,{className:"w-10 h-10 animate-spin text-primary opacity-20"}),e.jsx("p",{className:"text-slate-400 font-black uppercase tracking-[0.2em] text-[10px]",children:"Učitavanje fotografija..."})]}):e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:[r.map(s=>e.jsxs(re,{className:"group relative aspect-square overflow-hidden border-none shadow-lg shadow-slate-200/40 bg-white rounded-[2.5rem] transition-all duration-500 hover:shadow-xl hover:shadow-primary/10 hover:-translate-y-1",children:[e.jsx("img",{src:s.src,alt:s.alt,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),e.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-all duration-500 flex items-end justify-between p-6",children:[e.jsx(ge,{className:"bg-white/20 backdrop-blur-md text-white border-none font-bold uppercase text-[9px] tracking-widest hidden sm:flex",children:"IMAGE"}),e.jsx(le,{variant:"destructive",size:"icon",onClick:()=>h(s.id),className:"h-10 w-10 rounded-full bg-orange-600 hover:bg-orange-500 border-none shadow-xl",children:e.jsx(de,{className:"w-4 h-4"})})]})]},s.id)),r.length===0&&e.jsxs("div",{className:"col-span-full py-40 text-center bg-white rounded-[3rem] border-2 border-dashed border-slate-100 flex flex-col items-center justify-center",children:[e.jsx("div",{className:"h-24 w-24 rounded-full bg-slate-50 flex items-center justify-center mb-6",children:e.jsx(ie,{className:"h-10 w-10 text-slate-200"})}),e.jsx("h3",{className:"text-xl font-black text-slate-900 uppercase tracking-tight",children:"Galerija je prazna"}),e.jsx("p",{className:"text-slate-400 font-medium mt-2",children:"Kliknite na gumb iznad za dodavanje fotografija."})]})]})]})}export{we as default};
