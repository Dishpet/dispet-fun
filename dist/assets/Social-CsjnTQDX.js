import{l as re,j as l,a as nt,ax as Ye,aL as at,r as W,ah as de,o as lt,g as ht,n as Ce,B as ee,L as ct,I as dt,a4 as oe}from"./index-CSj38plj.js";import{S as ut,r as Te,b as Ee,c as Me,s as ye,W as Oe,f as pt,T as ft,d as gt,e as je,g as ke}from"./tabs-C74zoy04.js";import{C as mt}from"./check-B2G0Veot.js";import{p as Ge}from"./index-QaRuI9Ab.js";import{T as vt}from"./textarea-CPlsg5z5.js";import{generateImageWithGemini as yt}from"./client-CotKAJKT.js";import{T as bt}from"./trash-2-DLglMK3D.js";import"./minus-B-WD5q2g.js";import"./palette-3neRvT9B.js";import"./clock-B7z8Y5wV.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=re("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=re("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=re("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=re("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=re("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=re("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]),St=[{id:"ig-square",name:"Square Post",width:1080,height:1080,platform:"instagram",icon:De,description:"Classic 1:1 format. Perfect for feed posts.",gradient:"from-purple-500 via-pink-500 to-orange-500"},{id:"ig-portrait",name:"Portrait (4:5)",width:1080,height:1350,platform:"instagram",icon:Ye,description:"Tall 4:5 format. Takes up more screen space.",gradient:"from-purple-500 via-pink-500 to-orange-500"},{id:"ig-story",name:"Story / Reel",width:1080,height:1920,platform:"instagram",icon:Xe,description:"Full screen 9:16. For Stories and Reels.",gradient:"from-purple-500 via-pink-500 to-orange-500"}],zt=[{id:"fb-landscape",name:"Landscape",width:1200,height:630,platform:"facebook",icon:xt,description:"Standard horizontal format. Best for shared links.",gradient:"from-blue-600 to-blue-400"},{id:"fb-portrait",name:"Portrait",width:1080,height:1350,platform:"facebook",icon:Xe,description:"Mobile-first vertical format.",gradient:"from-blue-600 to-blue-400"},{id:"fb-square",name:"Square",width:1080,height:1080,platform:"facebook",icon:De,description:"Versatile 1:1 format.",gradient:"from-blue-600 to-blue-400"}],Ae=({platform:t,selectedTemplateId:r,onSelect:e})=>{const i=t==="instagram"?St:zt;return l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(s=>{const o=r===s.id,n=s.width/s.height,a=s.icon||De;return l.jsxs(nt,{className:`
                            group relative overflow-hidden cursor-pointer transition-all duration-300 hover:shadow-strong
                            ${o?"ring-2 ring-primary border-primary shadow-medium":"border-border hover:border-primary/50"}
                        `,onClick:()=>e(s),children:[l.jsx("div",{className:`absolute -right-12 -top-12 w-32 h-32 bg-gradient-to-br ${s.gradient} opacity-10 rounded-full group-hover:scale-150 transition-transform duration-500 blur-2xl`}),l.jsxs("div",{className:"p-6 relative z-10 flex flex-col items-center text-center space-y-4",children:[l.jsx("div",{className:`
                                p-3 rounded-xl bg-gradient-to-br ${s.gradient} text-white shadow-lg
                                group-hover:scale-110 transition-transform duration-300
                            `,children:l.jsx(a,{className:"w-6 h-6"})}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("h3",{className:"font-sans font-bold text-lg text-foreground",children:s.name}),l.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:s.description})]}),l.jsx("div",{className:"w-full flex justify-center py-4",children:l.jsx("div",{className:"p-1 rounded-lg border-2 border-dashed border-gray-200 bg-gray-50/50 group-hover:border-primary/30 transition-colors",children:l.jsx("div",{className:`rounded bg-gradient-to-br ${s.gradient} opacity-20 group-hover:opacity-30 transition-opacity`,style:{width:"80px",height:`${80/n}px`}})})}),l.jsxs("div",{className:"inline-flex items-center text-xs font-mono text-muted-foreground bg-gray-100 px-2 py-1 rounded",children:[s.width,"px Ã— ",s.height,"px"]}),o&&l.jsx("div",{className:"absolute top-2 right-2 p-1 bg-primary text-white rounded-full shadow-lg",children:l.jsx(mt,{className:"w-3 h-3"})})]})]},s.id)})})};var ue={exports:{}},qe={};function Ke(t){var r,e,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t))for(r=0;r<t.length;r++)t[r]&&(e=Ke(t[r]))&&(i&&(i+=" "),i+=e);else for(r in t)t[r]&&(i&&(i+=" "),i+=r);return i}function $e(){for(var t,r,e=0,i="";e<arguments.length;)(t=arguments[e++])&&(r=Ke(t))&&(i&&(i+=" "),i+=r);return i}const Dt=Object.freeze(Object.defineProperty({__proto__:null,clsx:$e,default:$e},Symbol.toStringTag,{value:"Module"})),Nt=at(Dt);var A={},K={};Object.defineProperty(K,"__esModule",{value:!0});K.dontSetMe=Et;K.findInArray=Rt;K.int=Tt;K.isFunction=Pt;K.isNum=Ct;function Rt(t,r){for(let e=0,i=t.length;e<i;e++)if(r.apply(r,[t[e],e,t]))return t[e]}function Pt(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Function]"}function Ct(t){return typeof t=="number"&&!isNaN(t)}function Tt(t){return parseInt(t,10)}function Et(t,r,e){if(t[r])return new Error("Invalid prop ".concat(r," passed to ").concat(e," - do not set this, set it on the child."))}var Q={};Object.defineProperty(Q,"__esModule",{value:!0});Q.browserPrefixToKey=Ze;Q.browserPrefixToStyle=Mt;Q.default=void 0;Q.getPrefix=Ve;const be=["Moz","Webkit","O","ms"];function Ve(){var t;let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const e=(t=window.document)===null||t===void 0||(t=t.documentElement)===null||t===void 0?void 0:t.style;if(!e||r in e)return"";for(let i=0;i<be.length;i++)if(Ze(r,be[i])in e)return be[i];return""}function Ze(t,r){return r?"".concat(r).concat(Ot(t)):t}function Mt(t,r){return r?"-".concat(r.toLowerCase(),"-").concat(t):t}function Ot(t){let r="",e=!0;for(let i=0;i<t.length;i++)e?(r+=t[i].toUpperCase(),e=!1):t[i]==="-"?e=!0:r+=t[i];return r}Q.default=Ve();Object.defineProperty(A,"__esModule",{value:!0});A.addClassName=et;A.addEvent=_t;A.addUserSelectStyles=Gt;A.createCSSTransform=Bt;A.createSVGTransform=Ut;A.getTouch=It;A.getTouchIdentifier=Yt;A.getTranslation=Ne;A.innerHeight=Lt;A.innerWidth=Ft;A.matchesSelector=Qe;A.matchesSelectorAndParentsTo=kt;A.offsetXYFromParent=Ht;A.outerHeight=At;A.outerWidth=$t;A.removeClassName=tt;A.removeEvent=Wt;A.removeUserSelectStyles=Xt;var G=K,Le=jt(Q);function Je(t){if(typeof WeakMap!="function")return null;var r=new WeakMap,e=new WeakMap;return(Je=function(i){return i?e:r})(t)}function jt(t,r){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var e=Je(r);if(e&&e.has(t))return e.get(t);var i={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)){var n=s?Object.getOwnPropertyDescriptor(t,o):null;n&&(n.get||n.set)?Object.defineProperty(i,o,n):i[o]=t[o]}return i.default=t,e&&e.set(t,i),i}let ne="";function Qe(t,r){return ne||(ne=(0,G.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(e){return(0,G.isFunction)(t[e])})),(0,G.isFunction)(t[ne])?t[ne](r):!1}function kt(t,r,e){let i=t;do{if(Qe(i,r))return!0;if(i===e)return!1;i=i.parentNode}while(i);return!1}function _t(t,r,e,i){if(!t)return;const s={capture:!0,...i};t.addEventListener?t.addEventListener(r,e,s):t.attachEvent?t.attachEvent("on"+r,e):t["on"+r]=e}function Wt(t,r,e,i){if(!t)return;const s={capture:!0,...i};t.removeEventListener?t.removeEventListener(r,e,s):t.detachEvent?t.detachEvent("on"+r,e):t["on"+r]=null}function At(t){let r=t.clientHeight;const e=t.ownerDocument.defaultView.getComputedStyle(t);return r+=(0,G.int)(e.borderTopWidth),r+=(0,G.int)(e.borderBottomWidth),r}function $t(t){let r=t.clientWidth;const e=t.ownerDocument.defaultView.getComputedStyle(t);return r+=(0,G.int)(e.borderLeftWidth),r+=(0,G.int)(e.borderRightWidth),r}function Lt(t){let r=t.clientHeight;const e=t.ownerDocument.defaultView.getComputedStyle(t);return r-=(0,G.int)(e.paddingTop),r-=(0,G.int)(e.paddingBottom),r}function Ft(t){let r=t.clientWidth;const e=t.ownerDocument.defaultView.getComputedStyle(t);return r-=(0,G.int)(e.paddingLeft),r-=(0,G.int)(e.paddingRight),r}function Ht(t,r,e){const s=r===r.ownerDocument.body?{left:0,top:0}:r.getBoundingClientRect(),o=(t.clientX+r.scrollLeft-s.left)/e,n=(t.clientY+r.scrollTop-s.top)/e;return{x:o,y:n}}function Bt(t,r){const e=Ne(t,r,"px");return{[(0,Le.browserPrefixToKey)("transform",Le.default)]:e}}function Ut(t,r){return Ne(t,r,"")}function Ne(t,r,e){let{x:i,y:s}=t,o="translate(".concat(i).concat(e,",").concat(s).concat(e,")");if(r){const n="".concat(typeof r.x=="string"?r.x:r.x+e),a="".concat(typeof r.y=="string"?r.y:r.y+e);o="translate(".concat(n,", ").concat(a,")")+o}return o}function It(t,r){return t.targetTouches&&(0,G.findInArray)(t.targetTouches,e=>r===e.identifier)||t.changedTouches&&(0,G.findInArray)(t.changedTouches,e=>r===e.identifier)}function Yt(t){if(t.targetTouches&&t.targetTouches[0])return t.targetTouches[0].identifier;if(t.changedTouches&&t.changedTouches[0])return t.changedTouches[0].identifier}function Gt(t){if(!t)return;let r=t.getElementById("react-draggable-style-el");r||(r=t.createElement("style"),r.type="text/css",r.id="react-draggable-style-el",r.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,r.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,t.getElementsByTagName("head")[0].appendChild(r)),t.body&&et(t.body,"react-draggable-transparent-selection")}function Xt(t){if(t)try{if(t.body&&tt(t.body,"react-draggable-transparent-selection"),t.selection)t.selection.empty();else{const r=(t.defaultView||window).getSelection();r&&r.type!=="Caret"&&r.removeAllRanges()}}catch{}}function et(t,r){t.classList?t.classList.add(r):t.className.match(new RegExp("(?:^|\\s)".concat(r,"(?!\\S)")))||(t.className+=" ".concat(r))}function tt(t,r){t.classList?t.classList.remove(r):t.className=t.className.replace(new RegExp("(?:^|\\s)".concat(r,"(?!\\S)"),"g"),"")}var V={};Object.defineProperty(V,"__esModule",{value:!0});V.canDragX=Vt;V.canDragY=Zt;V.createCoreData=Qt;V.createDraggableData=ei;V.getBoundPosition=qt;V.getControlPosition=Jt;V.snapToGrid=Kt;var Y=K,ie=A;function qt(t,r,e){if(!t.props.bounds)return[r,e];let{bounds:i}=t.props;i=typeof i=="string"?i:ti(i);const s=Re(t);if(typeof i=="string"){const{ownerDocument:o}=s,n=o.defaultView;let a;if(i==="parent"?a=s.parentNode:a=o.querySelector(i),!(a instanceof n.HTMLElement))throw new Error('Bounds selector "'+i+'" could not find an element.');const c=a,h=n.getComputedStyle(s),g=n.getComputedStyle(c);i={left:-s.offsetLeft+(0,Y.int)(g.paddingLeft)+(0,Y.int)(h.marginLeft),top:-s.offsetTop+(0,Y.int)(g.paddingTop)+(0,Y.int)(h.marginTop),right:(0,ie.innerWidth)(c)-(0,ie.outerWidth)(s)-s.offsetLeft+(0,Y.int)(g.paddingRight)-(0,Y.int)(h.marginRight),bottom:(0,ie.innerHeight)(c)-(0,ie.outerHeight)(s)-s.offsetTop+(0,Y.int)(g.paddingBottom)-(0,Y.int)(h.marginBottom)}}return(0,Y.isNum)(i.right)&&(r=Math.min(r,i.right)),(0,Y.isNum)(i.bottom)&&(e=Math.min(e,i.bottom)),(0,Y.isNum)(i.left)&&(r=Math.max(r,i.left)),(0,Y.isNum)(i.top)&&(e=Math.max(e,i.top)),[r,e]}function Kt(t,r,e){const i=Math.round(r/t[0])*t[0],s=Math.round(e/t[1])*t[1];return[i,s]}function Vt(t){return t.props.axis==="both"||t.props.axis==="x"}function Zt(t){return t.props.axis==="both"||t.props.axis==="y"}function Jt(t,r,e){const i=typeof r=="number"?(0,ie.getTouch)(t,r):null;if(typeof r=="number"&&!i)return null;const s=Re(e),o=e.props.offsetParent||s.offsetParent||s.ownerDocument.body;return(0,ie.offsetXYFromParent)(i||t,o,e.props.scale)}function Qt(t,r,e){const i=!(0,Y.isNum)(t.lastX),s=Re(t);return i?{node:s,deltaX:0,deltaY:0,lastX:r,lastY:e,x:r,y:e}:{node:s,deltaX:r-t.lastX,deltaY:e-t.lastY,lastX:t.lastX,lastY:t.lastY,x:r,y:e}}function ei(t,r){const e=t.props.scale;return{node:r.node,x:t.state.x+r.deltaX/e,y:t.state.y+r.deltaY/e,deltaX:r.deltaX/e,deltaY:r.deltaY/e,lastX:t.state.x,lastY:t.state.y}}function ti(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}function Re(t){const r=t.findDOMNode();if(!r)throw new Error("<DraggableCore>: Unmounted during event!");return r}var pe={},fe={};Object.defineProperty(fe,"__esModule",{value:!0});fe.default=ii;function ii(){}Object.defineProperty(pe,"__esModule",{value:!0});pe.default=void 0;var xe=si(W),I=Pe(Ge),ri=Pe(de),B=A,Z=V,we=K,se=Pe(fe);function Pe(t){return t&&t.__esModule?t:{default:t}}function it(t){if(typeof WeakMap!="function")return null;var r=new WeakMap,e=new WeakMap;return(it=function(i){return i?e:r})(t)}function si(t,r){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var e=it(r);if(e&&e.has(t))return e.get(t);var i={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)){var n=s?Object.getOwnPropertyDescriptor(t,o):null;n&&(n.get||n.set)?Object.defineProperty(i,o,n):i[o]=t[o]}return i.default=t,e&&e.set(t,i),i}function U(t,r,e){return r=oi(r),r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}function oi(t){var r=ni(t,"string");return typeof r=="symbol"?r:String(r)}function ni(t,r){if(typeof t!="object"||t===null)return t;var e=t[Symbol.toPrimitive];if(e!==void 0){var i=e.call(t,r||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}const X={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let J=X.mouse,ge=class extends xe.Component{constructor(){super(...arguments),U(this,"dragging",!1),U(this,"lastX",NaN),U(this,"lastY",NaN),U(this,"touchIdentifier",null),U(this,"mounted",!1),U(this,"handleDragStart",r=>{if(this.props.onMouseDown(r),!this.props.allowAnyClick&&typeof r.button=="number"&&r.button!==0)return!1;const e=this.findDOMNode();if(!e||!e.ownerDocument||!e.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:i}=e;if(this.props.disabled||!(r.target instanceof i.defaultView.Node)||this.props.handle&&!(0,B.matchesSelectorAndParentsTo)(r.target,this.props.handle,e)||this.props.cancel&&(0,B.matchesSelectorAndParentsTo)(r.target,this.props.cancel,e))return;r.type==="touchstart"&&r.preventDefault();const s=(0,B.getTouchIdentifier)(r);this.touchIdentifier=s;const o=(0,Z.getControlPosition)(r,s,this);if(o==null)return;const{x:n,y:a}=o,c=(0,Z.createCoreData)(this,n,a);(0,se.default)("DraggableCore: handleDragStart: %j",c),(0,se.default)("calling",this.props.onStart),!(this.props.onStart(r,c)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,B.addUserSelectStyles)(i),this.dragging=!0,this.lastX=n,this.lastY=a,(0,B.addEvent)(i,J.move,this.handleDrag),(0,B.addEvent)(i,J.stop,this.handleDragStop))}),U(this,"handleDrag",r=>{const e=(0,Z.getControlPosition)(r,this.touchIdentifier,this);if(e==null)return;let{x:i,y:s}=e;if(Array.isArray(this.props.grid)){let a=i-this.lastX,c=s-this.lastY;if([a,c]=(0,Z.snapToGrid)(this.props.grid,a,c),!a&&!c)return;i=this.lastX+a,s=this.lastY+c}const o=(0,Z.createCoreData)(this,i,s);if((0,se.default)("DraggableCore: handleDrag: %j",o),this.props.onDrag(r,o)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const c=document.createEvent("MouseEvents");c.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(c)}return}this.lastX=i,this.lastY=s}),U(this,"handleDragStop",r=>{if(!this.dragging)return;const e=(0,Z.getControlPosition)(r,this.touchIdentifier,this);if(e==null)return;let{x:i,y:s}=e;if(Array.isArray(this.props.grid)){let c=i-this.lastX||0,h=s-this.lastY||0;[c,h]=(0,Z.snapToGrid)(this.props.grid,c,h),i=this.lastX+c,s=this.lastY+h}const o=(0,Z.createCoreData)(this,i,s);if(this.props.onStop(r,o)===!1||this.mounted===!1)return!1;const a=this.findDOMNode();a&&this.props.enableUserSelectHack&&(0,B.removeUserSelectStyles)(a.ownerDocument),(0,se.default)("DraggableCore: handleDragStop: %j",o),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,a&&((0,se.default)("DraggableCore: Removing handlers"),(0,B.removeEvent)(a.ownerDocument,J.move,this.handleDrag),(0,B.removeEvent)(a.ownerDocument,J.stop,this.handleDragStop))}),U(this,"onMouseDown",r=>(J=X.mouse,this.handleDragStart(r))),U(this,"onMouseUp",r=>(J=X.mouse,this.handleDragStop(r))),U(this,"onTouchStart",r=>(J=X.touch,this.handleDragStart(r))),U(this,"onTouchEnd",r=>(J=X.touch,this.handleDragStop(r)))}componentDidMount(){this.mounted=!0;const r=this.findDOMNode();r&&(0,B.addEvent)(r,X.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const r=this.findDOMNode();if(r){const{ownerDocument:e}=r;(0,B.removeEvent)(e,X.mouse.move,this.handleDrag),(0,B.removeEvent)(e,X.touch.move,this.handleDrag),(0,B.removeEvent)(e,X.mouse.stop,this.handleDragStop),(0,B.removeEvent)(e,X.touch.stop,this.handleDragStop),(0,B.removeEvent)(r,X.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,B.removeUserSelectStyles)(e)}}findDOMNode(){var r,e;return(r=this.props)!==null&&r!==void 0&&r.nodeRef?(e=this.props)===null||e===void 0||(e=e.nodeRef)===null||e===void 0?void 0:e.current:ri.default.findDOMNode(this)}render(){return xe.cloneElement(xe.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};pe.default=ge;U(ge,"displayName","DraggableCore");U(ge,"propTypes",{allowAnyClick:I.default.bool,children:I.default.node.isRequired,disabled:I.default.bool,enableUserSelectHack:I.default.bool,offsetParent:function(t,r){if(t[r]&&t[r].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:I.default.arrayOf(I.default.number),handle:I.default.string,cancel:I.default.string,nodeRef:I.default.object,onStart:I.default.func,onDrag:I.default.func,onStop:I.default.func,onMouseDown:I.default.func,scale:I.default.number,className:we.dontSetMe,style:we.dontSetMe,transform:we.dontSetMe});U(ge,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return c.default}}),t.default=void 0;var r=w(W),e=g(Ge),i=g(de),s=g(Nt),o=A,n=V,a=K,c=g(pe),h=g(fe);function g(u){return u&&u.__esModule?u:{default:u}}function x(u){if(typeof WeakMap!="function")return null;var p=new WeakMap,f=new WeakMap;return(x=function(m){return m?f:p})(u)}function w(u,p){if(u&&u.__esModule)return u;if(u===null||typeof u!="object"&&typeof u!="function")return{default:u};var f=x(p);if(f&&f.has(u))return f.get(u);var m={},R=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in u)if(b!=="default"&&Object.prototype.hasOwnProperty.call(u,b)){var _=R?Object.getOwnPropertyDescriptor(u,b):null;_&&(_.get||_.set)?Object.defineProperty(m,b,_):m[b]=u[b]}return m.default=u,f&&f.set(u,m),m}function z(){return z=Object.assign?Object.assign.bind():function(u){for(var p=1;p<arguments.length;p++){var f=arguments[p];for(var m in f)Object.prototype.hasOwnProperty.call(f,m)&&(u[m]=f[m])}return u},z.apply(this,arguments)}function S(u,p,f){return p=N(p),p in u?Object.defineProperty(u,p,{value:f,enumerable:!0,configurable:!0,writable:!0}):u[p]=f,u}function N(u){var p=O(u,"string");return typeof p=="symbol"?p:String(p)}function O(u,p){if(typeof u!="object"||u===null)return u;var f=u[Symbol.toPrimitive];if(f!==void 0){var m=f.call(u,p||"default");if(typeof m!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(u)}class C extends r.Component{static getDerivedStateFromProps(p,f){let{position:m}=p,{prevPropsPosition:R}=f;return m&&(!R||m.x!==R.x||m.y!==R.y)?((0,h.default)("Draggable: getDerivedStateFromProps %j",{position:m,prevPropsPosition:R}),{x:m.x,y:m.y,prevPropsPosition:{...m}}):null}constructor(p){super(p),S(this,"onDragStart",(f,m)=>{if((0,h.default)("Draggable: onDragStart: %j",m),this.props.onStart(f,(0,n.createDraggableData)(this,m))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),S(this,"onDrag",(f,m)=>{if(!this.state.dragging)return!1;(0,h.default)("Draggable: onDrag: %j",m);const R=(0,n.createDraggableData)(this,m),b={x:R.x,y:R.y,slackX:0,slackY:0};if(this.props.bounds){const{x:k,y:L}=b;b.x+=this.state.slackX,b.y+=this.state.slackY;const[P,j]=(0,n.getBoundPosition)(this,b.x,b.y);b.x=P,b.y=j,b.slackX=this.state.slackX+(k-b.x),b.slackY=this.state.slackY+(L-b.y),R.x=b.x,R.y=b.y,R.deltaX=b.x-this.state.x,R.deltaY=b.y-this.state.y}if(this.props.onDrag(f,R)===!1)return!1;this.setState(b)}),S(this,"onDragStop",(f,m)=>{if(!this.state.dragging||this.props.onStop(f,(0,n.createDraggableData)(this,m))===!1)return!1;(0,h.default)("Draggable: onDragStop: %j",m);const b={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:k,y:L}=this.props.position;b.x=k,b.y=L}this.setState(b)}),this.state={dragging:!1,dragged:!1,x:p.position?p.position.x:p.defaultPosition.x,y:p.position?p.position.y:p.defaultPosition.y,prevPropsPosition:{...p.position},slackX:0,slackY:0,isElementSVG:!1},p.position&&!(p.onDrag||p.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var p,f;return(p=(f=this.props)===null||f===void 0||(f=f.nodeRef)===null||f===void 0?void 0:f.current)!==null&&p!==void 0?p:i.default.findDOMNode(this)}render(){const{axis:p,bounds:f,children:m,defaultPosition:R,defaultClassName:b,defaultClassNameDragging:_,defaultClassNameDragged:k,position:L,positionOffset:P,scale:j,...d}=this.props;let D={},T=null;const v=!!!L||this.state.dragging,y=L||R,$={x:(0,n.canDragX)(this)&&v?this.state.x:y.x,y:(0,n.canDragY)(this)&&v?this.state.y:y.y};this.state.isElementSVG?T=(0,o.createSVGTransform)($,P):D=(0,o.createCSSTransform)($,P);const M=(0,s.default)(m.props.className||"",b,{[_]:this.state.dragging,[k]:this.state.dragged});return r.createElement(c.default,z({},d,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),r.cloneElement(r.Children.only(m),{className:M,style:{...m.props.style,...D},transform:T}))}}t.default=C,S(C,"displayName","Draggable"),S(C,"propTypes",{...c.default.propTypes,axis:e.default.oneOf(["both","x","y","none"]),bounds:e.default.oneOfType([e.default.shape({left:e.default.number,right:e.default.number,top:e.default.number,bottom:e.default.number}),e.default.string,e.default.oneOf([!1])]),defaultClassName:e.default.string,defaultClassNameDragging:e.default.string,defaultClassNameDragged:e.default.string,defaultPosition:e.default.shape({x:e.default.number,y:e.default.number}),positionOffset:e.default.shape({x:e.default.oneOfType([e.default.number,e.default.string]),y:e.default.oneOfType([e.default.number,e.default.string])}),position:e.default.shape({x:e.default.number,y:e.default.number}),className:a.dontSetMe,style:a.dontSetMe,transform:a.dontSetMe}),S(C,"defaultProps",{...c.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(qe);const{default:rt,DraggableCore:ai}=qe;ue.exports=rt;ue.exports.default=rt;ue.exports.DraggableCore=ai;var li=ue.exports;const hi=lt(li);var F=function(){return F=Object.assign||function(t){for(var r,e=1,i=arguments.length;e<i;e++){r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},F.apply(this,arguments)},Fe={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},He={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},ae={width:"20px",height:"20px",position:"absolute",zIndex:1},ci={top:F(F({},Fe),{top:"-5px"}),right:F(F({},He),{left:void 0,right:"-5px"}),bottom:F(F({},Fe),{top:void 0,bottom:"-5px"}),left:F(F({},He),{left:"-5px"}),topRight:F(F({},ae),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:F(F({},ae),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:F(F({},ae),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:F(F({},ae),{left:"-10px",top:"-10px",cursor:"nw-resize"})},di=W.memo(function(t){var r=t.onResizeStart,e=t.direction,i=t.children,s=t.replaceStyles,o=t.className,n=W.useCallback(function(h){r(h,e)},[r,e]),a=W.useCallback(function(h){r(h,e)},[r,e]),c=W.useMemo(function(){return F(F({position:"absolute",userSelect:"none"},ci[e]),s??{})},[s,e]);return l.jsx("div",{className:o||void 0,style:c,onMouseDown:n,onTouchStart:a,children:i})}),ui=function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(i[o]=s[o])},t(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(r,e);function i(){this.constructor=r}r.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),q=function(){return q=Object.assign||function(t){for(var r,e=1,i=arguments.length;e<i;e++){r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},q.apply(this,arguments)},pi={width:"auto",height:"auto"},le=function(t,r,e){return Math.max(Math.min(t,e),r)},Be=function(t,r,e){var i=Math.round(t/r);return i*r+e*(i-1)},te=function(t,r){return new RegExp(t,"i").test(r)},he=function(t){return!!(t.touches&&t.touches.length)},fi=function(t){return!!((t.clientX||t.clientX===0)&&(t.clientY||t.clientY===0))},Ue=function(t,r,e){e===void 0&&(e=0);var i=r.reduce(function(o,n,a){return Math.abs(n-t)<Math.abs(r[o]-t)?a:o},0),s=Math.abs(r[i]-t);return e===0||s<e?r[i]:t},Se=function(t){return t=t.toString(),t==="auto"||t.endsWith("px")||t.endsWith("%")||t.endsWith("vh")||t.endsWith("vw")||t.endsWith("vmax")||t.endsWith("vmin")?t:"".concat(t,"px")},ce=function(t,r,e,i){if(t&&typeof t=="string"){if(t.endsWith("px"))return Number(t.replace("px",""));if(t.endsWith("%")){var s=Number(t.replace("%",""))/100;return r*s}if(t.endsWith("vw")){var s=Number(t.replace("vw",""))/100;return e*s}if(t.endsWith("vh")){var s=Number(t.replace("vh",""))/100;return i*s}}return t},gi=function(t,r,e,i,s,o,n){return i=ce(i,t.width,r,e),s=ce(s,t.height,r,e),o=ce(o,t.width,r,e),n=ce(n,t.height,r,e),{maxWidth:typeof i>"u"?void 0:Number(i),maxHeight:typeof s>"u"?void 0:Number(s),minWidth:typeof o>"u"?void 0:Number(o),minHeight:typeof n>"u"?void 0:Number(n)}},mi=function(t){return Array.isArray(t)?t:[t,t]},vi=["as","ref","style","className","grid","gridGap","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],Ie="__resizable_base__",yi=function(t){ui(r,t);function r(e){var i,s,o,n,a=t.call(this,e)||this;return a.ratio=1,a.resizable=null,a.parentLeft=0,a.parentTop=0,a.resizableLeft=0,a.resizableRight=0,a.resizableTop=0,a.resizableBottom=0,a.targetLeft=0,a.targetTop=0,a.delta={width:0,height:0},a.appendBase=function(){if(!a.resizable||!a.window)return null;var c=a.parentNode;if(!c)return null;var h=a.window.document.createElement("div");return h.style.width="100%",h.style.height="100%",h.style.position="absolute",h.style.transform="scale(0, 0)",h.style.left="0",h.style.flex="0 0 100%",h.classList?h.classList.add(Ie):h.className+=Ie,c.appendChild(h),h},a.removeBase=function(c){var h=a.parentNode;h&&h.removeChild(c)},a.state={isResizing:!1,width:(s=(i=a.propsSize)===null||i===void 0?void 0:i.width)!==null&&s!==void 0?s:"auto",height:(n=(o=a.propsSize)===null||o===void 0?void 0:o.height)!==null&&n!==void 0?n:"auto",direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},a.onResizeStart=a.onResizeStart.bind(a),a.onMouseMove=a.onMouseMove.bind(a),a.onMouseUp=a.onMouseUp.bind(a),a}return Object.defineProperty(r.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"window",{get:function(){return!this.resizable||!this.resizable.ownerDocument?null:this.resizable.ownerDocument.defaultView},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||pi},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"size",{get:function(){var e=0,i=0;if(this.resizable&&this.window){var s=this.resizable.offsetWidth,o=this.resizable.offsetHeight,n=this.resizable.style.position;n!=="relative"&&(this.resizable.style.position="relative"),e=this.resizable.style.width!=="auto"?this.resizable.offsetWidth:s,i=this.resizable.style.height!=="auto"?this.resizable.offsetHeight:o,this.resizable.style.position=n}return{width:e,height:i}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"sizeStyle",{get:function(){var e=this,i=this.props.size,s=function(a){var c;if(typeof e.state[a]>"u"||e.state[a]==="auto")return"auto";if(e.propsSize&&e.propsSize[a]&&(!((c=e.propsSize[a])===null||c===void 0)&&c.toString().endsWith("%"))){if(e.state[a].toString().endsWith("%"))return e.state[a].toString();var h=e.getParentSize(),g=Number(e.state[a].toString().replace("px","")),x=g/h[a]*100;return"".concat(x,"%")}return Se(e.state[a])},o=i&&typeof i.width<"u"&&!this.state.isResizing?Se(i.width):s("width"),n=i&&typeof i.height<"u"&&!this.state.isResizing?Se(i.height):s("height");return{width:o,height:n}},enumerable:!1,configurable:!0}),r.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var e=this.appendBase();if(!e)return{width:0,height:0};var i=!1,s=this.parentNode.style.flexWrap;s!=="wrap"&&(i=!0,this.parentNode.style.flexWrap="wrap"),e.style.position="relative",e.style.minWidth="100%",e.style.minHeight="100%";var o={width:e.offsetWidth,height:e.offsetHeight};return i&&(this.parentNode.style.flexWrap=s),this.removeBase(e),o},r.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},r.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},r.prototype.componentDidMount=function(){if(!(!this.resizable||!this.window)){var e=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:e.flexBasis!=="auto"?e.flexBasis:void 0})}},r.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},r.prototype.createSizeForCssProperty=function(e,i){var s=this.propsSize&&this.propsSize[i];return this.state[i]==="auto"&&this.state.original[i]===e&&(typeof s>"u"||s==="auto")?"auto":e},r.prototype.calculateNewMaxFromBoundary=function(e,i){var s=this.props.boundsByDirection,o=this.state.direction,n=s&&te("left",o),a=s&&te("top",o),c,h;if(this.props.bounds==="parent"){var g=this.parentNode;g&&(c=n?this.resizableRight-this.parentLeft:g.offsetWidth+(this.parentLeft-this.resizableLeft),h=a?this.resizableBottom-this.parentTop:g.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds==="window"?this.window&&(c=n?this.resizableRight:this.window.innerWidth-this.resizableLeft,h=a?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(c=n?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),h=a?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return c&&Number.isFinite(c)&&(e=e&&e<c?e:c),h&&Number.isFinite(h)&&(i=i&&i<h?i:h),{maxWidth:e,maxHeight:i}},r.prototype.calculateNewSizeFromDirection=function(e,i){var s=this.props.scale||1,o=mi(this.props.resizeRatio||1),n=o[0],a=o[1],c=this.state,h=c.direction,g=c.original,x=this.props,w=x.lockAspectRatio,z=x.lockAspectRatioExtraHeight,S=x.lockAspectRatioExtraWidth,N=g.width,O=g.height,C=z||0,u=S||0;return te("right",h)&&(N=g.width+(e-g.x)*n/s,w&&(O=(N-u)/this.ratio+C)),te("left",h)&&(N=g.width-(e-g.x)*n/s,w&&(O=(N-u)/this.ratio+C)),te("bottom",h)&&(O=g.height+(i-g.y)*a/s,w&&(N=(O-C)*this.ratio+u)),te("top",h)&&(O=g.height-(i-g.y)*a/s,w&&(N=(O-C)*this.ratio+u)),{newWidth:N,newHeight:O}},r.prototype.calculateNewSizeFromAspectRatio=function(e,i,s,o){var n=this.props,a=n.lockAspectRatio,c=n.lockAspectRatioExtraHeight,h=n.lockAspectRatioExtraWidth,g=typeof o.width>"u"?10:o.width,x=typeof s.width>"u"||s.width<0?e:s.width,w=typeof o.height>"u"?10:o.height,z=typeof s.height>"u"||s.height<0?i:s.height,S=c||0,N=h||0;if(a){var O=(w-S)*this.ratio+N,C=(z-S)*this.ratio+N,u=(g-N)/this.ratio+S,p=(x-N)/this.ratio+S,f=Math.max(g,O),m=Math.min(x,C),R=Math.max(w,u),b=Math.min(z,p);e=le(e,f,m),i=le(i,R,b)}else e=le(e,g,x),i=le(i,w,z);return{newWidth:e,newHeight:i}},r.prototype.setBoundingClientRect=function(){var e=1/(this.props.scale||1);if(this.props.bounds==="parent"){var i=this.parentNode;if(i){var s=i.getBoundingClientRect();this.parentLeft=s.left*e,this.parentTop=s.top*e}}if(this.props.bounds&&typeof this.props.bounds!="string"){var o=this.props.bounds.getBoundingClientRect();this.targetLeft=o.left*e,this.targetTop=o.top*e}if(this.resizable){var n=this.resizable.getBoundingClientRect(),a=n.left,c=n.top,h=n.right,g=n.bottom;this.resizableLeft=a*e,this.resizableRight=h*e,this.resizableTop=c*e,this.resizableBottom=g*e}},r.prototype.onResizeStart=function(e,i){if(!(!this.resizable||!this.window)){var s=0,o=0;if(e.nativeEvent&&fi(e.nativeEvent)?(s=e.nativeEvent.clientX,o=e.nativeEvent.clientY):e.nativeEvent&&he(e.nativeEvent)&&(s=e.nativeEvent.touches[0].clientX,o=e.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable){var n=this.props.onResizeStart(e,i,this.resizable);if(n===!1)return}this.props.size&&(typeof this.props.size.height<"u"&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),typeof this.props.size.width<"u"&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio=="number"?this.props.lockAspectRatio:this.size.width/this.size.height;var a,c=this.window.getComputedStyle(this.resizable);if(c.flexBasis!=="auto"){var h=this.parentNode;if(h){var g=this.window.getComputedStyle(h).flexDirection;this.flexDir=g.startsWith("row")?"row":"column",a=c.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var x={original:{x:s,y:o,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:q(q({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(e.target).cursor||"auto"}),direction:i,flexBasis:a};this.setState(x)}},r.prototype.onMouseMove=function(e){var i=this;if(!(!this.state.isResizing||!this.resizable||!this.window)){if(this.window.TouchEvent&&he(e))try{e.preventDefault(),e.stopPropagation()}catch{}var s=this.props,o=s.maxWidth,n=s.maxHeight,a=s.minWidth,c=s.minHeight,h=he(e)?e.touches[0].clientX:e.clientX,g=he(e)?e.touches[0].clientY:e.clientY,x=this.state,w=x.direction,z=x.original,S=x.width,N=x.height,O=this.getParentSize(),C=gi(O,this.window.innerWidth,this.window.innerHeight,o,n,a,c);o=C.maxWidth,n=C.maxHeight,a=C.minWidth,c=C.minHeight;var u=this.calculateNewSizeFromDirection(h,g),p=u.newHeight,f=u.newWidth,m=this.calculateNewMaxFromBoundary(o,n);this.props.snap&&this.props.snap.x&&(f=Ue(f,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(p=Ue(p,this.props.snap.y,this.props.snapGap));var R=this.calculateNewSizeFromAspectRatio(f,p,{width:m.maxWidth,height:m.maxHeight},{width:a,height:c});if(f=R.newWidth,p=R.newHeight,this.props.grid){var b=Be(f,this.props.grid[0],this.props.gridGap?this.props.gridGap[0]:0),_=Be(p,this.props.grid[1],this.props.gridGap?this.props.gridGap[1]:0),k=this.props.snapGap||0,L=k===0||Math.abs(b-f)<=k?b:f,P=k===0||Math.abs(_-p)<=k?_:p;f=L,p=P}var j={width:f-z.width,height:p-z.height};if(this.delta=j,S&&typeof S=="string"){if(S.endsWith("%")){var d=f/O.width*100;f="".concat(d,"%")}else if(S.endsWith("vw")){var D=f/this.window.innerWidth*100;f="".concat(D,"vw")}else if(S.endsWith("vh")){var T=f/this.window.innerHeight*100;f="".concat(T,"vh")}}if(N&&typeof N=="string"){if(N.endsWith("%")){var d=p/O.height*100;p="".concat(d,"%")}else if(N.endsWith("vw")){var D=p/this.window.innerWidth*100;p="".concat(D,"vw")}else if(N.endsWith("vh")){var T=p/this.window.innerHeight*100;p="".concat(T,"vh")}}var E={width:this.createSizeForCssProperty(f,"width"),height:this.createSizeForCssProperty(p,"height")};this.flexDir==="row"?E.flexBasis=E.width:this.flexDir==="column"&&(E.flexBasis=E.height);var v=this.state.width!==E.width,y=this.state.height!==E.height,$=this.state.flexBasis!==E.flexBasis,M=v||y||$;M&&de.flushSync(function(){i.setState(E)}),this.props.onResize&&M&&this.props.onResize(e,w,this.resizable,j)}},r.prototype.onMouseUp=function(e){var i,s,o=this.state,n=o.isResizing,a=o.direction;o.original,!(!n||!this.resizable)&&(this.props.onResizeStop&&this.props.onResizeStop(e,a,this.resizable,this.delta),this.props.size&&this.setState({width:(i=this.props.size.width)!==null&&i!==void 0?i:"auto",height:(s=this.props.size.height)!==null&&s!==void 0?s:"auto"}),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:q(q({},this.state.backgroundStyle),{cursor:"auto"})}))},r.prototype.updateSize=function(e){var i,s;this.setState({width:(i=e.width)!==null&&i!==void 0?i:"auto",height:(s=e.height)!==null&&s!==void 0?s:"auto"})},r.prototype.renderResizer=function(){var e=this,i=this.props,s=i.enable,o=i.handleStyles,n=i.handleClasses,a=i.handleWrapperStyle,c=i.handleWrapperClass,h=i.handleComponent;if(!s)return null;var g=Object.keys(s).map(function(x){return s[x]!==!1?l.jsx(di,{direction:x,onResizeStart:e.onResizeStart,replaceStyles:o&&o[x],className:n&&n[x],children:h&&h[x]?h[x]:null},x):null});return l.jsx("div",{className:c,style:a,children:g})},r.prototype.render=function(){var e=this,i=Object.keys(this.props).reduce(function(n,a){return vi.indexOf(a)!==-1||(n[a]=e.props[a]),n},{}),s=q(q(q({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(s.flexBasis=this.state.flexBasis);var o=this.props.as||"div";return l.jsxs(o,q({style:s,className:this.props.className},i,{ref:function(n){n&&(e.resizable=n)},children:[this.state.isResizing&&l.jsx("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer()]}))},r.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],gridGap:[0,0],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},r}(W.PureComponent);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var ze=function(t,r){return ze=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var s in i)i.hasOwnProperty(s)&&(e[s]=i[s])},ze(t,r)};function bi(t,r){ze(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var H=function(){return H=Object.assign||function(r){for(var e,i=1,s=arguments.length;i<s;i++){e=arguments[i];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},H.apply(this,arguments)};function xi(t,r){var e={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&r.indexOf(i)<0&&(e[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)r.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(e[i[s]]=t[i[s]]);return e}var wi={width:"auto",height:"auto",display:"inline-block",position:"absolute",top:0,left:0},Si=function(t){return{bottom:t,bottomLeft:t,bottomRight:t,left:t,right:t,top:t,topLeft:t,topRight:t}},zi=function(t){bi(r,t);function r(e){var i=t.call(this,e)||this;return i.resizingPosition={x:0,y:0},i.offsetFromParent={left:0,top:0},i.resizableElement={current:null},i.originalPosition={x:0,y:0},i.state={resizing:!1,bounds:{top:0,right:0,bottom:0,left:0},maxWidth:e.maxWidth,maxHeight:e.maxHeight},i.onResizeStart=i.onResizeStart.bind(i),i.onResize=i.onResize.bind(i),i.onResizeStop=i.onResizeStop.bind(i),i.onDragStart=i.onDragStart.bind(i),i.onDrag=i.onDrag.bind(i),i.onDragStop=i.onDragStop.bind(i),i.getMaxSizesFromProps=i.getMaxSizesFromProps.bind(i),i}return r.prototype.componentDidMount=function(){this.updateOffsetFromParent();var e=this.offsetFromParent,i=e.left,s=e.top,o=this.getDraggablePosition(),n=o.x,a=o.y;this.draggable.setState({x:n-i,y:a-s}),this.forceUpdate()},r.prototype.getDraggablePosition=function(){var e=this.draggable.state,i=e.x,s=e.y;return{x:i,y:s}},r.prototype.getParent=function(){return this.resizable&&this.resizable.parentNode},r.prototype.getParentSize=function(){return this.resizable.getParentSize()},r.prototype.getMaxSizesFromProps=function(){var e=typeof this.props.maxWidth>"u"?Number.MAX_SAFE_INTEGER:this.props.maxWidth,i=typeof this.props.maxHeight>"u"?Number.MAX_SAFE_INTEGER:this.props.maxHeight;return{maxWidth:e,maxHeight:i}},r.prototype.getSelfElement=function(){return this.resizable&&this.resizable.resizable},r.prototype.getOffsetHeight=function(e){var i=this.props.scale;switch(this.props.bounds){case"window":return window.innerHeight/i;case"body":return document.body.offsetHeight/i;default:return e.offsetHeight}},r.prototype.getOffsetWidth=function(e){var i=this.props.scale;switch(this.props.bounds){case"window":return window.innerWidth/i;case"body":return document.body.offsetWidth/i;default:return e.offsetWidth}},r.prototype.onDragStart=function(e,i){this.props.onDragStart&&this.props.onDragStart(e,i);var s=this.getDraggablePosition();if(this.originalPosition=s,!!this.props.bounds){var o=this.getParent(),n=this.props.scale,a;if(this.props.bounds==="parent")a=o;else if(this.props.bounds==="body"){var c=o.getBoundingClientRect(),h=c.left,g=c.top,x=document.body.getBoundingClientRect(),w=-(h-o.offsetLeft*n-x.left)/n,z=-(g-o.offsetTop*n-x.top)/n,S=(document.body.offsetWidth-this.resizable.size.width*n)/n+w,N=(document.body.offsetHeight-this.resizable.size.height*n)/n+z;return this.setState({bounds:{top:z,right:S,bottom:N,left:w}})}else if(this.props.bounds==="window"){if(!this.resizable)return;var O=o.getBoundingClientRect(),C=O.left,u=O.top,p=-(C-o.offsetLeft*n)/n,f=-(u-o.offsetTop*n)/n,S=(window.innerWidth-this.resizable.size.width*n)/n+p,N=(window.innerHeight-this.resizable.size.height*n)/n+f;return this.setState({bounds:{top:f,right:S,bottom:N,left:p}})}else typeof this.props.bounds=="string"?a=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(a=this.props.bounds);if(!(!(a instanceof HTMLElement)||!(o instanceof HTMLElement))){var m=a.getBoundingClientRect(),R=m.left,b=m.top,_=o.getBoundingClientRect(),k=_.left,L=_.top,P=(R-k)/n,j=b-L;if(this.resizable){this.updateOffsetFromParent();var d=this.offsetFromParent;this.setState({bounds:{top:j-d.top,right:P+(a.offsetWidth-this.resizable.size.width)-d.left/n,bottom:j+(a.offsetHeight-this.resizable.size.height)-d.top,left:P-d.left/n}})}}}},r.prototype.onDrag=function(e,i){if(this.props.onDrag){var s=this.offsetFromParent,o=s.left,n=s.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDrag(e,H(H({},i),{x:i.x+o,y:i.y+n}));if(this.props.dragAxis==="x")return this.props.onDrag(e,H(H({},i),{x:i.x+o,y:this.originalPosition.y+n,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDrag(e,H(H({},i),{x:this.originalPosition.x+o,y:i.y+n,deltaX:0}))}},r.prototype.onDragStop=function(e,i){if(this.props.onDragStop){var s=this.offsetFromParent,o=s.left,n=s.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDragStop(e,H(H({},i),{x:i.x+o,y:i.y+n}));if(this.props.dragAxis==="x")return this.props.onDragStop(e,H(H({},i),{x:i.x+o,y:this.originalPosition.y+n,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDragStop(e,H(H({},i),{x:this.originalPosition.x+o,y:i.y+n,deltaX:0}))}},r.prototype.onResizeStart=function(e,i,s){e.stopPropagation(),this.setState({resizing:!0});var o=this.props.scale,n=this.offsetFromParent,a=this.getDraggablePosition();if(this.resizingPosition={x:a.x+n.left,y:a.y+n.top},this.originalPosition=a,this.props.bounds){var c=this.getParent(),h=void 0;this.props.bounds==="parent"?h=c:this.props.bounds==="body"?h=document.body:this.props.bounds==="window"?h=window:typeof this.props.bounds=="string"?h=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(h=this.props.bounds);var g=this.getSelfElement();if(g instanceof Element&&(h instanceof HTMLElement||h===window)&&c instanceof HTMLElement){var x=this.getMaxSizesFromProps(),w=x.maxWidth,z=x.maxHeight,S=this.getParentSize();if(w&&typeof w=="string")if(w.endsWith("%")){var N=Number(w.replace("%",""))/100;w=S.width*N}else w.endsWith("px")&&(w=Number(w.replace("px","")));if(z&&typeof z=="string")if(z.endsWith("%")){var N=Number(z.replace("%",""))/100;z=S.height*N}else z.endsWith("px")&&(z=Number(z.replace("px","")));var O=g.getBoundingClientRect(),C=O.left,u=O.top,p=this.props.bounds==="window"?{left:0,top:0}:h.getBoundingClientRect(),f=p.left,m=p.top,R=this.getOffsetWidth(h),b=this.getOffsetHeight(h),_=i.toLowerCase().endsWith("left"),k=i.toLowerCase().endsWith("right"),L=i.startsWith("top"),P=i.startsWith("bottom");if((_||L)&&this.resizable){var j=(C-f)/o+this.resizable.size.width;this.setState({maxWidth:j>Number(w)?w:j})}if(k||this.props.lockAspectRatio&&!_&&!L){var j=R+(f-C)/o;this.setState({maxWidth:j>Number(w)?w:j})}if((L||_)&&this.resizable){var j=(u-m)/o+this.resizable.size.height;this.setState({maxHeight:j>Number(z)?z:j})}if(P||this.props.lockAspectRatio&&!L&&!_){var j=b+(m-u)/o;this.setState({maxHeight:j>Number(z)?z:j})}}}else this.setState({maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight});this.props.onResizeStart&&this.props.onResizeStart(e,i,s)},r.prototype.onResize=function(e,i,s,o){var n=this,a={x:this.originalPosition.x,y:this.originalPosition.y},c=-o.width,h=-o.height,g=["top","left","topLeft","bottomLeft","topRight"];g.includes(i)&&(i==="bottomLeft"?a.x+=c:(i==="topRight"||(a.x+=c),a.y+=h));var x=this.draggable.state;(a.x!==x.x||a.y!==x.y)&&de.flushSync(function(){n.draggable.setState(a)}),this.updateOffsetFromParent();var w=this.offsetFromParent,z=this.getDraggablePosition().x+w.left,S=this.getDraggablePosition().y+w.top;this.resizingPosition={x:z,y:S},this.props.onResize&&this.props.onResize(e,i,s,o,{x:z,y:S})},r.prototype.onResizeStop=function(e,i,s,o){this.setState({resizing:!1});var n=this.getMaxSizesFromProps(),a=n.maxWidth,c=n.maxHeight;this.setState({maxWidth:a,maxHeight:c}),this.props.onResizeStop&&this.props.onResizeStop(e,i,s,o,this.resizingPosition)},r.prototype.updateSize=function(e){this.resizable&&this.resizable.updateSize({width:e.width,height:e.height})},r.prototype.updatePosition=function(e){this.draggable.setState(e)},r.prototype.updateOffsetFromParent=function(){var e=this.props.scale,i=this.getParent(),s=this.getSelfElement();if(!i||s===null)return{top:0,left:0};var o=i.getBoundingClientRect(),n=o.left,a=o.top,c=s.getBoundingClientRect(),h=this.getDraggablePosition(),g=i.scrollLeft,x=i.scrollTop;this.offsetFromParent={left:c.left-n+g-h.x*e,top:c.top-a+x-h.y*e}},r.prototype.render=function(){var e=this,i=this.props,s=i.disableDragging,o=i.style,n=i.dragHandleClassName,a=i.position,c=i.onMouseDown,h=i.onMouseUp,g=i.dragAxis,x=i.dragGrid,w=i.bounds,z=i.enableUserSelectHack,S=i.cancel,N=i.children;i.onResizeStart,i.onResize,i.onResizeStop,i.onDragStart,i.onDrag,i.onDragStop;var O=i.resizeHandleStyles,C=i.resizeHandleClasses,u=i.resizeHandleComponent,p=i.enableResizing,f=i.resizeGrid,m=i.resizeHandleWrapperClass,R=i.resizeHandleWrapperStyle,b=i.scale,_=i.allowAnyClick,k=i.dragPositionOffset,L=xi(i,["disableDragging","style","dragHandleClassName","position","onMouseDown","onMouseUp","dragAxis","dragGrid","bounds","enableUserSelectHack","cancel","children","onResizeStart","onResize","onResizeStop","onDragStart","onDrag","onDragStop","resizeHandleStyles","resizeHandleClasses","resizeHandleComponent","enableResizing","resizeGrid","resizeHandleWrapperClass","resizeHandleWrapperStyle","scale","allowAnyClick","dragPositionOffset"]),P=this.props.default?H({},this.props.default):void 0;delete L.default;var j=s||n?{cursor:"auto"}:{cursor:"move"},d=H(H(H({},wi),j),o),D=this.offsetFromParent,T=D.left,E=D.top,v;a&&(v={x:a.x-T,y:a.y-E});var y=this.state.resizing?void 0:v,$=this.state.resizing?"both":g;return W.createElement(hi,{ref:function(M){M&&(e.draggable=M)},handle:n?".".concat(n):void 0,defaultPosition:P,onMouseDown:c,onMouseUp:h,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,axis:$,disabled:s,grid:x,bounds:w?this.state.bounds:void 0,position:y,enableUserSelectHack:z,cancel:S,scale:b,allowAnyClick:_,nodeRef:this.resizableElement,positionOffset:k},W.createElement(yi,H({},L,{ref:function(M){M&&(e.resizable=M,e.resizableElement.current=M.resizable)},defaultSize:P,size:this.props.size,enable:typeof p=="boolean"?Si(p):p,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,style:d,minWidth:this.props.minWidth,minHeight:this.props.minHeight,maxWidth:this.state.resizing?this.state.maxWidth:this.props.maxWidth,maxHeight:this.state.resizing?this.state.maxHeight:this.props.maxHeight,grid:f,handleWrapperClass:m,handleWrapperStyle:R,lockAspectRatio:this.props.lockAspectRatio,lockAspectRatioExtraWidth:this.props.lockAspectRatioExtraWidth,lockAspectRatioExtraHeight:this.props.lockAspectRatioExtraHeight,handleStyles:O,handleClasses:C,handleComponent:u,scale:this.props.scale}),N))},r.defaultProps={maxWidth:Number.MAX_SAFE_INTEGER,maxHeight:Number.MAX_SAFE_INTEGER,scale:1,onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},onDragStart:function(){},onDrag:function(){},onDragStop:function(){}},r}(W.PureComponent);const Di=({template:t,onBack:r})=>{var j;const[e,i]=W.useState([]),[s,o]=W.useState(null),[n,a]=W.useState(null),[c,h]=W.useState(!1),[g,x]=W.useState(!0),[w,z]=W.useState(""),[S,N]=W.useState("cartoon"),O=W.useRef(null),C=W.useRef(null),[u,p]=W.useState(.5);W.useEffect(()=>{p(.6)},[]);const f=async d=>new Promise((D,T)=>{const E=new Image;E.crossOrigin="anonymous",E.onload=()=>{const v=document.createElement("canvas");v.width=E.width,v.height=E.height;const y=v.getContext("2d");if(!y){T(new Error("Failed to get canvas context"));return}y.drawImage(E,0,0),D(v.toDataURL("image/png"))},E.onerror=()=>T(new Error(`Failed to load image: ${d}`)),E.src=d}),m=async()=>{h(!0),oe.info("Nano Banana Pro is designing your post...");try{console.log("ðŸ–¼ï¸ Converting reference images to base64...");const d=[Te,Ee,Me],D=await Promise.all(d.map(ve=>f(ve)));console.log(`âœ… Converted ${D.length} reference images to base64 (Headshot first)`);const T=ye.find(ve=>ve.id===S),E=(T==null?void 0:T.name)||"Cartoon",v=`${t.width}x${t.height}`,y=t.width>t.height?"landscape":t.width<t.height?"portrait":"square",$=w||"striking a fun, energetic pose, looking happy and playful",M=`
ðŸŽ­ MASCOT CHARACTER "ROKO":
âš ï¸ MOST CRITICAL: The character's EXACT appearance is provided in the attached 3 reference images. 
ðŸ“¸ IMAGE 1 is the FACE reference. IMAGES 2-3 are for character/outfit reference.
Copy EXACT facial features from IMAGE 1 (Headshot). The face is the character's identity - get it EXACTLY right.
ðŸš« IMPORTANT: DO NOT include any shop logos, text emblems, or specific branding designs (like logo-5) that may be visible in the reference images. The character should have CLEAN clothing without any specific shop designs.
DO NOT use generic animal data. Roko is a character exactly as shown in references.
            `,me={"no-style":`Create a high-resolution version of the mascot character (ROKO) ${$} in a ${y} format (${v}). Focus purely on the character's likeness and the requested action.

${M}`,anime:`Create a high-resolution, print-ready illustration of the mascot character (ROKO) ${$} in a ${y} format (${v}). Use clean vector shapes, bold outlines, energetic anime effects, cel-shaded coloring, motion streaks, and vibrant color accents.

The design should have a clear silhouette and strong central composition suitable for apparel printing.

Use professional print-design aesthetics similar to premium streetwear, character-based graphics, or modern pop-anime poster styles.

ANIME STYLE
${M}

Design requirements:
â€¢ ${y} format (${v})
â€¢ Anime-style effects, speed lines, glow accents`,synthwave:`Create a high-resolution, print-ready illustration of the mascot character (ROKO) ${$} in a ${y} format (${v}). Use clean vector shapes, bold outlines, neon gradients, retro 80s colors, gridlines, glowing geometric fragments, and synthwave sun elements.

The design should have a clear silhouette and strong central composition suitable for apparel printing.

Use professional print-design aesthetics similar to premium streetwear, neon-retro artwork, or modern synthwave poster design.

SYNTHWAVE STYLE
${M}

Design requirements:
â€¢ ${y} format (${v})
â€¢ Neon, chrome, and synthwave design elements`,gta:`Create a high-resolution, print-ready illustration of the mascot character (ROKO) ${$} in a ${y} format (${v}). Use clean vector shapes, bold outlines, flat comic-cell shading, sharp color blocks, and minimal background elements inspired by GTA loading screen artwork.

The design should have a clear silhouette and strong central composition suitable for apparel printing.

Use professional print-design aesthetics similar to premium streetwear or stylized GTA poster graphics.

GTA STYLE
${M}

Design requirements:
â€¢ ${y} format (${v})
â€¢ GTA-style shading, poster elements, and color blocking
â€¢ Balanced contrast and strong outlines`,cyberpunk:`Create a high-resolution, print-ready illustration of the mascot character (ROKO) ${$} in a ${y} format (${v}). Use clean vector shapes, bold outlines, holographic glows, neon lighting, electric fragments, cybernetic accents, and futuristic color palettes.

The design should have a clear silhouette and strong central composition suitable for apparel printing.

Use professional print-design aesthetics similar to futuristic streetwear or modern neon cyberpunk posters.

CYBERPUNK STYLE
${M}

Design requirements:
â€¢ ${y} format (${v})
â€¢ Cyberpunk neon, holographic shapes, electric effects`,cartoon:`Create a high-resolution, print-ready illustration of the mascot character (ROKO) ${$} in a ${y} format (${v}). Use clean vector shapes, bold outlines, playful cartoon features, graffiti splashes, fun geometric fragments, and colorful dynamic highlights.

The design should have a clear silhouette and strong central composition suitable for apparel printing.

Use professional print-design aesthetics similar to premium mascot logos or modern cartoon streetwear graphics.

CARTOON MASCOT STYLE
${M}

Design requirements:
â€¢ ${y} format (${v})
â€¢ Cartoon-style exaggeration, graffiti accents`,"3d":`Create a high-resolution, print-ready illustration of the mascot character (ROKO) ${$} in a ${y} format (${v}). Use clean vector-inspired 3D shapes, bold outlines, soft cinematic lighting, glossy materials, and stylized shading.

The design should have a clear silhouette and strong central composition suitable for apparel printing.

Use professional print-design aesthetics similar to collectible 3D figurines or stylized 3D streetwear graphics.

3D STYLIZED STYLE
${M}

Design requirements:
â€¢ ${y} format (${v})
â€¢ Stylized 3D lighting and smooth materials`,retro:`Create a high-resolution, print-ready illustration of the mascot character (ROKO) ${$} in a ${y} format (${v}). Use clean vector shapes, bold outlines, muted retro color palettes, halftone textures, and vintage geometric fragments.

The design should have a clear silhouette and strong central composition suitable for apparel printing.

Use professional print-design aesthetics inspired by classic vintage posters and retro streetwear.

RETRO / VINTAGE STYLE
${M}

Design requirements:
â€¢ ${y} format (${v})
â€¢ Retro halftones, muted colors, vintage poster shapes`,inkpunk:`Create a high-resolution, print-ready illustration of the mascot character (ROKO) ${$} in a ${y} format (${v}). Use clean vector shapes, bold outlines, aggressive ink strokes, splashes, neon drips, expressive brush fragments, and chaotic graffiti elements.

The design should have a clear silhouette and strong central composition suitable for apparel printing.

Use professional print-design aesthetics inspired by expressive inkpunk and street-art fusion posters.

INKPUNK STYLE
${M}

Design requirements:
â€¢ ${y} format (${v})
â€¢ Ink strokes, splatters, drips, neon graffiti chaos`,steampunk:`Create a high-resolution, print-ready illustration of the mascot character (ROKO) ${$} in a ${y} format (${v}). Use clean vector shapes, bold outlines, brass and copper tones, gears, goggles, mechanical fragments, and Victorian-inspired steampunk design elements.

The design should have a clear silhouette and strong central composition suitable for apparel printing.

Use professional print-design aesthetics similar to premium steampunk fashion and mechanical poster art.

STEAMPUNK STYLE
${M}

Design requirements:
â€¢ ${y} format (${v})
â€¢ Steampunk gears, pipes, goggles, metallic textures`,noir:`Create a high-resolution, print-ready illustration of the mascot character (ROKO) ${$} in a ${y} format (${v}). Use clean vector shapes, bold outlines, heavy noir shadows, moody lighting, limited palette (black, white, red), and gritty comic-style textures.

The design should have a clear silhouette and strong central composition suitable for apparel printing.

Use professional print-design aesthetics inspired by noir graphic novels and dark comic posters.

NOIR / DARK COMIC STYLE
${M}

Design requirements:
â€¢ ${y} format (${v})
â€¢ Noir shadows, dramatic lighting, gritty comic shading`,fantasy:`Create a high-resolution, print-ready illustration of the mascot character (ROKO) ${$} in a ${y} format (${v}). Use clean vector shapes, bold outlines, magical glows, enchanted particles, ornate fantasy fragments, and dramatic lighting.

The design should have a clear silhouette and strong central composition suitable for apparel printing.

Use professional print-design aesthetics similar to heroic fantasy posters and RPG character art.

FANTASY / RPG STYLE
${M}

Design requirements:
â€¢ ${y} format (${v})
â€¢ Magical particles, glowing runes, fantasy lighting`,minimalist:`Create a high-resolution, print-ready illustration of the mascot character (ROKO) ${$} in a ${y} format (${v}). Use clean geometric vector shapes, bold outlines, smooth curves, limited color palette, and modern design fragments.

The design should have a clear silhouette and strong central composition suitable for apparel printing.

Use professional print-design aesthetics similar to minimalist vector posters and premium logo-style art.

MINIMALIST MODERN VECTOR STYLE
${M}

Design requirements:
â€¢ ${y} format (${v})
â€¢ Minimal geometric shapes, clean flat colors`,"abstract-geometry":`Create a stunning, high-resolution social media illustration of the mascot character (ROKO) ${$} in a ${y} format (${v}). Surround the mascot character with a dynamic explosion of abstract shapes, colorful liquid splashes, sharp geometric fragments, stars, and vibrant decorative particles. Style reference: explosive, colorful, high-contrast liquid-geometric fusion. 

The design should have a clear silhouette and strong central composition suitable for social media.

ABSTRACT SHAPES & GEOMETRY STYLE
${M}

Design requirements:
â€¢ ${y} format (${v})
â€¢ Abstract geometric fragments, shards, and layered shapes`},st=`You are a professional social media designer.

${me[S]||me.cartoon}

âš ï¸ IMPORTANT:
- Output dimensions: ${v}
- Maintain professional composition suitable for social media text overlays`,ot=await yt(st,"{prompt}",D);a(ot),oe.success("Background Generated!")}catch(d){console.error("Generation failed:",d),oe.error("Failed to generate design. Try again.")}finally{h(!1)}},R=()=>{if(!n){oe.error("Generate a design first!");return}const d={id:crypto.randomUUID(),type:"text",content:"New Text",x:50,y:50,width:300,height:100,fontSize:48,fontFamily:"DynaPuff",color:"#FFFFFF",zIndex:e.length+2};i([...e,d]),o(d.id)},b=d=>{const D={id:crypto.randomUUID(),type:"image",content:d,x:100,y:100,width:400,height:400,zIndex:e.length+2};i([...e,D]),o(D.id)},_=d=>{var E;const D=(E=d.target.files)==null?void 0:E[0];if(!D)return;const T=new FileReader;T.onload=v=>{var y;(y=v.target)!=null&&y.result&&b(v.target.result)},T.readAsDataURL(D)},k=(d,D)=>{i(e.map(T=>T.id===d?{...T,...D}:T))},L=d=>{i(e.filter(D=>D.id!==d)),s===d&&o(null)},P=e.find(d=>d.id===s);return l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 h-[calc(100vh-140px)]",children:[l.jsxs("div",{className:"lg:col-span-1 border rounded-xl bg-white p-4 space-y-6 overflow-y-auto shadow-sm h-full flex flex-col",children:[l.jsxs("div",{className:"space-y-4 p-4 bg-gray-50 rounded-xl border",children:[l.jsxs("h3",{className:"font-bold flex items-center gap-2",children:[l.jsx(ut,{className:"w-4 h-4 text-primary"}),"Design Generator"]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(vt,{placeholder:"What should Roko do? (e.g. playing guitar)",className:"h-20 text-xs resize-none bg-white font-sans",value:w,onChange:d=>z(d.target.value)}),l.jsxs("div",{className:"flex gap-1 justify-center opacity-70",children:[l.jsx("img",{src:Te,className:"w-6 h-6 rounded-full border bg-white object-contain",title:"Headshot"}),l.jsx("img",{src:Ee,className:"h-6 w-6 rounded-full border bg-white object-contain",title:"Casual"}),l.jsx("img",{src:Me,className:"w-6 h-6 rounded-full border bg-white object-contain",title:"Sport"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ht,{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Style"}),l.jsx("div",{className:"flex gap-1.5 overflow-x-auto pb-1 scrollbar-hide",children:ye.map(d=>{const D=S===d.id;return l.jsxs("button",{onClick:()=>N(d.id),className:Ce("relative min-w-[48px] h-[48px] rounded-lg overflow-hidden border-2 transition-all hover:scale-105 flex-shrink-0",D?"border-primary ring-2 ring-primary/20":"border-transparent hover:border-primary/50"),title:d.name,children:[l.jsx("img",{src:d.image,alt:d.name,className:"w-full h-full object-cover"}),l.jsx("div",{className:Ce("absolute inset-0 bg-black/40 transition-opacity",D?"opacity-10":"opacity-40")}),D&&l.jsx("div",{className:"absolute top-0.5 right-0.5 h-3 w-3 rounded-full bg-primary flex items-center justify-center",children:l.jsx("div",{className:"h-1 w-1 rounded-full bg-white"})})]},d.id)})}),l.jsx("p",{className:"text-[10px] text-muted-foreground text-center",children:(j=ye.find(d=>d.id===S))==null?void 0:j.name})]}),l.jsxs(ee,{className:"w-full bg-gradient-to-r from-primary to-purple-600 hover:from-primary/90 hover:to-purple-700 text-white font-bold shadow-md",onClick:m,disabled:c,children:[c?l.jsx(ct,{className:"w-4 h-4 animate-spin mr-2"}):l.jsx(Oe,{className:"w-4 h-4 mr-2"}),"Generate Design"]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"font-bold text-lg",children:"Add Elements"}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsxs(ee,{onClick:R,variant:"outline",className:"justify-start",disabled:!n,title:n?"Add Text Layer":"Generate a design first",children:[l.jsx(wt,{className:"w-4 h-4 mr-2"})," Text"]}),l.jsxs(ee,{onClick:()=>{var d;return(d=C.current)==null?void 0:d.click()},variant:"outline",className:"justify-start",disabled:g,title:g?"Roko is being generated":"Upload Image",children:[l.jsx(Ye,{className:"w-4 h-4 mr-2"})," Image"]}),l.jsx("input",{type:"file",ref:C,className:"hidden",accept:"image/*",onChange:_})]}),!n&&l.jsx("p",{className:"text-xs text-muted-foreground",children:"* Generating a design unlocks text tools."})]}),P&&l.jsxs("div",{className:"space-y-4 border-t pt-4 flex-1",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h4",{className:"font-semibold text-sm",children:"Edit Layer"}),l.jsx(ee,{variant:"destructive",size:"icon",className:"h-8 w-8",onClick:()=>L(P.id),children:l.jsx(bt,{className:"w-4 h-4"})})]}),P.type==="text"&&l.jsxs(l.Fragment,{children:[l.jsx(dt,{value:P.content,onChange:d=>k(P.id,{content:d.target.value})}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(ee,{size:"sm",variant:P.fontFamily==="DynaPuff"?"default":"outline",onClick:()=>k(P.id,{fontFamily:"DynaPuff"}),children:"DynaPuff"}),l.jsx(ee,{size:"sm",variant:P.fontFamily==="Nunito"?"default":"outline",onClick:()=>k(P.id,{fontFamily:"Nunito"}),children:"Nunito"})]}),l.jsx("div",{className:"flex gap-2 flex-wrap",children:["#000000","#FFFFFF","#FFD700","#FF0055","#3b82f6"].map(d=>l.jsx("div",{className:`w-6 h-6 rounded-full cursor-pointer border ${P.color===d?"ring-2 ring-primary":""}`,style:{backgroundColor:d},onClick:()=>k(P.id,{color:d})},d))}),l.jsx(pt,{value:[P.fontSize||16],min:12,max:200,onValueChange:([d])=>k(P.id,{fontSize:d})})]}),P.type==="image"&&l.jsx("div",{className:"text-xs text-muted-foreground",children:"Drag corners to resize. Drag image to move."})]})]}),l.jsx("div",{className:"lg:col-span-3 bg-gray-900 rounded-xl overflow-hidden flex items-center justify-center p-8 relative",children:l.jsxs("div",{ref:O,className:"bg-white shadow-2xl relative overflow-hidden transition-all",style:{width:t.width*u,height:t.height*u},onClick:()=>o(null),children:[n?l.jsx("img",{src:n,className:"absolute inset-0 w-full h-full object-cover",alt:"Generated Design"}):l.jsxs("div",{className:"absolute inset-0 bg-gray-100 flex items-center justify-center text-gray-400 flex-col gap-2",children:[l.jsx(Oe,{className:"w-12 h-12 opacity-20"}),l.jsx("p",{children:"Generate a design to start"}),l.jsxs("p",{className:"text-xs opacity-50",children:[t.width," x ",t.height]})]}),e.map(d=>l.jsx(zi,{size:{width:d.width*u,height:d.height*u},position:{x:d.x*u,y:d.y*u},onDragStop:(D,T)=>k(d.id,{x:T.x/u,y:T.y/u}),onResizeStop:(D,T,E,v,y)=>k(d.id,{width:parseInt(E.style.width)/u,height:parseInt(E.style.height)/u,x:y.x/u,y:y.y/u}),onDragStart:D=>{D.stopPropagation(),o(d.id)},onClick:D=>{D.stopPropagation(),o(d.id)},bounds:"parent",style:{zIndex:d.zIndex,border:s===d.id?"2px solid #3b82f6":"none"},children:d.type==="text"?l.jsx("div",{className:"w-full h-full flex items-center justify-center p-2 text-center leading-tight focus:outline-none",style:{fontFamily:d.fontFamily==="DynaPuff"?'"DynaPuff", cursive':'"Nunito", sans-serif',fontSize:(d.fontSize||24)*u,color:d.color},children:d.content}):l.jsx("img",{src:d.content,className:"w-full h-full object-cover pointer-events-none"})},d.id))]})})]})},Ni=()=>{const[t,r]=W.useState(null),e=()=>{r(null)};return t?l.jsx(Di,{template:t,onBack:e}):l.jsxs("div",{className:"w-full max-w-5xl mx-auto",children:[l.jsxs("div",{className:"mb-8 space-y-2",children:[l.jsx("h2",{className:"text-3xl font-sans font-bold text-gray-900 tracking-tight",children:"Create New Post"}),l.jsx("p",{className:"text-muted-foreground font-sans text-lg",children:"Select a platform and format to start designing with AI assistance."})]}),l.jsxs(ft,{defaultValue:"instagram",className:"w-full space-y-8",children:[l.jsx("div",{className:"flex justify-center",children:l.jsxs(gt,{className:"grid w-full grid-cols-2 max-w-[400px] h-12 bg-gray-100/80 p-1 rounded-full border border-gray-200 shadow-inner",children:[l.jsxs(je,{value:"instagram",className:"flex items-center gap-2 rounded-full data-[state=active]:bg-white data-[state=active]:text-pink-600 data-[state=active]:shadow-sm transition-all text-base font-medium",children:[l.jsx(We,{className:"w-4 h-4"})," Instagram"]}),l.jsxs(je,{value:"facebook",className:"flex items-center gap-2 rounded-full data-[state=active]:bg-white data-[state=active]:text-blue-600 data-[state=active]:shadow-sm transition-all text-base font-medium",children:[l.jsx(_e,{className:"w-4 h-4"})," Facebook"]})]})}),l.jsxs(ke,{value:"instagram",className:"space-y-6 animate-fade-in",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[l.jsx("div",{className:"p-2 bg-pink-100 text-pink-600 rounded-lg",children:l.jsx(We,{className:"w-5 h-5"})}),l.jsx("h3",{className:"text-xl font-sans font-semibold",children:"Instagram Formats"})]}),l.jsx(Ae,{platform:"instagram",selectedTemplateId:null,onSelect:r})]}),l.jsxs(ke,{value:"facebook",className:"space-y-6 animate-fade-in",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[l.jsx("div",{className:"p-2 bg-blue-100 text-blue-600 rounded-lg",children:l.jsx(_e,{className:"w-5 h-5"})}),l.jsx("h3",{className:"text-xl font-sans font-semibold",children:"Facebook Formats"})]}),l.jsx(Ae,{platform:"facebook",selectedTemplateId:null,onSelect:r})]})]})]})},$i=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex justify-between items-center",children:l.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Social Media Studio"})}),l.jsx(Ni,{})]});export{$i as default};
