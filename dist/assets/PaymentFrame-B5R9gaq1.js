import{s as x,u as m,r as t,j as e,B as f,L as u}from"./index-CMfm_Lne.js";import{P as g}from"./PageHero-BRyCEhWj.js";import"./clouds-top-B3AemNNE.js";const b=()=>{const a=x(),r=m(),[s,l]=t.useState(null),[d,n]=t.useState(!0);return t.useEffect(()=>{var c;const o=(c=a.state)==null?void 0:c.payUrl,i=new URLSearchParams(a.search).get("url");o?l(o):i?l(decodeURIComponent(i)):r("/cart")},[a,r]),s?e.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[e.jsx(g,{title:"ZAVRŠITE NARUDŽBU"}),e.jsx("div",{className:"flex-1 container px-4 py-8 flex flex-col items-center",children:e.jsxs("div",{className:"max-w-4xl w-full space-y-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border text-center space-y-4",children:[e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-green-100 flex items-center justify-center text-green-600 mb-2",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsx("h2",{className:"text-2xl font-heading font-bold",children:"Narudžba je kreirana!"}),e.jsx("p",{className:"text-gray-600 max-w-lg mx-auto",children:"Za završetak kupovine, molimo izvršite plaćanje. Ako se obrazac za plaćanje ne učita ispod, kliknite na gumb."})]}),e.jsx(f,{onClick:()=>window.open(s,"_self"),size:"lg",className:"w-full sm:w-auto min-w-[200px] bg-gradient-to-r from-[#00ffbf] to-[#0089cd] text-white font-bold text-lg hover:scale-105 transition-transform",children:"Plati sigurno"})]}),e.jsxs("div",{className:"relative w-full h-[800px] border-2 border-gray-100 rounded-2xl overflow-hidden shadow-lg bg-gray-50",children:[d&&e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-white/90 z-20 backdrop-blur-sm",children:[e.jsx(u,{className:"w-12 h-12 text-primary animate-spin mb-4"}),e.jsx("p",{className:"text-xl font-heading text-gray-600",children:"Učitavanje sigurnog plaćanja..."})]}),e.jsx("iframe",{src:s,className:"w-full h-full border-0",onLoad:()=>n(!1),title:"Payment Page",onError:()=>n(!1)})]})]})})]}):null};export{b as default};
