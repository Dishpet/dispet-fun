import{r as l,a as b,j as e,L as p,K as N,M as y,B as v,N as u,O as w,Q as T,ax as C}from"./index-D1OsYnNr.js";import{T as D,a as U,b as n,c as i,d as _,e as t}from"./table-CAu_gaXi.js";import{M as E}from"./mail-CmQInf3r.js";import{M}from"./map-pin-BFPg9k8g.js";const R=()=>{const[r,h]=l.useState([]),[j,c]=l.useState(!0),{toast:g}=b(),[S,f]=l.useState(null);return l.useEffect(()=>{(async()=>{c(!0);try{const a=await C(1,100);h(a)}catch(a){console.error("Failed to fetch users:",a),g({title:"Error",description:"Failed to load users.",variant:"destructive"})}finally{c(!1)}})()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold font-heading",children:"Users"}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Total: ",r.length]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 overflow-hidden",children:j?e.jsx("div",{className:"p-8 flex justify-center",children:e.jsx(p,{className:"w-8 h-8 animate-spin text-primary"})}):e.jsxs(D,{children:[e.jsx(U,{children:e.jsxs(n,{children:[e.jsx(i,{children:"Name"}),e.jsx(i,{children:"Email"}),e.jsx(i,{children:"City"}),e.jsx(i,{className:"text-right",children:"Actions"})]})}),e.jsxs(_,{children:[r.map(s=>{var a,d,x,o,m;return e.jsxs(n,{children:[e.jsxs(t,{className:"font-medium",children:[s.first_name," ",s.last_name]}),e.jsx(t,{children:s.email}),e.jsx(t,{children:((a=s.billing)==null?void 0:a.city)||"-"}),e.jsx(t,{className:"text-right",children:e.jsxs(N,{children:[e.jsx(y,{asChild:!0,children:e.jsx(v,{variant:"outline",size:"sm",onClick:()=>f(s),children:"View Details"})}),e.jsxs(u,{children:[e.jsx(w,{children:e.jsx(T,{children:"User Details"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"w-12 h-12 rounded-full bg-gray-100 flex items-center justify-center font-bold text-xl text-primary",children:[s.first_name[0],s.last_name[0]]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-bold text-lg",children:[s.first_name," ",s.last_name]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Customer ID: #",s.id]})]})]}),e.jsxs("div",{className:"space-y-3 pt-4 border-t",children:[e.jsxs("div",{className:"flex items-center gap-3 text-gray-600",children:[e.jsx(E,{className:"w-5 h-5"}),s.email]}),e.jsxs("div",{className:"flex items-start gap-3 text-gray-600",children:[e.jsx(M,{className:"w-5 h-5 mt-1"}),e.jsxs("div",{className:"text-sm",children:[(d=s.billing)==null?void 0:d.address_1,",",e.jsx("br",{}),(x=s.billing)==null?void 0:x.postcode," ",(o=s.billing)==null?void 0:o.city,",",e.jsx("br",{}),(m=s.billing)==null?void 0:m.country]})]})]})]})]})]})})]},s.id)}),r.length===0&&e.jsx(n,{children:e.jsx(t,{colSpan:4,className:"text-center py-8 text-gray-500",children:"No users found."})})]})]})})]})};export{R as default};
