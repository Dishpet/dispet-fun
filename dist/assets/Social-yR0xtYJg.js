import{l as L,j as e,a as Ne,aq as Me,b as ue,r as i,B as de,$ as Fe,X as Xe,az as We,R as qe}from"./index-DArXuycN.js";import{T as Se,a as De,b as te,c as ye}from"./tabs-DctvaoGS.js";import{C as He}from"./check-CYdt7utM.js";import{S as Ze}from"./slider-B3XR1piA.js";import{A as Je}from"./arrow-left-DNtRMQR6.js";import{R as be}from"./refresh-ccw-D8mhkVJ3.js";import{R as Ke}from"./rotate-ccw-MKJbpZ1d.js";import{A as Qe}from"./activity-BhYCKm7J.js";import{P as et}from"./palette-C8tDdMGs.js";import{R as tt}from"./refresh-cw-C7pW9LbN.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=L("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=L("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=L("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=L("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=L("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=L("MousePointer2",[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=L("Move",[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=L("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=L("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]),nt=[{id:"ig-square",name:"Square Post",width:1080,height:1080,platform:"instagram",icon:he,description:"Classic 1:1 format. Perfect for feed posts.",gradient:"from-purple-500 via-pink-500 to-orange-500",maskId:1},{id:"ig-portrait",name:"Portrait (4:5)",width:1080,height:1350,platform:"instagram",icon:Me,description:"Tall 4:5 format. Takes up more screen space.",gradient:"from-purple-500 via-pink-500 to-orange-500",maskId:1},{id:"ig-story",name:"Story / Reel",width:1080,height:1920,platform:"instagram",icon:$e,description:"Full screen 9:16. For Stories and Reels.",gradient:"from-purple-500 via-pink-500 to-orange-500",maskId:1}],ot=[{id:"fb-landscape",name:"Landscape",width:1200,height:630,platform:"facebook",icon:lt,description:"Standard horizontal format. Best for shared links.",gradient:"from-blue-600 to-blue-400",maskId:1},{id:"fb-portrait",name:"Portrait",width:1080,height:1350,platform:"facebook",icon:$e,description:"Mobile-first vertical format.",gradient:"from-blue-600 to-blue-400",maskId:1},{id:"fb-square",name:"Square",width:1080,height:1080,platform:"facebook",icon:he,description:"Versatile 1:1 format.",gradient:"from-blue-600 to-blue-400",maskId:1}],we=({platform:g,selectedTemplateId:r,onSelect:v})=>{const d=g==="instagram"?nt:ot;return e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(m=>{const z=r===m.id,j=m.width/m.height,a=m.icon||he;return e.jsxs(Ne,{className:`
                            group relative overflow-hidden cursor-pointer transition-all duration-300 hover:shadow-strong
                            ${z?"ring-2 ring-primary border-primary shadow-medium":"border-border hover:border-primary/50"}
                        `,onClick:()=>v(m),children:[e.jsx("div",{className:`absolute -right-12 -top-12 w-32 h-32 bg-gradient-to-br ${m.gradient} opacity-10 rounded-full group-hover:scale-150 transition-transform duration-500 blur-2xl`}),e.jsxs("div",{className:"p-6 relative z-10 flex flex-col items-center text-center space-y-4",children:[e.jsx("div",{className:`
                                p-3 rounded-xl bg-gradient-to-br ${m.gradient} text-white shadow-lg
                                group-hover:scale-110 transition-transform duration-300
                            `,children:e.jsx(a,{className:"w-6 h-6"})}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("h3",{className:"font-sans font-bold text-lg text-foreground",children:m.name}),e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:m.description})]}),e.jsx("div",{className:"w-full flex justify-center py-4",children:e.jsx("div",{className:"p-1 rounded-lg border-2 border-dashed border-gray-200 bg-gray-50/50 group-hover:border-primary/30 transition-colors",children:e.jsx("div",{className:`rounded bg-gradient-to-br ${m.gradient} opacity-20 group-hover:opacity-30 transition-opacity`,style:{width:"80px",height:`${80/j}px`}})})}),e.jsxs("div",{className:"inline-flex items-center text-xs font-mono text-muted-foreground bg-gray-100 px-2 py-1 rounded",children:[m.width,"px × ",m.height,"px"]}),z&&e.jsx("div",{className:"absolute top-2 right-2 p-1 bg-primary text-white rounded-full shadow-lg",children:e.jsx(He,{className:"w-3 h-3"})})]})]},m.id)})})},f={colors:{primary:{pink:"#e83e70",blue:"#43bfe6",yellow:"#ffcd07",green:"#73b72b"},secondary:{lightPink:"#f39fbd",lightBlue:"#8fd2e8",lightYellow:"#fff5b1",lightGreen:"#c8da80",black:"#111519",lightGray:"#f1f1f0"},backgrounds:{navy:"#0d142a",bgBlue:"#0089cd",purple:"#ad00e9",deepBlue:"#0044bf",mint:"#00ffbf"}},gradients:{dark:"linear-gradient(135deg, #0d142a 0%, #0d142a 100%)",vibrant:"linear-gradient(135deg, #ad00e9 0%, #0044bf 100%)",aqua:"linear-gradient(135deg, #0089cd 0%, #00ffbf 100%)"},fonts:{primary:"'Nunito', sans-serif",display:"'DynaPuff', cursive"}},me=({id:g,selectedId:r,transform:v,radius:d,onDragStart:m})=>{if(r!==g)return null;const j=d*v.scale+40,a=0;return e.jsxs("g",{transform:`translate(${v.x}, ${v.y}) rotate(${v.rotate})`,className:"pointer-events-none z-50",children:[e.jsx("circle",{r:d*v.scale+10,fill:"none",stroke:f.colors.primary.yellow,strokeWidth:"2",strokeDasharray:"8 4",className:"opacity-70"}),e.jsx("line",{x1:0,y1:0,x2:j,y2:a,stroke:f.colors.primary.yellow,strokeWidth:"1",className:"opacity-50"}),e.jsxs("g",{className:"pointer-events-auto cursor-alias",onPointerDown:E=>m(E,g,"transform"),children:[e.jsx("circle",{cx:j,cy:a,r:"15",fill:f.colors.primary.yellow,className:"shadow-lg"}),e.jsx("circle",{cx:j,cy:a,r:"6",fill:f.colors.secondary.black})]})]})},it="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Generator:%20Adobe%20Illustrator%2027.9.0,%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%20100%20100'%20style='enable-background:new%200%200%20100%20100;'%20xml:space='preserve'%3e%3cstyle%20type='text/css'%3e%20.st0{fill:%23FFF4B0;}%20.st1{fill:%23FFCC02;}%20.st2{fill:%238DD1E6;}%20.st3{fill:none;}%20.st4{fill:%23F29EBC;}%20.st5{fill:%23E73D70;}%20.st6{fill:%232EACC9;}%20.st7{fill:%23C7D97F;}%20.st8{fill:%2372B52B;}%20.st9{fill:%23F1F1F0;}%20.st10{fill:%23FFFFFF;}%20%3c/style%3e%3cpath%20class='st0'%20d='M20,31.5c12.5,0,23.3,3.1,32.3,9.1c1.1-1,2.3-1.8,3.4-2.7c-9.5-7.6-21.4-11.4-35.4-11.4c-1.9,0-3.7,0.1-5.4,0.2%20C10.5,33.4,8,41.4,8,49.9c0.8-6.6,3.1-12.8,6.6-18.2C16.3,31.6,18.1,31.5,20,31.5z'/%3e%3cpath%20class='st2'%20d='M34.4,89.4c0.1,0,0.2,0.1,0.2,0.1c0-1.5,0-3.1,0.1-4.8C34.5,86.3,34.4,87.9,34.4,89.4z'/%3e%3cpath%20class='st0'%20d='M83.6,28.7c1.2,0,2.4-0.1,3.7,0C79.9,16,66.2,7.5,50.5,7.5c-12,0-22.9,5-30.6,13c0.1,0,0.3,0,0.4,0%20c1.6,0,3.2,0.1,4.8,0.2c7-5.2,15.7-8.2,25.1-8.2C63.7,12.5,75.8,18.8,83.6,28.7z'/%3e%3cpath%20class='st0'%20d='M89.9,39.9c1.8,4.7,2.8,9.8,2.8,15.1c0,0,0,0.1,0,0.1c0.2-1.7,0.3-3.4,0.3-5.1c0-5.3-1-10.4-2.8-15.1%20c-8.3-0.8-16.5,0.6-24.3,4.2c1.1,1.1,2.2,2.3,3.2,3.5C75.9,40.1,82.8,39.2,89.9,39.9z'/%3e%3cpath%20class='st0'%20d='M77.1,70c-3-10.6-8.6-20-16.8-27.9c-10.5,6.6-16.9,18.3-19,34.7c-0.4,2.8-0.6,5.6-0.6,8.2%20c0.1-1,0.2-2.1,0.3-3.2c2.1-16.4,8.5-28.1,19-34.7C68.2,55,73.9,64.4,76.8,75c0.7,2.6,1.2,5,1.5,7.1c0.3-0.2,0.5-0.5,0.8-0.7%20C78.9,78.7,78.4,74.7,77.1,70z'/%3e%3cpath%20class='st1'%20d='M35.4,76.2c1.1-8.4,3.2-15.8,6.4-22.1c2.7-5.3,6.2-9.8,10.4-13.5c-9-6-19.8-9.1-32.3-9.1%20c-1.9,0-3.7,0.1-5.4,0.2C11.1,37.1,8.7,43.2,8,49.9c0,0,0,0.1,0,0.1c0,17.8,10.9,33,26.4,39.4c0.1-1.5,0.2-3.1,0.3-4.7%20C34.8,82,35,79.1,35.4,76.2z'/%3e%3cpath%20class='st1'%20d='M61.2,34.7c6.6-3.3,13.4-5.3,20.4-5.9c0.7-0.1,1.4-0.1,2-0.1c-7.8-9.9-19.9-16.3-33.4-16.3%20c-9.4,0-18.1,3-25.1,8.2c5.3,0.3,10.5,1.2,15.3,2.7C48.1,25.7,55.2,29.5,61.2,34.7z'/%3e%3cpath%20class='st1'%20d='M83,68.7c0.7,2.5,1.2,4.8,1.5,6.8c4.4-5.8,7.3-12.8,8.2-20.4c0,0,0-0.1,0-0.1c0-5.3-1-10.4-2.8-15.1%20c-7.1-0.7-14.1,0.2-20.8,2.8c2.6,3,4.9,6.2,6.9,9.5C79.1,57.4,81.4,62.9,83,68.7z'/%3e%3cpath%20class='st1'%20d='M60,47.1c-10.5,6.6-16.9,18.3-19,34.7c-0.1,1.1-0.3,2.1-0.3,3.2c-0.1,2.3-0.1,4.5,0,6.4%20c3.1,0.7,6.4,1.1,9.8,1.1c10.7,0,20.4-3.9,27.9-10.4C78,80,77.6,77.6,76.8,75C73.9,64.4,68.2,55,60,47.1z'/%3e%3c/svg%3e",ct="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Generator:%20Adobe%20Illustrator%2027.9.0,%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%20100%20100'%20style='enable-background:new%200%200%20100%20100;'%20xml:space='preserve'%3e%3cstyle%20type='text/css'%3e%20.st0{fill:%23FFF4B0;}%20.st1{fill:%23FFCC02;}%20.st2{fill:%238DD1E6;}%20.st3{fill:none;}%20.st4{fill:%23F29EBC;}%20.st5{fill:%23E73D70;}%20.st6{fill:%232EACC9;}%20.st7{fill:%23C7D97F;}%20.st8{fill:%2372B52B;}%20.st9{fill:%23F1F1F0;}%20.st10{fill:%23FFFFFF;}%20%3c/style%3e%3cpath%20class='st7'%20d='M13,57.8c0.2-0.8,0.4-1.5,0.6-2.3c4.7-15,24.1-29.5,49.2-21.5c20,6.3,30,14.3,30.4,21.3%20c2.9-7.6-7-17.2-29.9-24.4c-25.2-7.9-44.5,6.5-49.2,21.5C13.5,54.2,13.1,56,13,57.8z'/%3e%3cpath%20class='st8'%20d='M13,57.8c-0.8,8.9,3.2,18.2,15,21.9c12.9,4.1,21.2-4.9,23.3-10.8c0.8-2.3,0.7-4.2-0.6-4.6%20c-4.4-1.4-9.9,4.7-15.2,3c-3.5-1.1-4.6-3.1-4.7-5.2c0-1.1,0.2-2.2,0.5-3.2c2.1-6.7,13-13.1,29.6-7.8s25.2,14.2,31.1,6.4%20c0.5-0.7,0.9-1.4,1.2-2.1c-0.4-7-10.5-15-30.4-21.3c-25.2-7.9-44.5,6.5-49.2,21.5C13.3,56.3,13.1,57.1,13,57.8z'/%3e%3c/svg%3e",dt="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Generator:%20Adobe%20Illustrator%2027.9.0,%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%20100%20100'%20style='enable-background:new%200%200%20100%20100;'%20xml:space='preserve'%3e%3cstyle%20type='text/css'%3e%20.st0{fill:%23FFF4B0;}%20.st1{fill:%23FFCC02;}%20.st2{fill:%238DD1E6;}%20.st3{fill:none;}%20.st4{fill:%23F29EBC;}%20.st5{fill:%23E73D70;}%20.st6{fill:%232EACC9;}%20.st7{fill:%23C7D97F;}%20.st8{fill:%2372B52B;}%20.st9{fill:%23F1F1F0;}%20.st10{fill:%23FFFFFF;}%20%3c/style%3e%3cpath%20class='st7'%20d='M11.4,94.6c0,0.4,0,0.8-0.1,1.2c9.6-20.3,83.5-28.1,85-57.4c0.3-5.7-1.3-13.3-7.2-18.7%20c2.2,3.9,3.1,8.2,3.2,11.9C92.7,60.9,19.7,73.7,11.4,94.6z'/%3e%3cpath%20class='st8'%20d='M69.6,12.7c-17-0.9-54.4,18.6-58.2,81.9c8.2-20.9,81.3-33.7,80.9-63.1c-0.1-3.6-0.9-7.9-3.2-11.9%20C85,15.8,78.8,13,69.6,12.7z'/%3e%3c/svg%3e",xt="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Generator:%20Adobe%20Illustrator%2027.9.0,%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%20100%20100'%20style='enable-background:new%200%200%20100%20100;'%20xml:space='preserve'%3e%3cstyle%20type='text/css'%3e%20.st0{fill:%23FFF4B0;}%20.st1{fill:%23FFCC02;}%20.st2{fill:%238DD1E6;}%20.st3{fill:none;}%20.st4{fill:%23F29EBC;}%20.st5{fill:%23E73D70;}%20.st6{fill:%232EACC9;}%20.st7{fill:%23C7D97F;}%20.st8{fill:%2372B52B;}%20.st9{fill:%23F1F1F0;}%20.st10{fill:%23FFFFFF;}%20%3c/style%3e%3cpath%20class='st0'%20d='M46.2,34.7C38,28.6,21.1,17,10,28c-2.8,2.7-4.4,5.7-5,8.8c-0.6-5.2,1.1-10.4,6-14.7%20c11.8-10.2,27.9,2.4,35.7,9.1c7.8,6.7,24.9,18.3,50.4,21.9C71.9,51,54.4,40.7,46.2,34.7z'/%3e%3cpath%20class='st1'%20d='M18.6,56C11.2,51.1,5.9,43.9,5,36.8c0.6-3,2.2-6,5-8.8c11.1-11,28,0.6,36.2,6.7c8.1,6,25.7,16.3,50.9,18.3%20c0,0,0,0,0,0C83.3,62.8,43.7,72.4,18.6,56z'/%3e%3c/svg%3e",mt="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Generator:%20Adobe%20Illustrator%2027.9.0,%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%20100%20100'%20style='enable-background:new%200%200%20100%20100;'%20xml:space='preserve'%3e%3cstyle%20type='text/css'%3e%20.st0{fill:%23FFF4B0;}%20.st1{fill:%23FFCC02;}%20.st2{fill:%238DD1E6;}%20.st3{fill:none;}%20.st4{fill:%23F29EBC;}%20.st5{fill:%23E73D70;}%20.st6{fill:%232EACC9;}%20.st7{fill:%23C7D97F;}%20.st8{fill:%2372B52B;}%20.st9{fill:%23F1F1F0;}%20.st10{fill:%23FFFFFF;}%20%3c/style%3e%3cpath%20class='st1'%20d='M3.1,52.9c0,0-1.7,24,14.7,23.4C34.3,75.8,33,13.6,64,13.6s33,29.5,33,38.5s-2.8,20.6-16.7,20.6%20s-5.3-26.9-14-26.9S55,92.4,27.4,92.4S3.1,52.9,3.1,52.9z'/%3e%3c/svg%3e",ut="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Generator:%20Adobe%20Illustrator%2028.1.0,%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%20100%20100'%20style='enable-background:new%200%200%20100%20100;'%20xml:space='preserve'%3e%3cpath%20style='fill:%23FFF5B0;'%20d='M26.38,43.66c-0.07-3.49,1.98-6.92,5.16-7.98c4.11-1.78,8.85-0.14,12.73,2.04%20c8.58,4.86,16.61,11.15,26.01,14.07c-8.23-1.96-15.94-6.08-23.46-10.18c-3.7-1.9-7.6-4.09-11.75-3.74c-4.16,0.28-7.2,4.03-8.01,8.06%20c0.52,2.71,2.05,5.22,3.68,7.44C28.37,50.7,26.36,47.3,26.38,43.66z'/%3e%3cpath%20style='fill:%23FFCD01;'%20d='M27.05,45.93c0.82-4.03,3.85-7.78,8.01-8.06c4.15-0.35,8.05,1.84,11.75,3.74%20c7.52,4.1,15.22,8.22,23.46,10.18c2.35,0.63,4.75,1.21,6.9,2.47c-7.37,4.04-15.92,5.35-24.32,5.76c-7.61,0-15.85-1.42-22.14-6.65%20C29.11,51.15,27.58,48.65,27.05,45.93z'/%3e%3c/svg%3e",ht="/assets/cokac-1-rozi-CaJtn86H.svg",ft="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Generator:%20Adobe%20Illustrator%2028.1.0,%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%20100%20100'%20style='enable-background:new%200%200%20100%20100;'%20xml:space='preserve'%3e%3cpath%20style='fill:%2376EFFF;'%20d='M42.87,37.77c5.37-4.7,14.35-4.06,19.24,1.01c3.97,4.54,4.45,11.82,0.63,16.63%20c1.8-3.93,0.18-8.5-1.97-11.95c-1.82-3.1-5.51-4.28-8.86-4.76c-6.69-0.79-12.66,5.27-13.18,11.72%20C37.89,45.87,39.16,40.74,42.87,37.77z'/%3e%3cpath%20style='fill:%2301CEF4;'%20d='M51.91,38.7c3.35,0.48,7.03,1.66,8.86,4.76c2.15,3.45,3.77,8.02,1.97,11.95%20c-4.03,4.31-10.62,6.32-16.19,3.95c-4.09-1.19-7.11-4.79-7.82-8.95C39.25,43.96,45.22,37.91,51.91,38.7z'/%3e%3c/svg%3e",gt="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Generator:%20Adobe%20Illustrator%2027.9.0,%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%20100%20100'%20style='enable-background:new%200%200%20100%20100;'%20xml:space='preserve'%3e%3cstyle%20type='text/css'%3e%20.st0{fill:%23FFF4B0;}%20.st1{fill:%23FFCC02;}%20.st2{fill:%238DD1E6;}%20.st3{fill:none;}%20.st4{fill:%23F29EBC;}%20.st5{fill:%23E73D70;}%20.st6{fill:%232EACC9;}%20.st7{fill:%23C7D97F;}%20.st8{fill:%2372B52B;}%20.st9{fill:%23F1F1F0;}%20.st10{fill:%23FFFFFF;}%20%3c/style%3e%3cpath%20class='st4'%20d='M46.9,33.7c-8.2-6.1-25.1-17.7-36.2-6.7c-2.8,2.7-4.4,5.7-5,8.8c-0.6-5.2,1.1-10.4,6-14.7%20c11.8-10.2,27.9,2.4,35.7,9.1c7.8,6.7,24.9,18.3,50.4,21.9C72.6,50.1,55,39.8,46.9,33.7z'/%3e%3cpath%20class='st5'%20d='M19.3,55C11.9,50.1,6.6,43,5.7,35.8c0.6-3,2.2-6,5-8.8c11.1-11,28,0.6,36.2,6.7c8.1,6,25.7,16.3,50.9,18.3%20c0,0,0,0,0,0C83.9,61.8,44.4,71.5,19.3,55z'/%3e%3c/svg%3e",pt="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Generator:%20Adobe%20Illustrator%2027.9.0,%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%20100%20100'%20style='enable-background:new%200%200%20100%20100;'%20xml:space='preserve'%3e%3cstyle%20type='text/css'%3e%20.st0{fill:%23FFF4B0;}%20.st1{fill:%23FFCC02;}%20.st2{fill:%238DD1E6;}%20.st3{fill:none;}%20.st4{fill:%23F29EBC;}%20.st5{fill:%23E73D70;}%20.st6{fill:%232EACC9;}%20.st7{fill:%23C7D97F;}%20.st8{fill:%2372B52B;}%20.st9{fill:%23F1F1F0;}%20.st10{fill:%23FFFFFF;}%20%3c/style%3e%3cpath%20class='st7'%20d='M49.5,35.3c-8.2-6.1-25.1-17.7-36.2-6.7c-2.8,2.7-4.4,5.7-5,8.8c-0.6-5.2,1.1-10.4,6-14.7%20c11.8-10.2,27.9,2.4,35.7,9.1c7.8,6.7,24.9,18.3,50.4,21.9C75.2,51.7,57.7,41.4,49.5,35.3z'/%3e%3cpath%20class='st8'%20d='M21.9,56.6c-7.4-4.9-12.7-12-13.6-19.2c0.6-3,2.2-6,5-8.8c11.1-11,28,0.6,36.2,6.7c8.1,6,25.7,16.3,50.9,18.3%20c0,0,0,0,0,0C86.6,63.4,47,73,21.9,56.6z'/%3e%3c/svg%3e",yt="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Generator:%20Adobe%20Illustrator%2028.1.0,%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%20100%20100'%20style='enable-background:new%200%200%20100%20100;'%20xml:space='preserve'%3e%3cpath%20style='fill:%23C8FF88;'%20d='M26.38,43.66c-0.07-3.49,1.98-6.92,5.16-7.98c4.11-1.78,8.85-0.14,12.73,2.04%20c8.58,4.86,16.61,11.15,26.01,14.07c-8.23-1.96-15.94-6.08-23.46-10.18c-3.7-1.9-7.6-4.09-11.75-3.74c-4.16,0.28-7.2,4.03-8.01,8.06%20c0.52,2.71,2.05,5.22,3.68,7.44C28.37,50.7,26.36,47.3,26.38,43.66z'/%3e%3cpath%20style='fill:%2369CC00;'%20d='M27.05,45.93c0.82-4.03,3.85-7.78,8.01-8.06c4.15-0.35,8.05,1.84,11.75,3.74%20c7.52,4.1,15.22,8.22,23.46,10.18c2.35,0.63,4.75,1.21,6.9,2.47c-7.37,4.04-15.92,5.35-24.32,5.76c-7.61,0-15.85-1.42-22.14-6.65%20C29.11,51.15,27.58,48.65,27.05,45.93z'/%3e%3c/svg%3e",bt="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Generator:%20Adobe%20Illustrator%2028.1.0,%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%20100%20100'%20style='enable-background:new%200%200%20100%20100;'%20xml:space='preserve'%3e%3cpath%20style='fill:%23FFF5B0;'%20d='M42.87,37.77c5.37-4.7,14.35-4.06,19.24,1.01c3.97,4.54,4.45,11.82,0.63,16.63%20c1.8-3.93,0.18-8.5-1.97-11.95c-1.82-3.1-5.51-4.28-8.86-4.76c-6.69-0.79-12.66,5.27-13.18,11.72%20C37.89,45.87,39.16,40.74,42.87,37.77z'/%3e%3cpath%20style='fill:%23FFCD01;'%20d='M51.91,38.7c3.35,0.48,7.03,1.66,8.86,4.76c2.15,3.45,3.77,8.02,1.97,11.95%20c-4.03,4.31-10.62,6.32-16.19,3.95c-4.09-1.19-7.11-4.79-7.82-8.95C39.25,43.96,45.22,37.91,51.91,38.7z'/%3e%3c/svg%3e",ke=[ht,ft,gt,pt,yt,bt],ce={dark:{name:"Dark Blue",style:"#0f172a"},home:{name:"Home Gradient",style:"linear-gradient(to bottom right, #0044bf, #ad00e9)"},shop:{name:"Shop Gradient",style:"linear-gradient(to bottom right, #00ffbf, #0089cd)"}},vt=[{name:"White",value:"#ffffff"},{name:"Black",value:"#000000"},{name:"Pink",value:"#ec4899"},{name:"Blue",value:"#3b82f6"},{name:"Yellow",value:"#fbbf24"},{name:"Green",value:"#10b981"}],xe={1:it,2:ct,3:dt,4:xt,5:mt,6:ut},wt={1:{size:"150%",position:"45% 45%"},2:{size:"160%",position:"70% 70%"},3:{size:"140%",position:"50% 85%"},4:{size:"155%",position:"30% 55%"},5:{size:"175%",position:"50% 20%"},6:{size:"150%",position:"55% 30%"}},kt=({template:g,uploadedImage:r,onBack:v})=>{const{toast:d}=ue(),m=i.useRef(null),[z,j]=i.useState([]),[a,E]=i.useState("image"),[D,H]=i.useState("dark"),[N,P]=i.useState(g.maskId||1),[k,Y]=i.useState(!1),[T,O]=i.useState("Dišpet"),[V,ne]=i.useState({x:0,y:0}),[Z,U]=i.useState(0),[X,J]=i.useState(48),[oe,se]=i.useState("#ffffff"),[s,h]=i.useState(null),[x,u]=i.useState({x:0,y:0}),[C,M]=i.useState(1),[p,F]=i.useState(0),[w,$]=i.useState({x:0,y:0}),[_,W]=i.useState(1),[q,ae]=i.useState(0),G=i.useRef(!1),K=i.useRef("move"),le=i.useRef(null),S=i.useRef({x:0,y:0}),[A,Be]=i.useState({width:0,height:0});i.useEffect(()=>{if(!m.current)return;const t=new ResizeObserver(o=>{const l=o[0];Be({width:l.contentRect.width,height:l.contentRect.height})});return t.observe(m.current),()=>t.disconnect()},[]);const fe=xe[N],Q=wt[N],ge=()=>{const t=Math.floor(Math.random()*3)+3;return Array.from({length:t}).map((o,l)=>({id:l,src:ke[Math.floor(Math.random()*ke.length)],top:Math.random()*60+20,left:Math.random()*60+20,size:Math.random()*100+50,rotation:0,zIndex:20,x:0,y:0,scale:1,angle:0}))};i.useEffect(()=>{j(ge())},[]);const Ie=()=>{j(ge()),h(null)},re=(t,o)=>{j(l=>l.map(y=>y.id===t?{...y,...o}:y))},n=z.find(t=>t.id===s),Re=t=>{G.current=!0,K.current="move",S.current={x:t.clientX,y:t.clientY}},Pe=(t,o,l)=>{t.stopPropagation(),G.current=!0,K.current=l,S.current={x:t.clientX,y:t.clientY},le.current={imageRotation:q,imageScale:_,maskRotation:p,maskScale:C,textRotation:Z,textSize:X,decor:n?{...n}:null,center:Ge()}},Ge=()=>{if(!A.width)return{x:0,y:0};const t=A.width/2,o=A.height/2;if(a==="image")return{x:t+w.x,y:o+w.y};if(a==="mask")return{x:t+x.x,y:o+x.y};if(a==="decoration"&&n){const l=n.left/100*A.width+n.x,y=n.top/100*A.height+n.y;return{x:l,y}}return a==="text"?{x:t+V.x,y:o+V.y}:{x:t,y:o}},Ae=t=>{if(!G.current)return;const o=t.clientX-S.current.x,l=t.clientY-S.current.y;if(K.current==="transform"){const c=le.current.center,b=Math.atan2(S.current.y-c.y,S.current.x-c.x),I=(Math.atan2(t.clientY-c.y,t.clientX-c.x)-b)*(180/Math.PI),ee=Math.hypot(S.current.x-c.x,S.current.y-c.y),ie=Math.hypot(t.clientX-c.x,t.clientY-c.y)/(ee||1);a==="image"?(ae(R=>R+I),W(R=>Math.max(.1,R*ie))):a==="mask"?(F(R=>R+I),M(R=>Math.max(.1,R*ie))):a==="decoration"&&s!==null?re(s,{angle:((n==null?void 0:n.angle)||0)+I,scale:Math.max(.1,((n==null?void 0:n.scale)||1)*ie)}):a==="text"&&(U(R=>R+I),J(R=>Math.max(10,R*ie))),S.current={x:t.clientX,y:t.clientY};return}S.current={x:t.clientX,y:t.clientY};const y=(c,b,B)=>{const I=B*Math.PI/180;return{x:c*Math.cos(I)-b*Math.sin(I),y:c*Math.sin(I)+b*Math.cos(I)}};if(a==="image"){const c=y(o,l,p);$(b=>({x:b.x-c.x,y:b.y-c.y}))}else if(a==="mask"){const c=y(o,l,-p);u(b=>({x:b.x+c.x,y:b.y+c.y}))}else a==="decoration"&&s!==null?re(s,{x:((n==null?void 0:n.x)||0)+o,y:((n==null?void 0:n.y)||0)+l}):a==="text"&&ne(c=>({x:c.x+o,y:c.y+l}))},pe=()=>{G.current=!1},Te=t=>{if(t.touches.length===1){G.current=!0;const o=t.touches[0];S.current={x:o.clientX,y:o.clientY}}},Ve=t=>{if(!G.current||t.touches.length!==1)return;t.preventDefault();const o=t.touches[0],l=o.clientX-S.current.x,y=o.clientY-S.current.y;S.current={x:o.clientX,y:o.clientY};const c=(b,B,I)=>{const ee=I*Math.PI/180;return{x:b*Math.cos(ee)-B*Math.sin(ee),y:b*Math.sin(ee)+B*Math.cos(ee)}};if(a==="image"){const b=c(l,y,p);$(B=>({x:B.x-b.x,y:B.y-b.y}))}else if(a==="mask"){const b=c(l,y,-p);u(B=>({x:B.x+b.x,y:B.y+b.y}))}else a==="decoration"&&s!==null?re(s,{x:((n==null?void 0:n.x)||0)+l,y:((n==null?void 0:n.y)||0)+y}):a==="text"&&ne(b=>({x:b.x+l,y:b.y+y}))},_e=()=>{G.current=!1},Le=t=>{if(t.preventDefault(),t.shiftKey){const o=t.deltaY>0?-5:5;a==="image"?ae(l=>l+o):a==="mask"?F(l=>l+o):a==="decoration"&&s!==null?re(s,{angle:((n==null?void 0:n.angle)||0)+o}):a==="text"&&U(l=>l+o)}else{const o=t.deltaY>0?.95:1.05;a==="image"?W(l=>Math.max(.2,Math.min(5,l*o))):a==="mask"?M(l=>Math.max(.5,Math.min(3,l*o))):a==="decoration"&&s!==null?re(s,{scale:Math.max(.5,Math.min(3,((n==null?void 0:n.scale)||1)*o))}):a==="text"&&J(l=>Math.max(12,Math.min(300,l*o)))}},Oe=i.useMemo(()=>({aspectRatio:`${g.width}/${g.height}`,width:"100%",maxWidth:"600px",background:ce[D].style,position:"relative",cursor:a==="decoration"?"pointer":a==="text"?"text":a==="image"?"move":"crosshair"}),[g.width,g.height,a,D]),Ye={maskImage:`url("${fe}")`,WebkitMaskImage:`url("${fe}")`,maskSize:`calc(${Q.size} * ${C})`,WebkitMaskSize:`calc(${Q.size} * ${C})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:`calc(${Q.position.split(" ")[0]} + ${x.x}px) calc(${Q.position.split(" ")[1]||"50%"} + ${x.y}px)`,WebkitMaskPosition:`calc(${Q.position.split(" ")[0]} + ${x.x}px) calc(${Q.position.split(" ")[1]||"50%"} + ${x.y}px)`,width:"150%",height:"150%",left:"-25%",top:"-25%",position:"absolute",zIndex:10,transform:`rotate(${p}deg)`,transformOrigin:"center"},Ue=async()=>{if(m.current)try{const t=(await Fe(async()=>{const{default:l}=await import("./html2canvas.esm-CBrSDip1.js");return{default:l}},[])).default;(await t(m.current,{backgroundColor:null,scale:2,logging:!1})).toBlob(l=>{if(l){const y=URL.createObjectURL(l),c=document.createElement("a");c.href=y,c.download=`${g.name.replace(/\s+/g,"-").toLowerCase()}-${Date.now()}.png`,c.click(),URL.revokeObjectURL(y),d({title:"Success!",description:"Your design has been downloaded"})}})}catch{d({title:"Error",description:"Failed to download design",variant:"destructive"})}};return e.jsxs("div",{className:"min-h-screen flex flex-col p-4 lg:p-6",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsxs(de,{variant:"ghost",onClick:v,className:"rounded-full",children:[e.jsx(Je,{className:"w-5 h-5 mr-2"})," Back"]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl lg:text-2xl font-bold text-slate-900",children:g.name}),e.jsx("p",{className:"text-slate-500 text-sm",children:"Customize your post"})]})]}),e.jsxs("div",{className:"flex-1 flex flex-col lg:flex-row gap-6 lg:gap-8 lg:items-stretch",children:[e.jsx("div",{className:"min-h-[400px] lg:min-h-0 flex-shrink-0 lg:flex-1 lg:order-1 flex items-center justify-center bg-slate-50 rounded-3xl p-4 lg:p-8",children:e.jsxs("div",{ref:m,style:Oe,onMouseDown:Re,onMouseMove:Ae,onMouseUp:pe,onMouseLeave:pe,onTouchStart:Te,onTouchMove:Ve,onTouchEnd:_e,onWheel:Le,className:"relative overflow-hidden rounded-2xl shadow-2xl touch-none",children:[e.jsx("div",{style:Ye,children:e.jsx("img",{src:r,alt:"Uploaded",style:{transform:`rotate(${-p}deg) translate(${w.x}px, ${w.y}px) rotate(${q}deg) scale(${_})`,transformOrigin:"center",width:"100%",height:"100%",objectFit:"cover",position:"absolute",top:0,left:0}})}),z.map(t=>e.jsx("div",{onClick:o=>{o.stopPropagation(),h(t.id),E("decoration")},className:`absolute cursor-pointer transition-all ${s===t.id?"ring-2 ring-purple-500 ring-offset-2":""}`,style:{top:`calc(${t.top}% + ${t.y}px)`,left:`calc(${t.left}% + ${t.x}px)`,width:`${t.size*t.scale}px`,height:`${t.size*t.scale}px`,transform:`rotate(${t.angle}deg)`,zIndex:t.zIndex,pointerEvents:"auto"},children:e.jsx("img",{src:t.src,alt:"",className:"w-full h-full object-contain",style:{pointerEvents:"none"}})},t.id)),k&&e.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:`translate(calc(-50% + ${V.x}px), calc(-50% + ${V.y}px)) rotate(${Z}deg)`,fontFamily:"DynaPuff, cursive",fontSize:`${X}px`,fontWeight:700,color:oe,textShadow:"2px 2px 4px rgba(0,0,0,0.3)",whiteSpace:"nowrap",zIndex:30,pointerEvents:"auto",userSelect:"none",cursor:"pointer"},onClick:t=>{t.stopPropagation(),E("text")},className:`transition-all ${a==="text"?"ring-2 ring-purple-500 ring-offset-4 rounded-lg":""}`,children:T}),e.jsx("svg",{className:"absolute inset-0 w-full h-full pointer-events-none z-50 overflow-visible",children:(()=>{if(!A.width)return null;const t=A.width/2,o=A.height/2;let l={x:0,y:0,scale:1,rotate:0},y=100,c="";return a==="image"?(l={x:t+w.x,y:o+w.y,scale:_*.5,rotate:q},y=200,c="image"):a==="mask"?(l={x:t+x.x,y:o+x.y,scale:C,rotate:p},y=150,c="mask"):a==="text"?(l={x:t+V.x,y:o+V.y,scale:X/50,rotate:Z},y=80,c="text"):a==="decoration"&&n&&(l={x:n.left/100*A.width+n.x,y:n.top/100*A.height+n.y,scale:n.scale,rotate:n.angle},y=n.size/2,c=n.id),e.jsx(me,{id:c,selectedId:c,transform:l,radius:y,onDragStart:Pe})})()})]})}),e.jsx("div",{className:"flex-shrink-0 lg:flex-1 overflow-y-auto",children:e.jsxs(Ne,{className:"p-4 lg:p-6 space-y-6 rounded-3xl border-none shadow-xl",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"font-bold text-slate-900",children:"Editing Mode"}),e.jsx(Se,{value:a,onValueChange:t=>E(t),className:"w-full",children:e.jsxs(De,{className:"grid w-full grid-cols-4 rounded-full h-11 bg-slate-100",children:[e.jsxs(te,{value:"image",className:"rounded-full flex gap-1.5 text-xs lg:text-sm",children:[e.jsx(rt,{className:"w-3.5 h-3.5"})," Image"]}),e.jsxs(te,{value:"mask",className:"rounded-full flex gap-1.5 text-xs lg:text-sm",children:[e.jsx(Ee,{className:"w-3.5 h-3.5"})," Mask"]}),e.jsxs(te,{value:"decoration",className:"rounded-full flex gap-1.5 text-xs lg:text-sm",children:[e.jsx(be,{className:"w-3.5 h-3.5"})," Decor"]}),e.jsxs(te,{value:"text",className:"rounded-full flex gap-1.5 text-xs lg:text-sm",children:[e.jsx(ve,{className:"w-3.5 h-3.5"})," Text"]})]})}),e.jsx("p",{className:"text-[10px] lg:text-xs text-slate-500 text-center",children:"Click element to select • Drag to move • Scroll to scale • Shift+Scroll to rotate"})]}),e.jsxs("div",{className:"space-y-3 border-t pt-4 border-slate-100",children:[e.jsx("h3",{className:"font-bold text-slate-900",children:"1. Mask Style"}),e.jsx("div",{className:"grid grid-cols-6 gap-2",children:[1,2,3,4,5,6].map(t=>e.jsxs("button",{onClick:()=>P(t),className:`relative aspect-square rounded-xl border-2 transition-all overflow-hidden ${N===t?"border-purple-500 shadow-lg scale-105":"border-slate-200 hover:border-purple-300"}`,style:{background:"#0f172a"},children:[e.jsx("div",{className:"absolute inset-0 bg-white opacity-20",style:{maskImage:`url("${xe[t]}")`,WebkitMaskImage:`url("${xe[t]}")`,maskSize:"60%",WebkitMaskSize:"60%",maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center"}}),N===t&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:"w-5 h-5 rounded-full bg-white shadow-lg flex items-center justify-center",children:e.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-purple-600"})})})]},t))})]}),e.jsxs("div",{className:"space-y-3 border-t pt-4 border-slate-100",children:[e.jsx("h3",{className:"font-bold text-slate-900",children:"2. Background"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:Object.keys(ce).map(t=>e.jsx("button",{onClick:()=>H(t),className:`relative h-16 rounded-xl border-2 transition-all overflow-hidden ${D===t?"border-purple-500 shadow-lg scale-105":"border-slate-200 hover:border-purple-300"}`,style:{background:ce[t].style},children:D===t&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:"w-6 h-6 rounded-full bg-white shadow-lg flex items-center justify-center",children:e.jsx("div",{className:"w-3 h-3 rounded-full bg-purple-600"})})})},t))}),e.jsx("p",{className:"text-[10px] text-slate-400 text-center",children:ce[D].name})]}),e.jsxs("div",{className:"space-y-3 border-t pt-4 border-slate-100",children:[e.jsxs("h3",{className:"font-bold text-slate-900 flex items-center gap-2",children:[e.jsx(be,{className:"w-4 h-4 text-purple-600"}),"3. Decorations"]}),e.jsx(de,{onClick:Ie,variant:"outline",className:"w-full rounded-full h-10",children:"Shuffle Decorations"}),s!==null&&e.jsxs("p",{className:"text-xs text-slate-500 text-center pt-2",children:["Element #",s+1," selected • Use Decor mode to adjust"]})]}),e.jsxs("div",{className:"space-y-3 border-t pt-4 border-slate-100",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"font-bold text-slate-900 flex items-center gap-2",children:[e.jsx(ve,{className:"w-4 h-4 text-purple-600"}),"4. Text"]}),e.jsx("button",{onClick:()=>Y(!k),className:`px-4 py-1.5 rounded-full text-sm font-medium transition-all ${k?"bg-purple-600 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:k?"ON":"OFF"})]}),k&&e.jsxs("div",{className:"space-y-4 pt-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Text"}),e.jsx("input",{type:"text",value:T,onChange:t=>O(t.target.value),className:"w-full px-4 py-2 rounded-lg border-2 border-slate-200 focus:border-purple-500 focus:outline-none font-heading font-bold",placeholder:"Enter text..."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Color"}),e.jsx("div",{className:"grid grid-cols-6 gap-2",children:vt.map(t=>e.jsx("button",{onClick:()=>se(t.value),className:`w-full aspect-square rounded-lg border-2 transition-all ${oe===t.value?"border-purple-500 scale-110":"border-slate-200 hover:border-purple-300"}`,style:{backgroundColor:t.value},title:t.name},t.value))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium text-slate-700",children:["Size: ",Math.round(X),"px"]}),e.jsx(Ze,{value:[X],onValueChange:t=>J(t[0]),min:24,max:120,step:4,className:"w-full"})]})]})]}),e.jsx("div",{className:"pt-4",children:e.jsxs(de,{onClick:Ue,className:"w-full rounded-full h-12 font-bold bg-purple-600 hover:bg-purple-700 shadow-lg",children:[e.jsx(ze,{className:"w-5 h-5 mr-2"}),"Download Design"]})})]})})]})]})},je={frameColor:f.colors.primary.green,blobCount:4,orbitSpeed:6,spread:100,roughness:.4,colors:[f.colors.primary.pink,f.colors.primary.blue,f.colors.primary.yellow,f.colors.primary.green],bgGradient:f.gradients.dark},Ce={image:{x:500,y:500,scale:1,rotate:0},frame:{x:500,y:500,scale:1.2,rotate:0}},jt=({initialImage:g})=>{const[r,v]=i.useState(je),[d,m]=i.useState(Ce),[z,j]=i.useState(g||"https://picsum.photos/seed/kids/800/1000"),[a,E]=i.useState(!0),[D,H]=i.useState(null),[N,P]=i.useState({back:[],mask:[],decor:[]}),k=i.useRef(null),{toast:Y}=ue(),T=i.useRef({active:!1,mode:null,startPos:{x:0,y:0},initialTransform:null});i.useEffect(()=>{const s=document.createElement("link");return s.href="https://fonts.googleapis.com/css2?family=DynaPuff:wght@400..700&family=Nunito:wght@400..900&display=swap",s.rel="stylesheet",document.head.appendChild(s),()=>{document.head.removeChild(s)}},[]);const O=(s=3)=>Array.from({length:s}).map((h,x)=>({baseAngle:x*(360/s),angleJitter:(Math.random()-.5)*40,sizeRandom:Math.random(),distRandom:Math.random(),speedScale:.8+Math.random()*.4,phaseOffset:Math.random()*2*Math.PI})),V=()=>{P({back:O(3),mask:O(3),decor:Array.from({length:r.blobCount}).map(()=>({angle:Math.random()*2*Math.PI,extraDist:Math.random()*150,color:r.colors[Math.floor(Math.random()*r.colors.length)],parts:O(2)}))})},ne=()=>{v(je),m(Ce)};i.useEffect(()=>{V()},[r.blobCount]);const Z=s=>{var x,u,C,M,p;if(!k.current)return{x:0,y:0};const h=k.current.createSVGPoint();return h.x=s.clientX||((u=(x=s.touches)==null?void 0:x[0])==null?void 0:u.clientX),h.y=s.clientY||((M=(C=s.touches)==null?void 0:C[0])==null?void 0:M.clientY),h.matrixTransform((p=k.current.getScreenCTM())==null?void 0:p.inverse())},U=(s,h,x)=>{s.stopPropagation();const u=Z(s);H(h),T.current={active:!0,mode:x,startPos:u,initialTransform:{...d[h]}}},X=s=>{if(!T.current.active||!D)return;const h=Z(s),{startPos:x,initialTransform:u,mode:C}=T.current;m(M=>{const p={...M[D]};if(C==="move"){const F=h.x-x.x,w=h.y-x.y;p.x=u.x+F,p.y=u.y+w}else if(C==="transform"){const F=Math.atan2(x.y-u.y,x.x-u.x),$=(Math.atan2(h.y-u.y,h.x-u.x)-F)*(180/Math.PI);p.rotate=u.rotate+$;const _=Math.hypot(x.x-u.x,x.y-u.y),W=Math.hypot(h.x-u.x,h.y-u.y),q=u.scale*(W/_);p.scale=Math.max(.1,q)}return{...M,[D]:p}})},J=()=>{T.current.active=!1},oe=async()=>{if(k.current)try{const s=new XMLSerializer().serializeToString(k.current),h=document.createElement("canvas"),x=h.getContext("2d"),u=new Image,C=k.current.viewBox.baseVal;h.width=1e3,h.height=1e3,u.onload=()=>{if(x){x.fillStyle=r.bgGradient.includes("gradient")?"#0d142a":r.bgGradient,x.fillRect(0,0,1e3,1e3),x.drawImage(u,0,0);const F=h.toDataURL("image/png"),w=document.createElement("a");w.href=F,w.download=`blob-design-${Date.now()}.png`,w.click()}};const M=(await Fe(async()=>{const{default:F}=await import("./html2canvas.esm-CBrSDip1.js");return{default:F}},[])).default,p=k.current.parentElement;if(p){const F=await M(p,{useCORS:!0,backgroundColor:null,scale:2}),w=document.createElement("a");w.download=`dispet-blob-${Date.now()}.png`,w.href=F.toDataURL(),w.click(),Y({title:"Downloaded!",description:"Check your downloads folder."})}}catch(s){console.error("Download failed",s),Y({title:"Error",description:"Could not download image. CORS issues likely.",variant:"destructive"})}},se=({parts:s,spread:h,speed:x,baseR:u,roughness:C,cx:M=0,cy:p=0,fill:F="white",intensity:w=1})=>e.jsx("g",{transform:`translate(${M}, ${p})`,children:s.map(($,_)=>{const W=u*(.8+$.sizeRandom*C),q=h*(.8+$.distRandom*.4),ae=Math.min(q,W*.85),G=$.baseAngle+$.angleJitter,K=15*w,le=.1*w;return e.jsxs(qe.Fragment,{children:[e.jsx("circle",{cx:0,cy:0,r:W,fill:F,style:{animation:`wobble-${_} ${x*$.speedScale}s ease-in-out infinite alternate`,animationDelay:`${$.phaseOffset}s`}}),e.jsx("style",{children:`
                  @keyframes wobble-${_} {
                    0% { transform: rotate(${G-K}deg) translateX(${ae*(1-le)}px); }
                    100% { transform: rotate(${G+K}deg) translateX(${ae*(1+le)}px); }
                  }
                `})]},_)})});return e.jsxs("div",{className:"relative w-full h-[80vh] overflow-hidden text-slate-100 touch-none select-none rounded-xl border border-slate-700",style:{background:r.bgGradient,fontFamily:f.fonts.primary},onPointerMove:X,onPointerUp:J,onPointerLeave:J,children:[e.jsxs("svg",{ref:k,className:"w-full h-full",viewBox:"0 0 1000 1000",preserveAspectRatio:"xMidYMid meet",onPointerDown:()=>H(null),children:[e.jsxs("defs",{children:[e.jsxs("filter",{id:"goo",children:[e.jsx("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"25",result:"blur"}),e.jsx("feColorMatrix",{in:"blur",mode:"matrix",values:"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 25 -9",result:"goo"}),e.jsx("feComposite",{in:"SourceGraphic",in2:"goo",operator:"atop"})]}),e.jsxs("mask",{id:"blobMask",children:[e.jsx("rect",{width:"100%",height:"100%",fill:"black"}),e.jsx("g",{filter:"url(#goo)",children:N.mask.length>0&&e.jsx("g",{transform:`translate(${d.image.x}, ${d.image.y}) scale(${d.image.scale}) rotate(${d.image.rotate})`,children:e.jsx(se,{parts:N.mask,spread:r.spread,speed:r.orbitSpeed,baseR:170,roughness:r.roughness,fill:"white",intensity:1})})})]})]}),e.jsx("g",{filter:"url(#goo)",children:N.back.length>0&&e.jsx("g",{transform:`translate(${d.frame.x}, ${d.frame.y}) scale(${d.frame.scale}) rotate(${d.frame.rotate})`,children:e.jsx(se,{parts:N.back,spread:r.spread*1.2,speed:r.orbitSpeed,baseR:190,roughness:r.roughness,fill:r.frameColor,intensity:1})})}),e.jsx("circle",{cx:d.frame.x,cy:d.frame.y,r:250*d.frame.scale,fill:"transparent",className:"cursor-move pointer-events-auto",onPointerDown:s=>U(s,"frame","move")}),e.jsx("image",{href:z,x:"0",y:"0",width:"1000",height:"1000",preserveAspectRatio:"xMidYMid slice",mask:"url(#blobMask)",style:{transition:"none"},pointerEvents:"none"}),e.jsx("circle",{cx:d.image.x,cy:d.image.y,r:200*d.image.scale,fill:"transparent",className:"cursor-move pointer-events-auto",onPointerDown:s=>U(s,"image","move")}),e.jsx("g",{filter:"url(#goo)",children:N.decor.map((s,h)=>{const u=(320+r.spread*.8+r.roughness*40)*d.image.scale+s.extraDist,C=d.image.x+Math.cos(s.angle)*u,M=d.image.y+Math.sin(s.angle)*u;return e.jsx(se,{cx:C,cy:M,parts:s.parts,spread:30,speed:r.orbitSpeed*.4,baseR:30,roughness:r.roughness,fill:s.color,intensity:2.5},h)})}),e.jsx(me,{id:"frame",selectedId:D,transform:d.frame,radius:250,onDragStart:U}),e.jsx(me,{id:"image",selectedId:D,transform:d.image,radius:200,onDragStart:U})]}),e.jsx("div",{className:`absolute top-4 right-4 z-50 transition-transform duration-300 ${a?"translate-x-0":"translate-x-full"}`,children:e.jsxs("div",{className:"bg-[#111519]/90 backdrop-blur-md border border-[#43bfe6]/30 p-6 rounded-2xl shadow-xl w-80 max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl bg-clip-text text-transparent bg-gradient-to-r from-[#e83e70] to-[#ffcd07]",style:{fontFamily:f.fonts.display},children:"Dispet Editor"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:ne,className:"text-[#8fd2e8] hover:text-[#e83e70] transition-colors",children:e.jsx(Ke,{size:16})}),e.jsx("button",{onClick:()=>E(!1),className:"text-[#8fd2e8] hover:text-white",children:e.jsx(Xe,{size:20})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-[#0089cd]/20 p-3 rounded-lg border border-[#0089cd]/30 text-xs text-[#8fd2e8]",children:[e.jsxs("div",{className:"flex gap-2 mb-1 font-bold text-[#43bfe6]",children:[e.jsx(Ee,{size:14})," Interaction Mode"]}),e.jsxs("ul",{className:"list-disc pl-4 space-y-1 opacity-80",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Tap/Click"})," a blob to select it."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Drag"})," center to move."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Drag Handle"})," (Yellow Dot) to rotate/scale."]})]})]}),e.jsx("hr",{className:"border-[#43bfe6]/20"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold text-[#73b72b]",style:{fontFamily:f.fonts.primary},children:[e.jsx(Qe,{size:16})," Dynamics"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex justify-between text-xs text-[#c8da80]",children:["Irregularity ",e.jsxs("span",{children:[Math.round(r.roughness*100),"%"]})]}),e.jsx("input",{type:"range",min:"0",max:"1.5",step:"0.1",value:r.roughness,onChange:s=>v({...r,roughness:Number(s.target.value)}),className:"w-full h-2 bg-[#f1f1f0] rounded-lg appearance-none cursor-pointer accent-[#73b72b]"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs text-[#c8da80]",children:"Blob Spread"}),e.jsx("input",{type:"range",min:"50",max:"200",value:r.spread,onChange:s=>v({...r,spread:Number(s.target.value)}),className:"w-full h-2 bg-[#f1f1f0] rounded-lg appearance-none cursor-pointer accent-[#73b72b]"})]})]}),e.jsx("hr",{className:"border-[#43bfe6]/20"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold text-[#e83e70]",style:{fontFamily:f.fonts.primary},children:[e.jsx(et,{size:16})," Brand Colors"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs text-[#f39fbd]",children:"Frame Color"}),e.jsx("div",{className:"flex gap-2",children:Object.values(f.colors.primary).map(s=>e.jsx("button",{onClick:()=>v({...r,frameColor:s}),className:`w-6 h-6 rounded-full border-2 ${r.frameColor===s?"border-white scale-110":"border-transparent"}`,style:{backgroundColor:s}},s))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs text-[#f39fbd]",children:"Background"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>v({...r,bgGradient:f.gradients.dark}),className:`w-8 h-8 rounded border-2 ${r.bgGradient===f.gradients.dark?"border-white":"border-transparent"}`,style:{background:f.gradients.dark},title:"Navy (Dark Mode)"}),e.jsx("button",{onClick:()=>v({...r,bgGradient:f.gradients.vibrant}),className:`w-8 h-8 rounded border-2 ${r.bgGradient===f.gradients.vibrant?"border-white":"border-transparent"}`,style:{background:f.gradients.vibrant},title:"Vibrant"}),e.jsx("button",{onClick:()=>v({...r,bgGradient:f.gradients.aqua}),className:`w-8 h-8 rounded border-2 ${r.bgGradient===f.gradients.aqua?"border-white":"border-transparent"}`,style:{background:f.gradients.aqua},title:"Aqua"})]})]})]}),e.jsxs("button",{onClick:V,className:"w-full py-2 bg-[#e83e70] hover:bg-[#ffcd07] text-[#111519] font-bold rounded-lg flex items-center justify-center gap-2 text-sm transition-colors shadow-lg",style:{fontFamily:f.fonts.display},children:[e.jsx(tt,{size:14})," Mix Clusters"]}),e.jsxs("button",{onClick:oe,className:"w-full py-2 bg-[#43bfe6] hover:bg-[#ffcd07] text-[#111519] font-bold rounded-lg flex items-center justify-center gap-2 text-sm transition-colors shadow-lg mt-2",style:{fontFamily:f.fonts.display},children:[e.jsx(ze,{size:14})," Download"]}),e.jsxs("div",{className:"pt-4",children:[e.jsxs("label",{className:"flex items-center gap-2 text-xs text-[#8fd2e8] mb-2",children:[e.jsx(Me,{size:14})," Image URL"]}),e.jsx("input",{type:"text",value:z,onChange:s=>j(s.target.value),className:"w-full bg-[#0d142a] border border-[#43bfe6]/50 rounded px-3 py-2 text-xs text-[#8fd2e8] focus:outline-none focus:border-[#e83e70]"})]})]})]})}),!a&&e.jsx("button",{onClick:()=>E(!0),className:"absolute top-4 right-4 bg-[#e83e70] p-3 rounded-full shadow-lg text-white hover:bg-[#ffcd07] hover:text-[#111519] transition-colors z-50",children:e.jsx(We,{size:20})})]})},Ct=()=>{const[g,r]=i.useState(null),[v,d]=i.useState(null),m=i.useRef(null),{toast:z}=ue(),[j,a]=i.useState("templates"),E=N=>{r(N),setTimeout(()=>{var P;return(P=m.current)==null?void 0:P.click()},100)},D=N=>{var Y;const P=(Y=N.target.files)==null?void 0:Y[0];if(!P){r(null);return}if(!P.type.startsWith("image/")){z({title:"Invalid file type",description:"Please select an image file",variant:"destructive"}),r(null);return}const k=new FileReader;k.onload=T=>{var O;d((O=T.target)==null?void 0:O.result)},k.readAsDataURL(P)},H=()=>{d(null),r(null),m.current&&(m.current.value="")};return j==="templates"&&g&&v?e.jsx(kt,{template:g,uploadedImage:v,onBack:H}):e.jsxs("div",{className:"w-full max-w-6xl mx-auto px-4",children:[e.jsx("div",{className:"flex justify-center mb-8",children:e.jsxs("div",{className:"bg-slate-100 p-1 rounded-full flex gap-1 shadow-inner",children:[e.jsx("button",{onClick:()=>a("templates"),className:`px-6 py-2.5 rounded-full font-bold text-sm transition-all ${j==="templates"?"bg-white shadow-sm text-slate-900 ring-1 ring-slate-200":"text-slate-500 hover:text-slate-700"}`,children:"Social Templates"}),e.jsx("button",{onClick:()=>a("blobs"),className:`px-6 py-2.5 rounded-full font-bold text-sm transition-all ${j==="blobs"?"bg-slate-900 text-white shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:"Blob Studio"})]})}),j==="blobs"?e.jsx("div",{className:"animate-in fade-in zoom-in-95 duration-300",children:e.jsx(jt,{})}):e.jsxs(e.Fragment,{children:[e.jsx("input",{ref:m,type:"file",accept:"image/*",onChange:D,className:"hidden"}),e.jsxs("div",{className:"mb-8 space-y-2 text-center lg:text-left",children:[e.jsx("h2",{className:"text-3xl font-sans font-bold text-gray-900 tracking-tight",children:"Create New Post"}),e.jsx("p",{className:"text-muted-foreground font-sans text-lg",children:"Select a platform and format to start designing with AI assistance."})]}),e.jsxs(Se,{defaultValue:"instagram",className:"w-full space-y-8",children:[e.jsx("div",{className:"flex justify-center lg:justify-start",children:e.jsxs(De,{className:"grid w-full grid-cols-2 max-w-[400px] h-12 bg-gray-100/80 p-1 rounded-full border border-gray-200 shadow-inner",children:[e.jsxs(te,{value:"instagram",className:"flex items-center gap-2 rounded-full data-[state=active]:bg-white data-[state=active]:text-pink-600 data-[state=active]:shadow-sm transition-all text-base font-medium",children:[e.jsx(at,{className:"w-4 h-4"})," Instagram"]}),e.jsxs(te,{value:"facebook",className:"flex items-center gap-2 rounded-full data-[state=active]:bg-white data-[state=active]:text-blue-600 data-[state=active]:shadow-sm transition-all text-base font-medium",children:[e.jsx(st,{className:"w-4 h-4"})," Facebook"]})]})}),e.jsx(ye,{value:"instagram",children:e.jsx(we,{platform:"instagram",onSelect:E,selectedTemplateId:(g==null?void 0:g.id)||null})}),e.jsx(ye,{value:"facebook",children:e.jsx(we,{platform:"facebook",onSelect:E,selectedTemplateId:(g==null?void 0:g.id)||null})})]})]})]})},Pt=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Social Media Studio"})}),e.jsx(Ct,{})]});export{Pt as default};
