import{l as $e,r as a,j as e,L as J,I as X,B as K,a3 as Z,a4 as es,a5 as at,a6 as z,a7 as Oe,a8 as F,a9 as $,aa as ts,n as Q,ab as ss,g as U,ac as as,ad as rt,ae as rs,af as ee,ag as nt,ah as ns,ai as os,aj as is,ak as ls,al as cs,am as ds,an as Fe,ao as us,ap as ps,aq as hs,ar as ms,as as gs,at as Ye,au as fs,av as xs,b as Ke,a as me,a0 as vs,a2 as Qe,aw as bs,F as ve,J as be,Z as Ze,K as ye,a1 as ys,ax as js,w as ws,u as Ss,ay as Ns}from"./index-BKHBW7nG.js";import{S as Me,a as Cs,r as ks,b as Ts,c as Is,u as ot,T as it,d as lt,e as de,f as he,g as je}from"./tabs-DMjfosGI.js";import{S as Ps}from"./send-BknlmpkG.js";import{C as Ge}from"./check-BCiTuYuT.js";import{A as ct}from"./arrow-left-OE9AxAgu.js";import{a as Ne,C as dt,b as Es,d as Rs,c as _s}from"./collapsible-D0KLMt6K.js";import{M as Xe,U as As}from"./MediaPicker-B1GUq91N.js";import{R as Je}from"./quill.snow-CRbA7Kgj.js";import{B as Os}from"./badge-VGBY9r7f.js";import{R as Ms}from"./refresh-cw-DW34DT4M.js";import{S as we}from"./save-C3bmp4kE.js";import{B as Ds}from"./minus-D2vbgcsi.js";import"./palette-CmdmYI0u.js";import"./clock-HQu2rO1K.js";import"./chevron-right-D8w_nfO_.js";import"./isEqual-Cemubqkx.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=$e("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=$e("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=$e("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),Vs=({onImageSelect:t,onCancel:o})=>{const[s,i]=a.useState(""),[l,u]=a.useState("cartoon"),[c,n]=a.useState(!1),[r,m]=a.useState(null),v=async b=>new Promise((x,d)=>{const f=new Image;f.crossOrigin="anonymous",f.onload=()=>{const y=document.createElement("canvas");y.width=f.width,y.height=f.height;const p=y.getContext("2d");p==null||p.drawImage(f,0,0),x(y.toDataURL("image/png"))},f.onerror=d,f.src=b}),g=async()=>{if(!s.trim()){Z.error("Molimo unesite opis dizajna");return}n(!0),m(null);try{const{refinePrompt:b,generateImageWithGemini:x}=await es(async()=>{const{refinePrompt:C,generateImageWithGemini:j}=await import("./client-CotKAJKT.js");return{refinePrompt:C,generateImageWithGemini:j}},[]),d=[ks,Ts,Is],f=await Promise.all(d.map(C=>v(C)));Z.info("Refining prompt...");const y=await b(s);console.log("Refined:",y);const p=s||"striking a fun, energetic pose",h=`
ðŸŽ­ MASCOT CHARACTER "ROKO":
âš ï¸ MOST CRITICAL: The character's EXACT appearance is provided in the attached 3 reference images. 
ðŸ“¸ IMAGE 1 is the FACE reference. IMAGES 2-3 are for character/outfit reference.
Copy EXACT facial features from IMAGE 1 (Headshot). The face is the character's identity - get it EXACTLY right.
ðŸš« IMPORTANT: DO NOT include any shop logos, text emblems, or specific branding designs (like logo-5) that may be visible in the reference images. The character should have CLEAN clothing without any specific shop designs.
DO NOT use generic animal data. Roko is a character exactly as shown in references.
            `,_={"no-style":`Create a high-resolution version of the mascot character (ROKO) ${p} in a square aspect ratio. Focus purely on the character's likeness and the requested action.

${h}`,anime:`Create a high-resolution, print-ready illustration of the mascot character (ROKO) ${p} in a square aspect ratio. Use clean vector shapes, bold outlines, energetic anime effects, cel-shaded coloring, motion streaks, and vibrant color accents.

The design should have a clear silhouette and strong central composition suitable for apparel printing.

Use professional print-design aesthetics similar to premium streetwear, character-based graphics, or modern pop-anime poster styles.

ANIME STYLE
${h}

Design requirements:
â€¢ SQUARE (1:1)
â€¢ Anime-style effects, speed lines, glow accents`,synthwave:`Create a high-resolution, print-ready illustration of the mascot character (ROKO) ${p} in a square aspect ratio. Use clean vector shapes, bold outlines, neon gradients, retro 80s colors, gridlines, glowing geometric fragments, and synthwave sun elements.

The design should have a clear silhouette and strong central composition suitable for apparel printing.

Use professional print-design aesthetics similar to premium streetwear, neon-retro artwork, or modern synthwave poster design.

SYNTHWAVE STYLE
${h}

Design requirements:
â€¢ SQUARE (1:1)
â€¢ Neon, chrome, and synthwave design elements`,gta:`Create a high-resolution, print-ready illustration of the mascot character (ROKO) ${p} in a square aspect ratio. Use clean vector shapes, bold outlines, flat comic-cell shading, sharp color blocks, and minimal background elements inspired by GTA loading screen artwork.

The design should have a clear silhouette and strong central composition suitable for apparel printing.

Use professional print-design aesthetics similar to premium streetwear or stylized GTA poster graphics.

GTA STYLE
${h}

Design requirements:
â€¢ SQUARE (1:1)
â€¢ GTA-style shading, poster elements, and color blocking
â€¢ Balanced contrast and strong outlines`,cyberpunk:`Create a high-resolution, print-ready illustration of the mascot character (ROKO) ${p} in a square aspect ratio. Use clean vector shapes, bold outlines, holographic glows, neon lighting, electric fragments, cybernetic accents, and futuristic color palettes.

The design should have a clear silhouette and strong central composition suitable for apparel printing.

Use professional print-design aesthetics similar to futuristic streetwear or modern neon cyberpunk posters.

CYBERPUNK STYLE
${h}

Design requirements:
â€¢ SQUARE (1:1)
â€¢ Cyberpunk neon, holographic shapes, electric effects`,cartoon:`Create a high-resolution, print-ready illustration of the mascot character (ROKO) ${p} in a square aspect ratio. Use clean vector shapes, bold outlines, playful cartoon features, graffiti splashes, fun geometric fragments, and colorful dynamic highlights.

The design should have a clear silhouette and strong central composition suitable for apparel printing.

Use professional print-design aesthetics similar to premium mascot logos or modern cartoon streetwear graphics.

CARTOON MASCOT STYLE
${h}

Design requirements:
â€¢ SQUARE (1:1)
â€¢ Cartoon-style exaggeration, graffiti accents`,"3d":`Create a high-resolution, print-ready illustration of the mascot character (ROKO) ${p} in a square aspect ratio. Use clean vector-inspired 3D shapes, bold outlines, soft cinematic lighting, glossy materials, and stylized shading.

The design should have a clear silhouette and strong central composition suitable for apparel printing.

Use professional print-design aesthetics similar to collectible 3D figurines or stylized 3D streetwear graphics.

3D STYLIZED STYLE
${h}

Design requirements:
â€¢ SQUARE (1:1)
â€¢ Stylized 3D lighting and smooth materials`,retro:`Create a high-resolution, print-ready illustration of the mascot character (ROKO) ${p} in a square aspect ratio. Use clean vector shapes, bold outlines, muted retro color palettes, halftone textures, and vintage geometric fragments.

The design should have a clear silhouette and strong central composition suitable for apparel printing.

Use professional print-design aesthetics inspired by classic vintage posters and retro streetwear.

RETRO / VINTAGE STYLE
${h}

Design requirements:
â€¢ SQUARE (1:1)
â€¢ Retro halftones, muted colors, vintage poster shapes`,inkpunk:`Create a high-resolution, print-ready illustration of the mascot character (ROKO) ${p} in a square aspect ratio. Use clean vector shapes, bold outlines, aggressive ink strokes, splashes, neon drips, expressive brush fragments, and chaotic graffiti elements.

The design should have a clear silhouette and strong central composition suitable for apparel printing.

Use professional print-design aesthetics inspired by expressive inkpunk and street-art fusion posters.

INKPUNK STYLE
${h}

Design requirements:
â€¢ SQUARE (1:1)
â€¢ Ink strokes, splatters, drips, neon graffiti chaos`,steampunk:`Create a high-resolution, print-ready illustration of the mascot character (ROKO) ${p} in a square aspect ratio. Use clean vector shapes, bold outlines, brass and copper tones, gears, goggles, mechanical fragments, and Victorian-inspired steampunk design elements.

The design should have a clear silhouette and strong central composition suitable for apparel printing.

Use professional print-design aesthetics similar to premium steampunk fashion and mechanical poster art.

STEAMPUNK STYLE
${h}

Design requirements:
â€¢ SQUARE (1:1)
â€¢ Steampunk gears, pipes, goggles, metallic textures`,noir:`Create a high-resolution, print-ready illustration of the mascot character (ROKO) ${p} in a square aspect ratio. Use clean vector shapes, bold outlines, heavy noir shadows, moody lighting, limited palette (black, white, red), and gritty comic-style textures.

The design should have a clear silhouette and strong central composition suitable for apparel printing.

Use professional print-design aesthetics inspired by noir graphic novels and dark comic posters.

NOIR / DARK COMIC STYLE
${h}

Design requirements:
â€¢ SQUARE (1:1)
â€¢ Noir shadows, dramatic lighting, gritty comic shading`,fantasy:`Create a high-resolution, print-ready illustration of the mascot character (ROKO) ${p} in a square aspect ratio. Use clean vector shapes, bold outlines, magical glows, enchanted particles, ornate fantasy fragments, and dramatic lighting.

The design should have a clear silhouette and strong central composition suitable for apparel printing.

Use professional print-design aesthetics similar to heroic fantasy posters and RPG character art.

FANTASY / RPG STYLE
${h}

Design requirements:
â€¢ SQUARE (1:1)
â€¢ Magical particles, glowing runes, fantasy lighting`,minimalist:`Create a high-resolution, print-ready illustration of the mascot character (ROKO) ${p} in a square aspect ratio. Use clean geometric vector shapes, bold outlines, smooth curves, limited color palette, and modern design fragments.

The design should have a clear silhouette and strong central composition suitable for apparel printing.

Use professional print-design aesthetics similar to minimalist vector posters and premium logo-style art.

MINIMALIST MODERN VECTOR STYLE
${h}

Design requirements:
â€¢ SQUARE (1:1)
â€¢ Minimal geometric shapes, clean flat colors`,"abstract-geometry":`Create a stunning, high-resolution print-ready illustration of the mascot character (ROKO) ${p} in a square aspect ratio. Surround the mascot character with a dynamic explosion of abstract shapes, colorful liquid splashes, sharp geometric fragments, stars, and vibrant decorative particles. Style reference: explosive, colorful, high-contrast liquid-geometric fusion. 

The design should have a clear silhouette and strong central composition suitable for apparel printing.

ABSTRACT SHAPES & GEOMETRY STYLE
${h}

Design requirements:
â€¢ SQUARE (1:1)
â€¢ Abstract geometric fragments, shards, and layered shapes`},V=_[l]||_.cartoon;Z.info("Generating with Nano Banana...");const H=await x(V,"{prompt}",f);H&&(m(H),Z.success("Generated successfully!"))}catch(b){console.error("Generation error:",b),Z.error(b.message||"Generiranje nije uspjelo. Provjerite API kljuÄ.")}finally{n(!1)}},S=async()=>{r&&t(r)};return e.jsxs("div",{className:"space-y-6 py-4",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("div",{className:"inline-flex items-center justify-center p-3 bg-purple-100 rounded-full mb-2",children:e.jsx(Me,{className:"w-6 h-6 text-purple-600"})}),e.jsx("h2",{className:"text-2xl font-bold font-heading",children:"AI Design Studio"}),e.jsx("p",{className:"text-gray-500",children:"Describe your idea and let Nano Banana create it using Roko's reference images."})]}),e.jsx("div",{className:"bg-gray-50 p-3 sm:p-6 rounded-xl border border-gray-100",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("div",{className:"aspect-square w-full max-w-sm mx-auto bg-white rounded-lg border-2 border-dashed border-gray-200 flex items-center justify-center overflow-hidden relative",children:c?e.jsxs("div",{className:"text-center space-y-3",children:[e.jsx(J,{className:"w-10 h-10 animate-spin text-primary mx-auto"}),e.jsx("p",{className:"text-sm text-gray-500 font-medium animate-pulse",children:"Creating masterpiece..."})]}):r?e.jsx("img",{src:r,alt:"Generated",className:"w-full h-full object-contain"}):e.jsxs("div",{className:"text-center text-gray-400",children:[e.jsx(Me,{className:"w-10 h-10 mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:"Driven by Gemini 2.5"})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(Cs,{selectedStyle:l,onStyleSelect:u}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(X,{value:s,onChange:b=>i(b.target.value),placeholder:"E.g. Roko playing saxophone on the moon...",className:"bg-white",onKeyDown:b=>b.key==="Enter"&&g()}),e.jsx(K,{onClick:g,disabled:c||!s.trim(),children:c?e.jsx(J,{className:"w-4 h-4 animate-spin"}):e.jsx(Ps,{className:"w-4 h-4"})})]})]})]})}),e.jsxs("div",{className:"flex justify-between items-center pt-4 border-t",children:[e.jsx(K,{variant:"ghost",onClick:o,children:"Cancel"}),e.jsx("div",{className:"space-x-2",children:r&&e.jsxs(K,{onClick:S,className:"bg-green-600 hover:bg-green-700 text-white",children:[e.jsx(Ge,{className:"w-4 h-4 mr-2"}),"Use This Design"]})})]})]})};var Ce="Switch",[Hs,za]=at(Ce),[qs,$s]=Hs(Ce),ut=a.forwardRef((t,o)=>{const{__scopeSwitch:s,name:i,checked:l,defaultChecked:u,required:c,disabled:n,value:r="on",onCheckedChange:m,form:v,...g}=t,[S,b]=a.useState(null),x=z(o,h=>b(h)),d=a.useRef(!1),f=S?v||!!S.closest("form"):!0,[y,p]=Oe({prop:l,defaultProp:u??!1,onChange:m,caller:Ce});return e.jsxs(qs,{scope:s,checked:y,disabled:n,children:[e.jsx(F.button,{type:"button",role:"switch","aria-checked":y,"aria-required":c,"data-state":gt(y),"data-disabled":n?"":void 0,disabled:n,value:r,...g,ref:x,onClick:$(t.onClick,h=>{p(_=>!_),f&&(d.current=h.isPropagationStopped(),d.current||h.stopPropagation())})}),f&&e.jsx(mt,{control:S,bubbles:!d.current,name:i,value:r,checked:y,required:c,disabled:n,form:v,style:{transform:"translateX(-100%)"}})]})});ut.displayName=Ce;var pt="SwitchThumb",ht=a.forwardRef((t,o)=>{const{__scopeSwitch:s,...i}=t,l=$s(pt,s);return e.jsx(F.span,{"data-state":gt(l.checked),"data-disabled":l.disabled?"":void 0,...i,ref:o})});ht.displayName=pt;var Fs="SwitchBubbleInput",mt=a.forwardRef(({__scopeSwitch:t,control:o,checked:s,bubbles:i=!0,...l},u)=>{const c=a.useRef(null),n=z(c,u),r=ot(s),m=ts(o);return a.useEffect(()=>{const v=c.current;if(!v)return;const g=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(g,"checked").set;if(r!==s&&b){const x=new Event("click",{bubbles:i});b.call(v,s),v.dispatchEvent(x)}},[r,s,i]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...l,tabIndex:-1,ref:n,style:{...l.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});mt.displayName=Fs;function gt(t){return t?"checked":"unchecked"}var ft=ut,Ks=ht;const ze=a.forwardRef(({className:t,...o},s)=>e.jsx(ft,{className:Q("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",t),...o,ref:s,children:e.jsx(Ks,{className:Q("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));ze.displayName=ft.displayName;const Gs="/assets/hoodie-string-black%20(2)-6s5mbvA2.png",zs="/assets/hoodie-string-black%20(4)-BeRhyIdq.png",Ws="/assets/hoodie-string-grey%20(3)-Bg0TWnno.png",Ys="/assets/hoodie-string-grey%20(4)-C-YDg0Fg.png",Qs=t=>new Promise((o,s)=>{const i=new Image;i.crossOrigin="anonymous",i.onload=()=>{const l=document.createElement("canvas");l.width=i.width,l.height=i.height;const u=l.getContext("2d");if(!u){s(new Error("Could not get canvas context"));return}u.drawImage(i,0,0);const c=u.getImageData(0,0,l.width,l.height),n=c.data;for(let r=0;r<n.length;r+=4){const m=n[r],v=n[r+1],g=n[r+2];m<15&&v<15&&g<15&&(n[r+3]=0)}u.putImageData(c,0,0),o(l.toDataURL("image/png"))},i.onerror=l=>s(l),i.src=t}),Zs=({generatedDesign:t,onConfirm:o,onBack:s})=>{const[i,l]=a.useState(null),[u,c]=a.useState("black"),[n,r]=a.useState("front"),[m,v]=a.useState(!1),[g,S]=a.useState({x:50,y:40}),[b,x]=a.useState(30),[d,f]=a.useState({x:50,y:20}),[y,p]=a.useState(15),h=a.useRef(null);a.useEffect(()=>{(async()=>{try{Z.info("Nano Banana processing background...");const N=await Qs(t);l(N),Z.success("Background removed!")}catch(N){console.error(N),Z.error("Failed to remove background"),l(t)}})()},[t]);const _=j=>u==="black"?j==="front"?Gs:zs:j==="front"?Ws:Ys,V=async()=>{if(!h.current)return;const j=h.current.toDataURL("image/png");o(j)};a.useEffect(()=>{if(!h.current||!i)return;const j=h.current,N=j.getContext("2d");if(!N)return;const I=new Image;I.crossOrigin="anonymous",I.src=_(n==="front"?"front":"back"),I.onload=()=>{j.width=I.width,j.height=I.height,N.drawImage(I,0,0);const D=new Image;D.src=i,D.onload=()=>{const T=I.width*b/100,P=T*D.height/D.width,q=I.width*g.x/100-T/2,k=I.height*g.y/100-P/2;N.drawImage(D,q,k,T,P),N.strokeStyle="rgba(0, 255, 0, 0.5)",N.lineWidth=2,N.strokeRect(q,k,T,P)}}},[i,u,n,g,b]);const[H,C]=a.useState("front");return a.useEffect(()=>{if(!h.current||!i)return;const j=h.current,N=j.getContext("2d");if(!N)return;const I=new Image;I.src=_(H),I.onload=()=>{if(j.width=I.width,j.height=I.height,N.drawImage(I,0,0),H===n){const P=new Image;P.src=i,P.onload=()=>{D(N,P,g,b,!0)}}else if(m){const P=new Image;P.src=ss,P.onload=()=>{D(N,P,d,y,!1)}}};const D=(T,P,q,k,A)=>{const O=T.canvas.width*k/100,B=O*P.height/P.width,W=T.canvas.width*q.x/100-O/2,ie=T.canvas.height*q.y/100-B/2;T.drawImage(P,W,ie,O,B),T.strokeStyle=A?"rgba(0, 200, 255, 0.5)":"rgba(255, 100, 100, 0.5)",T.setLineDash([5,5]),T.lineWidth=3,T.strokeRect(W,ie,O,B),T.setLineDash([])}},[H,i,u,n,m,g,b,d,y]),i?e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 h-full max-h-[80vh]",children:[e.jsxs("div",{className:"md:col-span-1 space-y-6 overflow-y-auto pr-2",children:[e.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-gray-50",children:[e.jsx("h3",{className:"font-bold",children:"1. Hoodie Options"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{className:`p-2 border rounded cursor-pointer text-center ${u==="black"?"ring-2 ring-primary border-primary":"hover:bg-white"}`,onClick:()=>c("black"),children:[e.jsx("div",{className:"w-6 h-6 bg-black rounded-full mx-auto mb-1 border border-white"}),e.jsx("span",{className:"text-xs font-medium",children:"Black"})]}),e.jsxs("div",{className:`p-2 border rounded cursor-pointer text-center ${u==="grey"?"ring-2 ring-primary border-primary":"hover:bg-white"}`,onClick:()=>c("grey"),children:[e.jsx("div",{className:"w-6 h-6 bg-gray-400 rounded-full mx-auto mb-1"}),e.jsx("span",{className:"text-xs font-medium",children:"Grey"})]})]})]}),e.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-gray-50",children:[e.jsx("h3",{className:"font-bold",children:"2. Design Placement"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(K,{variant:n==="front"?"default":"outline",onClick:()=>{r("front"),C("front")},className:"flex-1",children:"Front"}),e.jsx(K,{variant:n==="back"?"default":"outline",onClick:()=>{r("back"),C("back")},className:"flex-1",children:"Back"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-gray-50",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsxs(U,{children:["Add Logo to ",n==="front"?"Back":"Front","?"]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Adds 1web-logo-white"})]}),e.jsx(ze,{checked:m,onCheckedChange:v})]}),e.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-gray-50",children:[e.jsx("h3",{className:"font-bold",children:"3. Adjustments"}),e.jsxs(it,{value:H,onValueChange:j=>C(j),children:[e.jsxs(lt,{className:"w-full",children:[e.jsx(de,{value:"front",className:"flex-1",children:"Edit Front"}),e.jsx(de,{value:"back",className:"flex-1",children:"Edit Back"})]}),e.jsx("div",{className:"pt-4 space-y-4",children:H===n?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-sm font-medium text-blue-600",children:"Editing: Main Design"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx(U,{children:"Size"})," ",e.jsxs("span",{className:"text-xs",children:[b,"%"]})]}),e.jsx(he,{value:[b],onValueChange:([j])=>x(j),min:5,max:80,step:1})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx(U,{children:"Vertical Position"})," ",e.jsxs("span",{className:"text-xs",children:[g.y,"%"]})]}),e.jsx(he,{value:[g.y],onValueChange:([j])=>S(N=>({...N,y:j})),min:0,max:100,step:1})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx(U,{children:"Horizontal Position"})," ",e.jsxs("span",{className:"text-xs",children:[g.x,"%"]})]}),e.jsx(he,{value:[g.x],onValueChange:([j])=>S(N=>({...N,x:j})),min:0,max:100,step:1})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-sm font-medium text-red-600",children:"Editing: Logo Layer"}),m?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx(U,{children:"Size"})," ",e.jsxs("span",{className:"text-xs",children:[y,"%"]})]}),e.jsx(he,{value:[y],onValueChange:([j])=>p(j),min:2,max:40,step:1})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx(U,{children:"Vertical Position"})," ",e.jsxs("span",{className:"text-xs",children:[d.y,"%"]})]}),e.jsx(he,{value:[d.y],onValueChange:([j])=>f(N=>({...N,y:j})),min:0,max:100,step:1})]})]}):e.jsx("div",{className:"text-sm text-gray-500 italic",children:"Logo disabled"})]})})]})]})]}),e.jsxs("div",{className:"md:col-span-2 bg-gray-100 rounded-xl flex items-center justify-center p-4 relative border shadow-inner",children:[e.jsx("div",{className:"relative w-full h-full flex items-center justify-center",children:e.jsx("canvas",{ref:h,className:"max-w-full max-h-full shadow-2xl rounded"})}),e.jsxs("div",{className:"absolute bottom-6 right-6 flex gap-2",children:[e.jsxs(K,{variant:"secondary",onClick:s,children:[e.jsx(ct,{className:"w-4 h-4 mr-2"})," Back"]}),e.jsxs(K,{onClick:V,className:"bg-green-600 hover:bg-green-700",children:[e.jsx(Ge,{className:"w-4 h-4 mr-2"})," Create Product"]})]})]})]}):e.jsx("div",{className:"p-10 text-center",children:"Processing Design..."})};var Xs=[" ","Enter","ArrowUp","ArrowDown"],Js=[" ","Enter"],ne="Select",[ke,Te,ea]=as(ne),[ue,Wa]=at(ne,[ea,rt]),Ie=rt(),[ta,te]=ue(ne),[sa,aa]=ue(ne),xt=t=>{const{__scopeSelect:o,children:s,open:i,defaultOpen:l,onOpenChange:u,value:c,defaultValue:n,onValueChange:r,dir:m,name:v,autoComplete:g,disabled:S,required:b,form:x}=t,d=Ie(o),[f,y]=a.useState(null),[p,h]=a.useState(null),[_,V]=a.useState(!1),H=fs(m),[C,j]=Oe({prop:i,defaultProp:l??!1,onChange:u,caller:ne}),[N,I]=Oe({prop:c,defaultProp:n,onChange:r,caller:ne}),D=a.useRef(null),T=f?x||!!f.closest("form"):!0,[P,q]=a.useState(new Set),k=Array.from(P).map(A=>A.props.value).join(";");return e.jsx(xs,{...d,children:e.jsxs(ta,{required:b,scope:o,trigger:f,onTriggerChange:y,valueNode:p,onValueNodeChange:h,valueNodeHasChildren:_,onValueNodeHasChildrenChange:V,contentId:Fe(),value:N,onValueChange:I,open:C,onOpenChange:j,dir:H,triggerPointerDownPosRef:D,disabled:S,children:[e.jsx(ke.Provider,{scope:o,children:e.jsx(sa,{scope:t.__scopeSelect,onNativeOptionAdd:a.useCallback(A=>{q(O=>new Set(O).add(A))},[]),onNativeOptionRemove:a.useCallback(A=>{q(O=>{const B=new Set(O);return B.delete(A),B})},[]),children:s})}),T?e.jsxs(Ht,{"aria-hidden":!0,required:b,tabIndex:-1,name:v,autoComplete:g,value:N,onChange:A=>I(A.target.value),disabled:S,form:x,children:[N===void 0?e.jsx("option",{value:""}):null,Array.from(P)]},k):null]})})};xt.displayName=ne;var vt="SelectTrigger",bt=a.forwardRef((t,o)=>{const{__scopeSelect:s,disabled:i=!1,...l}=t,u=Ie(s),c=te(vt,s),n=c.disabled||i,r=z(o,c.onTriggerChange),m=Te(s),v=a.useRef("touch"),[g,S,b]=$t(d=>{const f=m().filter(h=>!h.disabled),y=f.find(h=>h.value===c.value),p=Ft(f,d,y);p!==void 0&&c.onValueChange(p.value)}),x=d=>{n||(c.onOpenChange(!0),b()),d&&(c.triggerPointerDownPosRef.current={x:Math.round(d.pageX),y:Math.round(d.pageY)})};return e.jsx(rs,{asChild:!0,...u,children:e.jsx(F.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:n,"data-disabled":n?"":void 0,"data-placeholder":qt(c.value)?"":void 0,...l,ref:r,onClick:$(l.onClick,d=>{d.currentTarget.focus(),v.current!=="mouse"&&x(d)}),onPointerDown:$(l.onPointerDown,d=>{v.current=d.pointerType;const f=d.target;f.hasPointerCapture(d.pointerId)&&f.releasePointerCapture(d.pointerId),d.button===0&&d.ctrlKey===!1&&d.pointerType==="mouse"&&(x(d),d.preventDefault())}),onKeyDown:$(l.onKeyDown,d=>{const f=g.current!=="";!(d.ctrlKey||d.altKey||d.metaKey)&&d.key.length===1&&S(d.key),!(f&&d.key===" ")&&Xs.includes(d.key)&&(x(),d.preventDefault())})})})});bt.displayName=vt;var yt="SelectValue",jt=a.forwardRef((t,o)=>{const{__scopeSelect:s,className:i,style:l,children:u,placeholder:c="",...n}=t,r=te(yt,s),{onValueNodeHasChildrenChange:m}=r,v=u!==void 0,g=z(o,r.onValueNodeChange);return ee(()=>{m(v)},[m,v]),e.jsx(F.span,{...n,ref:g,style:{pointerEvents:"none"},children:qt(r.value)?e.jsx(e.Fragment,{children:c}):u})});jt.displayName=yt;var ra="SelectIcon",wt=a.forwardRef((t,o)=>{const{__scopeSelect:s,children:i,...l}=t;return e.jsx(F.span,{"aria-hidden":!0,...l,ref:o,children:i||"â–¼"})});wt.displayName=ra;var na="SelectPortal",St=t=>e.jsx(ms,{asChild:!0,...t});St.displayName=na;var oe="SelectContent",Nt=a.forwardRef((t,o)=>{const s=te(oe,t.__scopeSelect),[i,l]=a.useState();if(ee(()=>{l(new DocumentFragment)},[]),!s.open){const u=i;return u?nt.createPortal(e.jsx(Ct,{scope:t.__scopeSelect,children:e.jsx(ke.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),u):null}return e.jsx(kt,{...t,ref:o})});Nt.displayName=oe;var Y=10,[Ct,se]=ue(oe),oa="SelectContentImpl",ia=gs("SelectContent.RemoveScroll"),kt=a.forwardRef((t,o)=>{const{__scopeSelect:s,position:i="item-aligned",onCloseAutoFocus:l,onEscapeKeyDown:u,onPointerDownOutside:c,side:n,sideOffset:r,align:m,alignOffset:v,arrowPadding:g,collisionBoundary:S,collisionPadding:b,sticky:x,hideWhenDetached:d,avoidCollisions:f,...y}=t,p=te(oe,s),[h,_]=a.useState(null),[V,H]=a.useState(null),C=z(o,w=>_(w)),[j,N]=a.useState(null),[I,D]=a.useState(null),T=Te(s),[P,q]=a.useState(!1),k=a.useRef(!1);a.useEffect(()=>{if(h)return ns(h)},[h]),os();const A=a.useCallback(w=>{const[L,...G]=T().map(R=>R.ref.current),[M]=G.slice(-1),E=document.activeElement;for(const R of w)if(R===E||(R==null||R.scrollIntoView({block:"nearest"}),R===L&&V&&(V.scrollTop=0),R===M&&V&&(V.scrollTop=V.scrollHeight),R==null||R.focus(),document.activeElement!==E))return},[T,V]),O=a.useCallback(()=>A([j,h]),[A,j,h]);a.useEffect(()=>{P&&O()},[P,O]);const{onOpenChange:B,triggerPointerDownPosRef:W}=p;a.useEffect(()=>{if(h){let w={x:0,y:0};const L=M=>{var E,R;w={x:Math.abs(Math.round(M.pageX)-(((E=W.current)==null?void 0:E.x)??0)),y:Math.abs(Math.round(M.pageY)-(((R=W.current)==null?void 0:R.y)??0))}},G=M=>{w.x<=10&&w.y<=10?M.preventDefault():h.contains(M.target)||B(!1),document.removeEventListener("pointermove",L),W.current=null};return W.current!==null&&(document.addEventListener("pointermove",L),document.addEventListener("pointerup",G,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",L),document.removeEventListener("pointerup",G,{capture:!0})}}},[h,B,W]),a.useEffect(()=>{const w=()=>B(!1);return window.addEventListener("blur",w),window.addEventListener("resize",w),()=>{window.removeEventListener("blur",w),window.removeEventListener("resize",w)}},[B]);const[ie,fe]=$t(w=>{const L=T().filter(E=>!E.disabled),G=L.find(E=>E.ref.current===document.activeElement),M=Ft(L,w,G);M&&setTimeout(()=>M.ref.current.focus())}),Pe=a.useCallback((w,L,G)=>{const M=!k.current&&!G;(p.value!==void 0&&p.value===L||M)&&(N(w),M&&(k.current=!0))},[p.value]),Ee=a.useCallback(()=>h==null?void 0:h.focus(),[h]),le=a.useCallback((w,L,G)=>{const M=!k.current&&!G;(p.value!==void 0&&p.value===L||M)&&D(w)},[p.value]),xe=i==="popper"?De:Tt,pe=xe===De?{side:n,sideOffset:r,align:m,alignOffset:v,arrowPadding:g,collisionBoundary:S,collisionPadding:b,sticky:x,hideWhenDetached:d,avoidCollisions:f}:{};return e.jsx(Ct,{scope:s,content:h,viewport:V,onViewportChange:H,itemRefCallback:Pe,selectedItem:j,onItemLeave:Ee,itemTextRefCallback:le,focusSelectedItem:O,selectedItemText:I,position:i,isPositioned:P,searchRef:ie,children:e.jsx(is,{as:ia,allowPinchZoom:!0,children:e.jsx(ls,{asChild:!0,trapped:p.open,onMountAutoFocus:w=>{w.preventDefault()},onUnmountAutoFocus:$(l,w=>{var L;(L=p.trigger)==null||L.focus({preventScroll:!0}),w.preventDefault()}),children:e.jsx(cs,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:u,onPointerDownOutside:c,onFocusOutside:w=>w.preventDefault(),onDismiss:()=>p.onOpenChange(!1),children:e.jsx(xe,{role:"listbox",id:p.contentId,"data-state":p.open?"open":"closed",dir:p.dir,onContextMenu:w=>w.preventDefault(),...y,...pe,onPlaced:()=>q(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:$(y.onKeyDown,w=>{const L=w.ctrlKey||w.altKey||w.metaKey;if(w.key==="Tab"&&w.preventDefault(),!L&&w.key.length===1&&fe(w.key),["ArrowUp","ArrowDown","Home","End"].includes(w.key)){let M=T().filter(E=>!E.disabled).map(E=>E.ref.current);if(["ArrowUp","End"].includes(w.key)&&(M=M.slice().reverse()),["ArrowUp","ArrowDown"].includes(w.key)){const E=w.target,R=M.indexOf(E);M=M.slice(R+1)}setTimeout(()=>A(M)),w.preventDefault()}})})})})})})});kt.displayName=oa;var la="SelectItemAlignedPosition",Tt=a.forwardRef((t,o)=>{const{__scopeSelect:s,onPlaced:i,...l}=t,u=te(oe,s),c=se(oe,s),[n,r]=a.useState(null),[m,v]=a.useState(null),g=z(o,C=>v(C)),S=Te(s),b=a.useRef(!1),x=a.useRef(!0),{viewport:d,selectedItem:f,selectedItemText:y,focusSelectedItem:p}=c,h=a.useCallback(()=>{if(u.trigger&&u.valueNode&&n&&m&&d&&f&&y){const C=u.trigger.getBoundingClientRect(),j=m.getBoundingClientRect(),N=u.valueNode.getBoundingClientRect(),I=y.getBoundingClientRect();if(u.dir!=="rtl"){const E=I.left-j.left,R=N.left-E,ae=C.left-R,re=C.width+ae,Re=Math.max(re,j.width),_e=window.innerWidth-Y,Ae=Ye(R,[Y,Math.max(Y,_e-Re)]);n.style.minWidth=re+"px",n.style.left=Ae+"px"}else{const E=j.right-I.right,R=window.innerWidth-N.right-E,ae=window.innerWidth-C.right-R,re=C.width+ae,Re=Math.max(re,j.width),_e=window.innerWidth-Y,Ae=Ye(R,[Y,Math.max(Y,_e-Re)]);n.style.minWidth=re+"px",n.style.right=Ae+"px"}const D=S(),T=window.innerHeight-Y*2,P=d.scrollHeight,q=window.getComputedStyle(m),k=parseInt(q.borderTopWidth,10),A=parseInt(q.paddingTop,10),O=parseInt(q.borderBottomWidth,10),B=parseInt(q.paddingBottom,10),W=k+A+P+B+O,ie=Math.min(f.offsetHeight*5,W),fe=window.getComputedStyle(d),Pe=parseInt(fe.paddingTop,10),Ee=parseInt(fe.paddingBottom,10),le=C.top+C.height/2-Y,xe=T-le,pe=f.offsetHeight/2,w=f.offsetTop+pe,L=k+A+w,G=W-L;if(L<=le){const E=D.length>0&&f===D[D.length-1].ref.current;n.style.bottom="0px";const R=m.clientHeight-d.offsetTop-d.offsetHeight,ae=Math.max(xe,pe+(E?Ee:0)+R+O),re=L+ae;n.style.height=re+"px"}else{const E=D.length>0&&f===D[0].ref.current;n.style.top="0px";const ae=Math.max(le,k+d.offsetTop+(E?Pe:0)+pe)+G;n.style.height=ae+"px",d.scrollTop=L-le+d.offsetTop}n.style.margin=`${Y}px 0`,n.style.minHeight=ie+"px",n.style.maxHeight=T+"px",i==null||i(),requestAnimationFrame(()=>b.current=!0)}},[S,u.trigger,u.valueNode,n,m,d,f,y,u.dir,i]);ee(()=>h(),[h]);const[_,V]=a.useState();ee(()=>{m&&V(window.getComputedStyle(m).zIndex)},[m]);const H=a.useCallback(C=>{C&&x.current===!0&&(h(),p==null||p(),x.current=!1)},[h,p]);return e.jsx(da,{scope:s,contentWrapper:n,shouldExpandOnScrollRef:b,onScrollButtonChange:H,children:e.jsx("div",{ref:r,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:e.jsx(F.div,{...l,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...l.style}})})})});Tt.displayName=la;var ca="SelectPopperPosition",De=a.forwardRef((t,o)=>{const{__scopeSelect:s,align:i="start",collisionPadding:l=Y,...u}=t,c=Ie(s);return e.jsx(ds,{...c,...u,ref:o,align:i,collisionPadding:l,style:{boxSizing:"border-box",...u.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});De.displayName=ca;var[da,We]=ue(oe,{}),Le="SelectViewport",It=a.forwardRef((t,o)=>{const{__scopeSelect:s,nonce:i,...l}=t,u=se(Le,s),c=We(Le,s),n=z(o,u.onViewportChange),r=a.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),e.jsx(ke.Slot,{scope:s,children:e.jsx(F.div,{"data-radix-select-viewport":"",role:"presentation",...l,ref:n,style:{position:"relative",flex:1,overflow:"hidden auto",...l.style},onScroll:$(l.onScroll,m=>{const v=m.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:S}=c;if(S!=null&&S.current&&g){const b=Math.abs(r.current-v.scrollTop);if(b>0){const x=window.innerHeight-Y*2,d=parseFloat(g.style.minHeight),f=parseFloat(g.style.height),y=Math.max(d,f);if(y<x){const p=y+b,h=Math.min(x,p),_=p-h;g.style.height=h+"px",g.style.bottom==="0px"&&(v.scrollTop=_>0?_:0,g.style.justifyContent="flex-end")}}}r.current=v.scrollTop})})})]})});It.displayName=Le;var Pt="SelectGroup",[ua,pa]=ue(Pt),ha=a.forwardRef((t,o)=>{const{__scopeSelect:s,...i}=t,l=Fe();return e.jsx(ua,{scope:s,id:l,children:e.jsx(F.div,{role:"group","aria-labelledby":l,...i,ref:o})})});ha.displayName=Pt;var Et="SelectLabel",Rt=a.forwardRef((t,o)=>{const{__scopeSelect:s,...i}=t,l=pa(Et,s);return e.jsx(F.div,{id:l.id,...i,ref:o})});Rt.displayName=Et;var Se="SelectItem",[ma,_t]=ue(Se),At=a.forwardRef((t,o)=>{const{__scopeSelect:s,value:i,disabled:l=!1,textValue:u,...c}=t,n=te(Se,s),r=se(Se,s),m=n.value===i,[v,g]=a.useState(u??""),[S,b]=a.useState(!1),x=z(o,p=>{var h;return(h=r.itemRefCallback)==null?void 0:h.call(r,p,i,l)}),d=Fe(),f=a.useRef("touch"),y=()=>{l||(n.onValueChange(i),n.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(ma,{scope:s,value:i,disabled:l,textId:d,isSelected:m,onItemTextChange:a.useCallback(p=>{g(h=>h||((p==null?void 0:p.textContent)??"").trim())},[]),children:e.jsx(ke.ItemSlot,{scope:s,value:i,disabled:l,textValue:v,children:e.jsx(F.div,{role:"option","aria-labelledby":d,"data-highlighted":S?"":void 0,"aria-selected":m&&S,"data-state":m?"checked":"unchecked","aria-disabled":l||void 0,"data-disabled":l?"":void 0,tabIndex:l?void 0:-1,...c,ref:x,onFocus:$(c.onFocus,()=>b(!0)),onBlur:$(c.onBlur,()=>b(!1)),onClick:$(c.onClick,()=>{f.current!=="mouse"&&y()}),onPointerUp:$(c.onPointerUp,()=>{f.current==="mouse"&&y()}),onPointerDown:$(c.onPointerDown,p=>{f.current=p.pointerType}),onPointerMove:$(c.onPointerMove,p=>{var h;f.current=p.pointerType,l?(h=r.onItemLeave)==null||h.call(r):f.current==="mouse"&&p.currentTarget.focus({preventScroll:!0})}),onPointerLeave:$(c.onPointerLeave,p=>{var h;p.currentTarget===document.activeElement&&((h=r.onItemLeave)==null||h.call(r))}),onKeyDown:$(c.onKeyDown,p=>{var _;((_=r.searchRef)==null?void 0:_.current)!==""&&p.key===" "||(Js.includes(p.key)&&y(),p.key===" "&&p.preventDefault())})})})})});At.displayName=Se;var ge="SelectItemText",Ot=a.forwardRef((t,o)=>{const{__scopeSelect:s,className:i,style:l,...u}=t,c=te(ge,s),n=se(ge,s),r=_t(ge,s),m=aa(ge,s),[v,g]=a.useState(null),S=z(o,y=>g(y),r.onItemTextChange,y=>{var p;return(p=n.itemTextRefCallback)==null?void 0:p.call(n,y,r.value,r.disabled)}),b=v==null?void 0:v.textContent,x=a.useMemo(()=>e.jsx("option",{value:r.value,disabled:r.disabled,children:b},r.value),[r.disabled,r.value,b]),{onNativeOptionAdd:d,onNativeOptionRemove:f}=m;return ee(()=>(d(x),()=>f(x)),[d,f,x]),e.jsxs(e.Fragment,{children:[e.jsx(F.span,{id:r.textId,...u,ref:S}),r.isSelected&&c.valueNode&&!c.valueNodeHasChildren?nt.createPortal(u.children,c.valueNode):null]})});Ot.displayName=ge;var Mt="SelectItemIndicator",Dt=a.forwardRef((t,o)=>{const{__scopeSelect:s,...i}=t;return _t(Mt,s).isSelected?e.jsx(F.span,{"aria-hidden":!0,...i,ref:o}):null});Dt.displayName=Mt;var Ue="SelectScrollUpButton",Lt=a.forwardRef((t,o)=>{const s=se(Ue,t.__scopeSelect),i=We(Ue,t.__scopeSelect),[l,u]=a.useState(!1),c=z(o,i.onScrollButtonChange);return ee(()=>{if(s.viewport&&s.isPositioned){let n=function(){const m=r.scrollTop>0;u(m)};const r=s.viewport;return n(),r.addEventListener("scroll",n),()=>r.removeEventListener("scroll",n)}},[s.viewport,s.isPositioned]),l?e.jsx(Bt,{...t,ref:c,onAutoScroll:()=>{const{viewport:n,selectedItem:r}=s;n&&r&&(n.scrollTop=n.scrollTop-r.offsetHeight)}}):null});Lt.displayName=Ue;var Be="SelectScrollDownButton",Ut=a.forwardRef((t,o)=>{const s=se(Be,t.__scopeSelect),i=We(Be,t.__scopeSelect),[l,u]=a.useState(!1),c=z(o,i.onScrollButtonChange);return ee(()=>{if(s.viewport&&s.isPositioned){let n=function(){const m=r.scrollHeight-r.clientHeight,v=Math.ceil(r.scrollTop)<m;u(v)};const r=s.viewport;return n(),r.addEventListener("scroll",n),()=>r.removeEventListener("scroll",n)}},[s.viewport,s.isPositioned]),l?e.jsx(Bt,{...t,ref:c,onAutoScroll:()=>{const{viewport:n,selectedItem:r}=s;n&&r&&(n.scrollTop=n.scrollTop+r.offsetHeight)}}):null});Ut.displayName=Be;var Bt=a.forwardRef((t,o)=>{const{__scopeSelect:s,onAutoScroll:i,...l}=t,u=se("SelectScrollButton",s),c=a.useRef(null),n=Te(s),r=a.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return a.useEffect(()=>()=>r(),[r]),ee(()=>{var v;const m=n().find(g=>g.ref.current===document.activeElement);(v=m==null?void 0:m.ref.current)==null||v.scrollIntoView({block:"nearest"})},[n]),e.jsx(F.div,{"aria-hidden":!0,...l,ref:o,style:{flexShrink:0,...l.style},onPointerDown:$(l.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(i,50))}),onPointerMove:$(l.onPointerMove,()=>{var m;(m=u.onItemLeave)==null||m.call(u),c.current===null&&(c.current=window.setInterval(i,50))}),onPointerLeave:$(l.onPointerLeave,()=>{r()})})}),ga="SelectSeparator",Vt=a.forwardRef((t,o)=>{const{__scopeSelect:s,...i}=t;return e.jsx(F.div,{"aria-hidden":!0,...i,ref:o})});Vt.displayName=ga;var Ve="SelectArrow",fa=a.forwardRef((t,o)=>{const{__scopeSelect:s,...i}=t,l=Ie(s),u=te(Ve,s),c=se(Ve,s);return u.open&&c.position==="popper"?e.jsx(us,{...l,...i,ref:o}):null});fa.displayName=Ve;var xa="SelectBubbleInput",Ht=a.forwardRef(({__scopeSelect:t,value:o,...s},i)=>{const l=a.useRef(null),u=z(i,l),c=ot(o);return a.useEffect(()=>{const n=l.current;if(!n)return;const r=window.HTMLSelectElement.prototype,v=Object.getOwnPropertyDescriptor(r,"value").set;if(c!==o&&v){const g=new Event("change",{bubbles:!0});v.call(n,o),n.dispatchEvent(g)}},[c,o]),e.jsx(F.select,{...s,style:{...ps,...s.style},ref:u,defaultValue:o})});Ht.displayName=xa;function qt(t){return t===""||t===void 0}function $t(t){const o=hs(t),s=a.useRef(""),i=a.useRef(0),l=a.useCallback(c=>{const n=s.current+c;o(n),function r(m){s.current=m,window.clearTimeout(i.current),m!==""&&(i.current=window.setTimeout(()=>r(""),1e3))}(n)},[o]),u=a.useCallback(()=>{s.current="",window.clearTimeout(i.current)},[]);return a.useEffect(()=>()=>window.clearTimeout(i.current),[]),[s,l,u]}function Ft(t,o,s){const l=o.length>1&&Array.from(o).every(m=>m===o[0])?o[0]:o,u=s?t.indexOf(s):-1;let c=va(t,Math.max(u,0));l.length===1&&(c=c.filter(m=>m!==s));const r=c.find(m=>m.textValue.toLowerCase().startsWith(l.toLowerCase()));return r!==s?r:void 0}function va(t,o){return t.map((s,i)=>t[(o+i)%t.length])}var ba=xt,Kt=bt,ya=jt,ja=wt,wa=St,Gt=Nt,Sa=It,zt=Rt,Wt=At,Na=Ot,Ca=Dt,Yt=Lt,Qt=Ut,Zt=Vt;const et=ba,tt=ya,He=a.forwardRef(({className:t,children:o,...s},i)=>e.jsxs(Kt,{ref:i,className:Q("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...s,children:[o,e.jsx(ja,{asChild:!0,children:e.jsx(Ne,{className:"h-4 w-4 opacity-50"})})]}));He.displayName=Kt.displayName;const Xt=a.forwardRef(({className:t,...o},s)=>e.jsx(Yt,{ref:s,className:Q("flex cursor-default items-center justify-center py-1",t),...o,children:e.jsx(dt,{className:"h-4 w-4"})}));Xt.displayName=Yt.displayName;const Jt=a.forwardRef(({className:t,...o},s)=>e.jsx(Qt,{ref:s,className:Q("flex cursor-default items-center justify-center py-1",t),...o,children:e.jsx(Ne,{className:"h-4 w-4"})}));Jt.displayName=Qt.displayName;const qe=a.forwardRef(({className:t,children:o,position:s="popper",...i},l)=>e.jsx(wa,{children:e.jsxs(Gt,{ref:l,className:Q("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:s,...i,children:[e.jsx(Xt,{}),e.jsx(Sa,{className:Q("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:o}),e.jsx(Jt,{})]})}));qe.displayName=Gt.displayName;const ka=a.forwardRef(({className:t,...o},s)=>e.jsx(zt,{ref:s,className:Q("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...o}));ka.displayName=zt.displayName;const ce=a.forwardRef(({className:t,children:o,...s},i)=>e.jsxs(Wt,{ref:i,className:Q("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...s,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Ca,{children:e.jsx(Ge,{className:"h-4 w-4"})})}),e.jsx(Na,{children:o})]}));ce.displayName=Wt.displayName;const Ta=a.forwardRef(({className:t,...o},s)=>e.jsx(Zt,{ref:s,className:Q("-mx-1 my-1 h-px bg-muted",t),...o}));Ta.displayName=Zt.displayName;const st={Crna:"#231f20",Siva:"#d1d5db",Tirkizna:"#00ab98",Cijan:"#00aeef",Plava:"#387bbf",LjubiÄasta:"#8358a4",Bijela:"#ffffff",Roza:"#e78fab",Mint:"#a1d7c0"},Ia=({productId:t})=>{const[o,s]=a.useState([]),[i,l]=a.useState(!1),[u,c]=a.useState(!1),{toast:n}=Ke(),[r,m]=a.useState({}),v=async()=>{l(!0);try{const x=await vs(t);s(x);const d={};x.forEach(f=>{d[f.id]={regular_price:f.regular_price,stock_quantity:f.stock_quantity??0,manage_stock:f.manage_stock??!0,sale_price:f.sale_price}}),m(d)}catch(x){console.error(x),n({title:"Error",description:"Failed to load variations",variant:"destructive"})}finally{l(!1)}};a.useEffect(()=>{t&&v()},[t]);const g=(x,d,f)=>{m(y=>({...y,[x]:{...y[x],[d]:f}}))},S=async x=>{c(!0);try{const d=r[x];await Qe(t,x,d),n({title:"Success",description:"Variation updated"}),v()}catch{n({title:"Error",description:"Failed to update variation",variant:"destructive"})}finally{c(!1)}},b=async()=>{c(!0);try{const x=o.map(d=>Qe(t,d.id,r[d.id]));await Promise.all(x),n({title:"Success",description:"All variations updated"}),v()}catch{n({title:"Error",description:"Failed to update some variations",variant:"destructive"})}finally{c(!1)}};return i?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 gap-4",children:[e.jsx(J,{className:"w-10 h-10 animate-spin text-primary"}),e.jsx("p",{className:"text-sm font-bold text-slate-400 uppercase tracking-widest",children:"UÄitavanje varijacija..."})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-black text-slate-900 tracking-tight",children:"Varijacije"}),e.jsxs("p",{className:"text-sm text-slate-500 font-medium mt-0.5",children:[o.length," pronaÄ‘enih varijacija"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(K,{variant:"outline",size:"sm",onClick:v,className:"flex-1 sm:flex-initial h-10 rounded-xl font-bold text-xs uppercase tracking-wider border-slate-200 hover:bg-white",children:[e.jsx(Ms,{className:"w-4 h-4 sm:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"OsvjeÅ¾i"})]}),e.jsxs(K,{onClick:b,disabled:u,className:"flex-1 sm:flex-initial h-10 px-6 rounded-xl font-black text-xs uppercase tracking-widest shadow-lg",children:[u?e.jsx(J,{className:"w-4 h-4 animate-spin mr-2"}):e.jsx(we,{className:"w-4 h-4 mr-2 stroke-[3]"}),"Spremi Sve"]})]})]}),e.jsxs("div",{className:"grid gap-4",children:[o.length===0&&e.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center border-2 border-dashed border-slate-200 rounded-3xl bg-slate-50/50",children:[e.jsx("div",{className:"h-16 w-16 rounded-full bg-slate-100 flex items-center justify-center mb-4",children:e.jsx(Ne,{className:"w-8 h-8 text-slate-300"})}),e.jsx("h4",{className:"text-lg font-black text-slate-900 mb-2",children:"Nema Varijacija"}),e.jsx("p",{className:"text-slate-500 max-w-sm font-medium",children:"Prvo dodajte atribute u WooCommerce-u kako biste mogli upravljati varijacijama."})]}),o.map(x=>e.jsx(Pa,{variation:x,editData:r[x.id],onChange:(d,f)=>g(x.id,d,f),onSave:()=>S(x.id),saving:u},x.id))]})]})},Pa=({variation:t,editData:o,onChange:s,onSave:i,saving:l})=>{var v;const[u,c]=a.useState(!1),n=(v=t.attributes)==null?void 0:v.find(g=>st[g.option]),r=n?st[n.option]:null,m=t.attributes.map(g=>`${g.option}`).join(" / ");return o?e.jsx(me,{className:"border-none shadow-xl shadow-slate-200/50 rounded-[2rem] overflow-hidden transition-all hover:shadow-2xl hover:shadow-primary/5",children:e.jsxs(Es,{open:u,onOpenChange:c,children:[e.jsx("div",{className:"p-5 sm:p-6",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("div",{className:"flex items-start justify-between gap-4",children:e.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[e.jsx(Rs,{asChild:!0,children:e.jsx(K,{variant:"ghost",size:"icon",className:"h-10 w-10 rounded-xl shrink-0 hover:bg-slate-100",children:u?e.jsx(dt,{className:"w-5 h-5 text-slate-600"}):e.jsx(Ne,{className:"w-5 h-5 text-slate-600"})})}),e.jsxs("div",{className:"flex-1 min-w-0 pt-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r&&e.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-slate-200 shadow-inner shrink-0",style:{backgroundColor:r}}),e.jsx("h4",{className:"font-black text-slate-900 text-base leading-tight truncate",children:m||`Varijacija #${t.id}`})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx(Os,{variant:t.stock_status==="instock"?"default":"destructive",className:"text-[10px] uppercase tracking-tighter font-black px-2 py-0.5 rounded-full",children:t.stock_status==="instock"?"Dostupno":"Rasprodano"}),e.jsxs("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:["ID: ",t.id]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(U,{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Zaliha"}),e.jsx(X,{type:"number",className:"h-12 rounded-xl bg-slate-50 border-slate-100 focus:bg-white transition-all font-bold text-center",value:o.stock_quantity??0,onChange:g=>s("stock_quantity",parseInt(g.target.value)||0)})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(U,{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Cijena (â‚¬)"}),e.jsx(X,{type:"number",step:"0.01",className:"h-12 rounded-xl bg-slate-50 border-slate-100 focus:bg-white transition-all font-bold text-center",value:o.regular_price,onChange:g=>s("regular_price",g.target.value)})]}),e.jsx("div",{className:"col-span-2 sm:col-span-1 flex items-end",children:e.jsxs(K,{onClick:i,disabled:l,className:"w-full h-12 rounded-xl font-black text-xs uppercase tracking-widest shadow-lg hover:shadow-primary/30 transition-all",children:[l?e.jsx(J,{className:"w-4 h-4 animate-spin mr-2"}):e.jsx(we,{className:"w-4 h-4 mr-2 stroke-[3]"}),"Spremi"]})})]})]})}),e.jsx(_s,{children:e.jsx("div",{className:"px-5 sm:px-6 pb-6 pt-2 border-t border-slate-100 bg-slate-50/50",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 pt-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(U,{className:"text-sm font-bold text-slate-700",children:"SniÅ¾ena Cijena (â‚¬)"}),e.jsx(X,{type:"number",step:"0.01",className:"h-11 rounded-xl bg-white border-slate-200 font-bold",value:o.sale_price||"",onChange:g=>s("sale_price",g.target.value),placeholder:"Unesite sniÅ¾enu cijenu"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-xl border border-slate-200",children:[e.jsxs("div",{children:[e.jsx(U,{className:"text-sm font-bold text-slate-700",children:"Upravljaj Zalihom"}),e.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:"OmoguÄ‡i praÄ‡enje zaliha"})]}),e.jsx("input",{type:"checkbox",checked:o.manage_stock,onChange:g=>s("manage_stock",g.target.checked),className:"w-5 h-5 rounded border-slate-300 text-primary focus:ring-primary cursor-pointer"})]})]})})})]})}):null},Ea=({product:t,initialImage:o,onSuccess:s})=>{const[i,l]=a.useState(""),[u,c]=a.useState(""),[n,r]=a.useState(""),[m,v]=a.useState(""),[g,S]=a.useState(""),[b,x]=a.useState(""),[d,f]=a.useState([]),[y,p]=a.useState("instock"),[h,_]=a.useState(!1),[V,H]=a.useState(0),[C,j]=a.useState("simple"),[N,I]=a.useState(!1),{toast:D}=Ke(),[T,P]=a.useState("general");a.useEffect(()=>{var k,A;if(t){l(t.name),c(t.sale_price||""),r(t.regular_price||t.price),v(t.description),S(t.short_description),x(((A=(k=t.images)==null?void 0:k[0])==null?void 0:A.src)||"");const O=t.images||[];O.length>1?f(O.slice(1).map(B=>B.src)):f([]),p(t.stock_status),_(t.manage_stock),H(t.stock_quantity??0),j(t.type==="variable"?"variable":"simple")}else l(""),c(""),r(""),v(""),S(""),x(o||""),f([]),p("instock"),_(!0),H(0),j("simple")},[t,o]);const q=async k=>{I(!0);const A=[];b&&A.push({src:b}),d.length>0&&d.forEach(B=>A.push({src:B}));const O={name:i,regular_price:n,description:m,short_description:g,stock_status:y,manage_stock:h,images:A,type:C};h&&C==="simple"&&(O.stock_quantity=V),u&&(O.sale_price=u!==n?u:"");try{t?(await ys(t.id,O),D({title:"Success",description:"Product updated successfully"})):(await js(O),D({title:"Success",description:"Product created successfully"})),s()}catch(B){console.error("Product save error:",B),D({title:"Error",description:"Failed to save product. Check permissions.",variant:"destructive"})}finally{I(!1)}};return e.jsxs("div",{className:"space-y-6 pb-10",children:[e.jsx("div",{className:"sticky top-0 z-20 bg-white/95 backdrop-blur-xl border-b border-slate-200/60 p-4 sm:p-6 -mx-4 sm:mx-0 rounded-none sm:rounded-2xl shadow-lg",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-black text-slate-900 tracking-tight truncate",children:t?i||"UreÄ‘ivanje Proizvoda":"Novi Proizvod"}),e.jsx("p",{className:"text-sm text-slate-500 font-medium mt-1",children:C==="variable"?"Varijabilni Proizvod":"Jednostavni Proizvod"})]}),e.jsxs(K,{onClick:()=>q(),disabled:N,className:"w-full sm:w-auto h-12 px-8 rounded-xl font-black text-xs uppercase tracking-widest shadow-xl shadow-primary/20",children:[N?e.jsx(J,{className:"w-4 h-4 animate-spin mr-2"}):e.jsx(we,{className:"w-4 h-4 mr-2 stroke-[3]"}),"Spremi"]})]})}),e.jsxs(it,{value:T,onValueChange:P,className:"w-full",children:[e.jsxs(lt,{className:"grid w-full grid-cols-2 sm:grid-cols-4 gap-2 bg-slate-50 p-2 rounded-2xl border border-slate-100 mb-8 h-auto",children:[e.jsxs(de,{value:"general",className:"data-[state=active]:bg-white data-[state=active]:shadow-lg rounded-xl py-3 font-bold text-xs uppercase tracking-wider transition-all",children:[e.jsx(Bs,{className:"w-4 h-4 sm:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Osnovno"})]}),e.jsxs(de,{value:"inventory",className:"data-[state=active]:bg-white data-[state=active]:shadow-lg rounded-xl py-3 font-bold text-xs uppercase tracking-wider transition-all",children:[e.jsx(Ds,{className:"w-4 h-4 sm:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Zalihe"})]}),e.jsxs(de,{value:"media",className:"data-[state=active]:bg-white data-[state=active]:shadow-lg rounded-xl py-3 font-bold text-xs uppercase tracking-wider transition-all",children:[e.jsx(bs,{className:"w-4 h-4 sm:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Mediji"})]}),e.jsxs(de,{value:"variations",disabled:C!=="variable",className:"data-[state=active]:bg-white data-[state=active]:shadow-lg rounded-xl py-3 font-bold text-xs uppercase tracking-wider transition-all disabled:opacity-40",children:[e.jsx(Us,{className:"w-4 h-4 sm:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Varijacije"})]})]}),e.jsx(je,{value:"general",className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-500",children:e.jsxs(me,{children:[e.jsxs(ve,{children:[e.jsx(be,{children:"Basic Information"}),e.jsx(Ze,{children:"Product identity and pricing"})]}),e.jsxs(ye,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(U,{children:"Product Name"}),e.jsx(X,{value:i,onChange:k=>l(k.target.value),placeholder:"e.g. Vintage T-Shirt",className:"text-lg font-medium"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(U,{children:"Product Type"}),e.jsxs(et,{value:C,onValueChange:k=>j(k),children:[e.jsx(He,{children:e.jsx(tt,{})}),e.jsxs(qe,{children:[e.jsx(ce,{value:"simple",children:"Simple Product"}),e.jsx(ce,{value:"variable",children:"Variable Product (Sizes/Colors)"})]})]})]})]}),C==="simple"?e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 p-4 bg-gray-50 rounded-lg border",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(U,{children:"Regular Price (â‚¬)"}),e.jsx(X,{type:"number",value:n,onChange:k=>r(k.target.value),placeholder:"0.00"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(U,{children:["Sale Price (â‚¬) ",e.jsx("span",{className:"text-gray-400 font-normal",children:"(Optional)"})]}),e.jsx(X,{type:"number",value:u,onChange:k=>c(k.target.value),placeholder:"0.00"})]})]}):e.jsxs("div",{className:"p-4 bg-blue-50 text-blue-800 rounded-lg border border-blue-100 mb-6",children:[e.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[e.jsx(Ls,{className:"w-4 h-4"}),"Variable Product Pricing"]}),e.jsxs("p",{className:"text-sm mt-1 opacity-90",children:["Prices for variable products are managed in the ",e.jsx("strong",{children:"Variations"})," tab."]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(U,{children:"Short Description"}),e.jsx("div",{className:"h-44 mb-8",children:e.jsx(Je,{theme:"snow",value:g,onChange:S,className:"h-32 bg-white"})})]}),e.jsxs("div",{className:"space-y-2 pt-4",children:[e.jsx(U,{children:"Full Description"}),e.jsx("div",{className:"h-80 mb-8",children:e.jsx(Je,{theme:"snow",value:m,onChange:v,className:"h-64 bg-white"})})]})]})]})}),e.jsx(je,{value:"inventory",className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-500",children:e.jsxs(me,{children:[e.jsx(ve,{children:e.jsx(be,{children:"Inventory Management"})}),e.jsxs(ye,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-gray-50",children:[e.jsxs("div",{children:[e.jsx(U,{className:"text-base",children:"Manage Stock Level"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Enable stock management at product level"})]}),e.jsx(ze,{checked:h,onCheckedChange:_})]}),h&&C==="simple"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(U,{children:"Stock Quantity"}),e.jsx(X,{type:"number",value:V,onChange:k=>H(parseInt(k.target.value)),className:"max-w-xs"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(U,{children:"Stock Status"}),e.jsxs(et,{value:y,onValueChange:p,children:[e.jsx(He,{className:"max-w-xs",children:e.jsx(tt,{})}),e.jsxs(qe,{children:[e.jsx(ce,{value:"instock",children:"In Stock"}),e.jsx(ce,{value:"outofstock",children:"Out of Stock"}),e.jsx(ce,{value:"onbackorder",children:"On Backorder"})]})]})]})]})]})}),e.jsx(je,{value:"media",className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-500",children:e.jsxs(me,{children:[e.jsx(ve,{children:e.jsx(be,{children:"Product Images"})}),e.jsxs(ye,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(U,{children:"Main Product Image"}),e.jsx(Xe,{value:b,onChange:x})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(U,{children:"Gallery Images"}),e.jsx(Xe,{value:d,onChange:f,multiple:!0})]})]})]})}),e.jsx(je,{value:"variations",className:"animate-in fade-in slide-in-from-bottom-2 duration-500",children:e.jsxs(me,{children:[e.jsxs(ve,{children:[e.jsx(be,{children:"Variations"}),e.jsx(Ze,{children:"Manage stock and prices for each variation (Size, Color, etc.)"})]}),e.jsx(ye,{children:t&&C==="variable"?t.type==="variable"?e.jsx(Ia,{productId:t.id}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center space-y-4",children:[e.jsx("div",{className:"p-4 bg-yellow-50 text-yellow-800 rounded-full",children:e.jsx(we,{className:"w-8 h-8"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:"Save Changes First"}),e.jsx("p",{className:"text-gray-500 max-w-sm mx-auto",children:"You've changed the product type to Variable. Please save the product to enable variation management."})]}),e.jsx(K,{onClick:()=>q(),disabled:N,children:N?e.jsx(J,{className:"w-4 h-4 animate-spin mr-2"}):"Save & Continue"})]}):e.jsx("div",{className:"text-center py-8 text-gray-500",children:'Set product type to "Variable Product" under General tab to manage variations.'})})]})})]})]})},Ya=()=>{const{id:t}=ws(),o=Ss(),{toast:s}=Ke(),[i,l]=a.useState(!1),[u,c]=a.useState(null),[n,r]=a.useState("selection"),[m,v]=a.useState("");a.useEffect(()=>{t?(g(parseInt(t)),r("editor")):r("selection")},[t]);const g=async b=>{l(!0);try{const x=await Ns(b);c(x)}catch(x){console.error(x),s({title:"Error",description:"Could not load product",variant:"destructive"}),o("/admin/products")}finally{l(!1)}},S=()=>{o("/admin/products")};return i?e.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:e.jsx(J,{className:"w-8 h-8 animate-spin text-primary"})}):e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 pb-24",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(K,{variant:"ghost",size:"icon",onClick:()=>o("/admin/products"),children:e.jsx(ct,{className:"w-5 h-5"})}),e.jsx("h1",{className:"text-2xl font-bold font-heading",children:t?"Edit Product":"Create New Product"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4 sm:p-8",children:[!t&&n==="selection"&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 py-8",children:[e.jsxs("div",{className:"border-2 border-dashed border-gray-200 rounded-xl p-8 text-center hover:border-blue-500 hover:bg-blue-50 cursor-pointer transition-all group",onClick:()=>r("generator"),children:[e.jsx("div",{className:"bg-blue-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:bg-blue-200 transition-colors",children:e.jsx(Me,{className:"w-8 h-8 text-blue-600"})}),e.jsx("h3",{className:"text-xl font-bold mb-2",children:"Generate with AI"}),e.jsx("p",{className:"text-gray-500",children:"Use Nano Banana to create a unique design based on Roko's style."})]}),e.jsxs("div",{className:"border-2 border-dashed border-gray-200 rounded-xl p-8 text-center hover:border-gray-400 hover:bg-gray-50 cursor-pointer transition-all group",onClick:()=>r("editor"),children:[e.jsx("div",{className:"bg-gray-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:bg-gray-200 transition-colors",children:e.jsx(As,{className:"w-8 h-8 text-gray-600"})}),e.jsx("h3",{className:"text-xl font-bold mb-2",children:"Manual Upload"}),e.jsx("p",{className:"text-gray-500",children:"Skip generation and upload your own product images manually."})]})]}),!t&&n==="generator"&&e.jsx(Vs,{onImageSelect:b=>{v(b),r("preview")},onCancel:()=>r("selection")}),!t&&n==="preview"&&e.jsx(Zs,{generatedDesign:m,onConfirm:b=>{v(b),r("editor")},onBack:()=>r("generator")}),(t||n==="editor")&&e.jsx(Ea,{product:u,initialImage:m,onSuccess:S})]})]})};export{Ya as default};
