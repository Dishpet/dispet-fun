import{l as O,r as o,b as F,j as e,B as r,L as k,a as h,F as m,J as p,ar as x,K as u,g as G,I as f,w as I}from"./index-Mvo6Ptgr.js";import{a as D,u as J,c as U}from"./posts-CZJDSGa_.js";import{S as _}from"./save-C54y08cx.js";import{M as H}from"./map-pin-V5ktS1Fb.js";import{M as q}from"./mail-FK-ZrGcq.js";import{P as y}from"./plus-ByKOxwJt.js";import{T as C}from"./trash-2-CvWyGsgo.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=O("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),S="config-contact",d={location:"Split, Croatia",emails:["info@dispet.fun"],phones:["(+385) 555 6666"]};function ee(){const[g,j]=o.useState(null),[n,l]=o.useState(d),[v,N]=o.useState(!0),[b,w]=o.useState(!1),{toast:c}=F();o.useEffect(()=>{P()},[]);const P=async()=>{N(!0);try{const a=await D(S,!0);if(a){j(a);try{const s=a.content.rendered.replace(/<[^>]*>?/gm,""),t=JSON.parse(s);if(t&&typeof t=="object"){const i=t.emails||(t.email?[t.email]:d.emails),B=t.phones||(t.phone?[t.phone]:d.phones);l({location:t.location||d.location,emails:i,phones:B})}}catch(s){console.error("Failed to parse contact config",s)}}}catch(a){console.error(a),c({title:"Greška",description:"Neuspješno učitavanje konfiguracije",variant:"destructive"})}finally{N(!1)}},M=async()=>{w(!0);const a=JSON.stringify(n);try{if(g)await J(g.id,{content:a,status:"publish"}),c({title:"Spremljeno",description:"Kontakt podaci su ažurirani."});else{const s=await U({title:"System Config: Contact",content:a,slug:S,status:"publish"});j(s),c({title:"Kreirano",description:"Konfiguracija je inicijalizirana."})}}catch(s){console.error(s),c({title:"Greška",description:"Neuspješno spremanje",variant:"destructive"})}finally{w(!1)}},E=()=>l({...n,emails:[...n.emails,""]}),T=a=>{const s=n.emails.filter((t,i)=>i!==a);l({...n,emails:s})},K=(a,s)=>{const t=[...n.emails];t[a]=s,l({...n,emails:t})},L=()=>l({...n,phones:[...n.phones,""]}),z=a=>{const s=n.phones.filter((t,i)=>i!==a);l({...n,phones:s})},A=(a,s)=>{const t=[...n.phones];t[a]=s,l({...n,phones:t})};return e.jsxs("div",{className:"space-y-10 animate-fade-in pb-20 max-w-5xl",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4 border-b border-slate-200/60 pb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-black font-heading text-slate-900 tracking-tight uppercase",children:"KONTAKT INFO"}),e.jsx("p",{className:"text-slate-500 text-lg font-medium mt-1",children:"Upravljajte kontakt informacijama prikazanim na webu."})]}),e.jsxs(r,{onClick:M,disabled:v||b,className:"h-12 px-8 rounded-full bg-primary hover:bg-primary/90 font-black text-xs uppercase tracking-widest shadow-lg shadow-primary/10 transition-all text-white",children:[b?e.jsx(k,{className:"w-4 h-4 mr-2 animate-spin"}):e.jsx(_,{className:"w-4 h-4 mr-2 stroke-[3]"}),"Spremi Promjene"]})]}),v?e.jsxs("div",{className:"py-20 flex flex-col items-center justify-center gap-4",children:[e.jsx(k,{className:"w-8 h-8 animate-spin text-slate-200"}),e.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400",children:"Učitavanje podataka..."})]}):e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs(h,{className:"border-none shadow-xl shadow-blue-500/5 bg-white rounded-[2.5rem] overflow-hidden",children:[e.jsx(m,{className:"p-8 pb-4",children:e.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[e.jsx("div",{className:"h-12 w-12 rounded-2xl bg-blue-50 flex items-center justify-center",children:e.jsx(H,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx(p,{className:"text-xl font-black text-slate-900 uppercase tracking-tight",children:"Lokacija"}),e.jsx(x,{className:"text-xs font-bold uppercase tracking-wider text-slate-400",children:"Adresa Sjedišta"})]})]})}),e.jsx(u,{className:"p-8 pt-0 space-y-6",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{className:"text-[10px] uppercase font-black text-slate-400 ml-1 tracking-widest",children:"Adresa / Grad"}),e.jsxs("div",{className:"relative",children:[e.jsx(R,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-300"}),e.jsx(f,{value:n.location,onChange:a=>l({...n,location:a.target.value}),placeholder:"npr. Split, Hrvatska",className:"h-12 pl-11 rounded-full bg-slate-50 border-none shadow-sm font-bold"})]})]})})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs(h,{className:"border-none shadow-xl shadow-indigo-500/5 bg-white rounded-[2.5rem] overflow-hidden",children:[e.jsx(m,{className:"p-8 pb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"h-12 w-12 rounded-2xl bg-indigo-50 flex items-center justify-center",children:e.jsx(q,{className:"w-6 h-6 text-indigo-600"})}),e.jsxs("div",{children:[e.jsx(p,{className:"text-xl font-black text-slate-900 uppercase tracking-tight",children:"Email"}),e.jsx(x,{className:"text-xs font-bold uppercase tracking-wider text-slate-400",children:"Kontakt Adrese"})]})]}),e.jsxs(r,{variant:"ghost",size:"sm",onClick:E,className:"h-8 rounded-lg font-bold text-[10px] uppercase tracking-wider text-indigo-600 hover:bg-indigo-50",children:[e.jsx(y,{className:"w-3.5 h-3.5 mr-1"})," Dodaj"]})]})}),e.jsx(u,{className:"p-8 pt-0 space-y-4",children:n.emails.map((a,s)=>e.jsxs("div",{className:"flex gap-2 group",children:[e.jsx(f,{value:a,onChange:t=>K(s,t.target.value),placeholder:"info@primjer.com",className:"h-12 rounded-full bg-slate-50 border-none shadow-sm font-bold flex-1 px-6"}),e.jsx(r,{variant:"ghost",size:"icon",onClick:()=>T(s),disabled:n.emails.length===1,className:"h-12 w-12 rounded-full text-rose-500 hover:bg-rose-50 hover:text-rose-600 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(C,{className:"w-4 h-4"})})]},s))})]}),e.jsxs(h,{className:"border-none shadow-xl shadow-emerald-500/5 bg-white rounded-[2.5rem] overflow-hidden",children:[e.jsx(m,{className:"p-8 pb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"h-12 w-12 rounded-2xl bg-emerald-50 flex items-center justify-center",children:e.jsx(I,{className:"w-6 h-6 text-emerald-600"})}),e.jsxs("div",{children:[e.jsx(p,{className:"text-xl font-black text-slate-900 uppercase tracking-tight",children:"Telefon"}),e.jsx(x,{className:"text-xs font-bold uppercase tracking-wider text-slate-400",children:"Kontakt Brojevi"})]})]}),e.jsxs(r,{variant:"ghost",size:"sm",onClick:L,className:"h-8 rounded-full font-bold text-[10px] uppercase tracking-wider text-emerald-600 hover:bg-emerald-50",children:[e.jsx(y,{className:"w-3.5 h-3.5 mr-1"})," Dodaj"]})]})}),e.jsx(u,{className:"p-8 pt-0 space-y-4",children:n.phones.map((a,s)=>e.jsxs("div",{className:"flex gap-2 group",children:[e.jsx(f,{value:a,onChange:t=>A(s,t.target.value),placeholder:"+385 91 123 4567",className:"h-12 rounded-full bg-slate-50 border-none shadow-sm font-bold flex-1 px-6"}),e.jsx(r,{variant:"ghost",size:"icon",onClick:()=>z(s),disabled:n.phones.length===1,className:"h-12 w-12 rounded-full text-rose-500 hover:bg-rose-50 hover:text-rose-600 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(C,{className:"w-4 h-4"})})]},s))})]})]})]})]})}export{ee as default};
