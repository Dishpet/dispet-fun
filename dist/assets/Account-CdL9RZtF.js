import{u as p,d as f,r as l,j as e,L as g,a as c,U as N,B as a,x as v}from"./index-Bv_SlmY7.js";import{P as b}from"./PageHero-BUaBnQ3N.js";import{P as d}from"./package-Cp4vxgx8.js";import"./clouds-top-B3AemNNE.js";const O=()=>{const i=p(),{user:s,logout:m,isAuthenticated:x}=f(),[r,o]=l.useState([]),[h,n]=l.useState(!0);l.useEffect(()=>{(async()=>{if(s!=null&&s.id)try{o([])}catch(j){console.error("Failed to fetch orders",j)}finally{n(!1)}else n(!1)})()},[x,i,s]);const u=()=>{m(),i("/")};return h?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(g,{className:"w-12 h-12 animate-spin text-primary"})}):e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(b,{title:"Moj Račun"}),e.jsx("div",{className:"container px-4 py-12",children:e.jsxs("div",{className:"grid lg:grid-cols-4 gap-8 max-w-7xl mx-auto",children:[e.jsx("div",{className:"lg:col-span-1 space-y-4",children:e.jsxs(c,{className:"p-6 shadow-soft",children:[e.jsxs("div",{className:"flex flex-col items-center text-center mb-6",children:[e.jsx("div",{className:"w-20 h-20 bg-primary/10 rounded-full flex items-center justify-center mb-4",children:e.jsx(N,{className:"w-10 h-10 text-primary"})}),e.jsxs("h3",{className:"font-heading text-xl",children:[(s==null?void 0:s.first_name)||"Gost"," ",s==null?void 0:s.last_name]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:(s==null?void 0:s.email)||"Niste prijavljeni"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(a,{variant:"ghost",className:"w-full justify-start text-primary bg-primary/5",children:[e.jsx(d,{className:"w-4 h-4 mr-2"}),"Narudžbe"]}),e.jsxs(a,{variant:"ghost",className:"w-full justify-start text-destructive hover:text-destructive hover:bg-destructive/10",onClick:u,children:[e.jsx(v,{className:"w-4 h-4 mr-2"}),"Odjava"]})]})]})}),e.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[e.jsx("h2",{className:"text-2xl font-heading mb-6",children:"Povijest narudžbi"}),r.length>0?e.jsx("div",{className:"space-y-4",children:r.map(t=>e.jsx(c,{className:"p-4 md:p-6 shadow-soft hover-lift",children:e.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-bold",children:["Narudžba #",t.id]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(t.date_created).toLocaleDateString()})]}),e.jsx("div",{children:e.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${t.status==="completed"?"bg-green-100 text-green-800":t.status==="processing"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:t.status})}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-bold",children:[t.total," ",t.currency]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.line_items.length," proizvoda"]})]}),e.jsx(a,{variant:"outline",size:"sm",children:"Detalji"})]})},t.id))}):e.jsxs(c,{className:"p-12 text-center shadow-soft",children:[e.jsx(d,{className:"w-16 h-16 mx-auto text-muted mb-4"}),e.jsx("h3",{className:"text-xl font-heading mb-2",children:"Nemate narudžbi"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Još niste napravili nijednu narudžbu."}),e.jsx(a,{onClick:()=>i("/shop"),children:"Krenite u kupovinu"})]})]})]})})]})};export{O as default};
