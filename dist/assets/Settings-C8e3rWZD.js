import{l as n,r as t,b as U,c as V,j as e,B as v,L as S,a as p,F as C,J as P,ar as I,K as A,g as m,I as h}from"./index-iH9KOgAQ.js";import{a as O,u as W,c as B}from"./posts-ChxMAtfm.js";import{B as z}from"./badge-D-2cyXeb.js";import{S as E}from"./save-DgU4cVBj.js";import{G as D}from"./globe-CdA0Qg57.js";import{I as F}from"./info-DyCxXdJV.js";import{L as T}from"./lock-CAVxMug5.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=n("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=n("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=n("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=n("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),K="config-api-keys",L={googleApiKey:""};function se(){const[u,g]=t.useState(null),[c,j]=t.useState(L),[r,o]=t.useState(""),[d,x]=t.useState(""),[f,b]=t.useState(!0),[w,N]=t.useState(!1),{toast:i}=U();t.useEffect(()=>{o(localStorage.getItem("wp_username")||""),x(localStorage.getItem("wp_app_password")||""),y()},[]);const y=async()=>{b(!0);try{const s=await O(K,!0);if(s){g(s);const a=V(s.content.rendered);a&&typeof a=="object"&&j({...L,...a})}}catch(s){console.error(s)}finally{b(!1)}},_=()=>{localStorage.setItem("wp_username",r),localStorage.setItem("wp_app_password",d),i({title:"Veza Spremljena",description:"Vjerodajnice su lokalno pospremljene."}),y()},G=async()=>{N(!0);const s=r.trim(),a=d.replace(/\s/g,"");s&&(o(s),localStorage.setItem("wp_username",s)),a&&(x(a),localStorage.setItem("wp_app_password",a));const k=JSON.stringify(c);try{if(u)await W(u.id,{content:k}),i({title:"Spremljeno",description:"Konfiguracija je ažurirana."});else{const l=await B({title:"System Config: API Keys",content:k,slug:K,status:"private"});g(l),i({title:"Kreirano",description:"Konfiguracija je inicijalizirana."})}}catch(l){console.error(l),i({title:"Greška pri spremanju",description:l instanceof Error?l.message:"Nepoznata greška",variant:"destructive"})}finally{N(!1)}};return e.jsxs("div",{className:"space-y-10 animate-fade-in pb-20 max-w-5xl",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4 border-b border-slate-200/60 pb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl md:text-4xl font-black font-heading text-slate-900 tracking-tight uppercase",children:"POSTAVKE"}),e.jsx("p",{className:"text-slate-500 text-sm md:text-lg font-medium mt-1",children:"Upravljajte konfiguracijom sustava i API vezama."})]}),e.jsxs(v,{onClick:G,disabled:f||w,className:"w-full md:w-auto h-12 px-8 rounded-full bg-primary hover:bg-primary/90 font-black text-xs uppercase tracking-widest shadow-lg shadow-primary/10 transition-all",children:[w?e.jsx(S,{className:"w-4 h-4 mr-2 animate-spin"}):e.jsx(E,{className:"w-4 h-4 mr-2 stroke-[3]"}),"Spremi Sve"]})]}),f&&!r?e.jsxs("div",{className:"py-20 flex flex-col items-center justify-center gap-4",children:[e.jsx(S,{className:"w-8 h-8 animate-spin text-slate-200"}),e.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400",children:"Učitavanje postavki..."})]}):e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs(p,{className:"border-none shadow-xl shadow-blue-500/5 bg-white rounded-[2.5rem] overflow-hidden",children:[e.jsx(C,{className:"p-6 md:p-8 pb-4",children:e.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[e.jsx("div",{className:"h-12 w-12 rounded-2xl bg-blue-50 flex items-center justify-center",children:e.jsx(D,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx(P,{className:"text-xl font-black text-slate-900 uppercase tracking-tight",children:"WordPress Veza"}),e.jsx(I,{className:"text-xs font-bold uppercase tracking-wider text-slate-400",children:"Lokalne vjerodajnice"})]})]})}),e.jsxs(A,{className:"p-6 md:p-8 pt-0 space-y-6",children:[e.jsxs("div",{className:"p-4 bg-blue-50/50 rounded-2xl border border-blue-100/50 flex items-start gap-4",children:[e.jsx(F,{className:"w-5 h-5 text-blue-500 shrink-0 mt-0.5"}),e.jsxs("p",{className:"text-xs font-medium text-blue-700 leading-relaxed",children:['Potrebno za spremanje postavki. Kreirajte "Application Password" pod Users ',">"," Profile u WordPressu."]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{className:"text-[10px] uppercase font-black text-slate-400 ml-1 tracking-widest",children:"Korisničko Ime"}),e.jsx(h,{value:r,onChange:s=>o(s.target.value),placeholder:"npr. admin",className:"h-12 rounded-full bg-slate-50 border-none shadow-sm font-bold px-6"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{className:"text-[10px] uppercase font-black text-slate-400 ml-1 tracking-widest",children:"Application Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(T,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-300"}),e.jsx(h,{type:"password",value:d,onChange:s=>x(s.target.value),placeholder:"xxxx xxxx xxxx xxxx",className:"h-12 pl-11 rounded-full bg-slate-50 border-none shadow-sm font-bold"})]})]})]}),e.jsxs(v,{variant:"outline",onClick:_,className:"w-full h-11 rounded-full border-slate-100 font-bold text-[10px] uppercase tracking-widest hover:bg-slate-50",children:[e.jsx(q,{className:"w-3.5 h-3.5 mr-2"}),"Ažuriraj Lokalnu Vezu"]})]})]}),e.jsxs(p,{className:"border-none shadow-xl shadow-indigo-500/5 bg-white rounded-[2.5rem] overflow-hidden",children:[e.jsx(C,{className:"p-6 md:p-8 pb-4",children:e.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[e.jsx("div",{className:"h-12 w-12 rounded-2xl bg-indigo-50 flex items-center justify-center",children:e.jsx(J,{className:"w-6 h-6 text-indigo-600"})}),e.jsxs("div",{children:[e.jsx(P,{className:"text-xl font-black text-slate-900 uppercase tracking-tight",children:"Google AI"}),e.jsx(I,{className:"text-xs font-bold uppercase tracking-wider text-slate-400",children:"Gemini API Konfiguracija"})]})]})}),e.jsxs(A,{className:"p-6 md:p-8 pt-0 space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{className:"text-[10px] uppercase font-black text-slate-400 ml-1 tracking-widest",children:"Primarni API Ključ"}),e.jsx(h,{type:"password",value:c.googleApiKey,onChange:s=>j({...c,googleApiKey:s.target.value}),placeholder:"AIzaSy...",className:"h-12 rounded-full bg-slate-50 border-none shadow-sm font-mono text-xs px-6"}),e.jsx("p",{className:"text-[10px] text-slate-400 font-medium px-1",children:"Zalijepite ključ iz Google AI Studia. Ostavite prazno za zadani sistemski ključ."})]}),e.jsxs("div",{className:"pt-4 space-y-4",children:[e.jsx("label",{className:"text-[10px] font-black uppercase text-slate-400 tracking-[0.2em] ml-1",children:"Status Sustava"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-2xl border border-slate-100/50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(M,{className:"w-4 h-4 text-slate-400"}),e.jsx("span",{className:"text-xs font-bold text-slate-600 uppercase tracking-tighter",children:"Backend Proxy"})]}),e.jsx(z,{className:"bg-emerald-100 text-emerald-700 border-none text-[9px] font-black uppercase tracking-widest",children:"Active"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-2xl border border-slate-100/50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(R,{className:"w-4 h-4 text-slate-400"}),e.jsx("span",{className:"text-xs font-bold text-slate-600 uppercase tracking-tighter",children:"WooCommerce Secrets"})]}),e.jsx(z,{className:"bg-slate-200 text-slate-600 border-none text-[9px] font-black uppercase tracking-widest px-2.5",children:"Secured"})]})]})]})]})]}),e.jsx(p,{className:"lg:col-span-2 border-none shadow-lg shadow-slate-200/20 bg-slate-900 rounded-[2.5rem] overflow-hidden",children:e.jsxs("div",{className:"p-6 md:p-10 flex flex-col md:flex-row items-center justify-between gap-8 text-white",children:[e.jsxs("div",{className:"space-y-2 text-center md:text-left",children:[e.jsx("h3",{className:"text-xl font-black uppercase tracking-tight",children:"Okruženje Sustava"}),e.jsx("p",{className:"text-slate-400 text-sm font-medium",children:"Ove vrijednosti su zadane pri build-u i ne mogu se mjenjati ovdje."})]}),e.jsx("div",{className:"flex flex-col gap-4 min-w-[300px]",children:e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[9px] font-black uppercase text-slate-500 tracking-widest ml-1",children:"WordPress API URL"}),e.jsx("div",{className:"h-10 px-4 bg-white/5 backdrop-blur-md rounded-xl border border-white/10 flex items-center",children:e.jsx("code",{className:"text-xs font-bold text-primary truncate",children:"https://wp.dispet.fun/wp-json"})})]})})]})})]})]})}export{se as default};
